webpackJsonp([1],{100:function(e,t,n){function i(e){n(98)}var o=n(22)(n(53),n(102),i,"data-v-558b8ed5",null);e.exports=o.exports},101:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},102:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"landing",staticClass:"Landing",class:["slide-"+e.animationDetails.currentStep,{loaded:e.animationDetails.isLoaded,scrolled:e.animationDetails.isScrolled,scrolling:e.animationDetails.isScrolling}]},[n("div",{staticClass:"background",class:{isOff:!e.animationDetails.active}},[n("Three",{attrs:{isStarted:e.loaded,isActive:e.animationDetails.active,step:e.animationDetails.renderStep},on:{loaded:e.onLoaded,progress:e.onProgress}}),e._v(" "),n("div",{staticClass:"background-over"}),e._v(" "),n("div",{staticClass:"background-over-hard"})],1),e._v(" "),n("div",{staticClass:"background-map"}),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),n("section",{attrs:{id:"slide-2"}}),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),n("div",{staticClass:"loader"},[n("div",{staticClass:"dot"}),e._v(" "),n("div",{staticClass:"dot"}),e._v(" "),n("div",{staticClass:"dot"}),e._v(" "),n("p",[e._v(e._s(e.progress)+" %")])]),e._v(" "),n("div",{staticClass:"Menu",class:{isActive:e.animationDetails.currentStep>0}},[e._m(5),e._v(" "),e._m(6)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"slide-0"}},[n("h1",[e._v("Przeprowadzamy siÄ™.")]),e._v(" "),n("h2",[e._v("lorem ipsum dolor sit amet")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"slide-1"}},[n("h1",[e._v("hello world - slide 2")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"slide-3"}},[n("h1",[e._v("hello world - slide 4")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mouse"},[n("div",{staticClass:"scroll-wheel"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"scroll"},[n("p",[e._v("keep scrolling...")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"logo"},[n("span",[e._v("PGS Software")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("About")]),e._v(" "),n("li",[e._v("Contact")])])}]}},103:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"scene",staticClass:"Scene"})},staticRenderFns:[]}},14:function(e,t,n){"use strict";function i(e,t,n){var i=t.clone().sub(e),o=i.length();return i=i.normalize().multiplyScalar(o*n),e.clone().add(i)}function o(e,t,n){return new u.Vector3(e,t,n)}function a(e,t){return(new u.Vector3).subVectors(e,t)}function s(){return/iphone|ipod|android|ie|blackberry|fennec/i.test(navigator.userAgent)}function r(e,t,n){var i=t.getPointAt(e),o=t.getTangentAt(e).normalize(),a=new u.Vector3,s=n||new u.Vector3(0,0,-1),r=Math.acos(s.dot(o));return a.crossVectors(s,o).normalize(),{axis:a,radians:r,position:i}}function c(e){e.children.length>0&&e.children.forEach(function(e){e.updateMatrix(),e.geometry.applyMatrix(e.matrix),e.matrix.identity(),e.scale.set(1,1,1)})}function l(e,t,n){var i=new u.Mesh(e,new u.MeshStandardMaterial);i.scale.set(t,t,t),n&&i.position.copy(o(n[0],n[1],n[2])),i.updateMatrix(),i.geometry.applyMatrix(i.matrix),i.matrix.identity(),i.scale.set(1,1,1),c(i);for(var a=new u.SplineCurve3(i.geometry.vertices),s=new u.LineBasicMaterial({color:16711920}),r=new u.Geometry,l=a.getPoints(50),d=0;d<l.length;d++)r.vertices.push(l[d]);return{spline:a,line:new u.Line(r,s)}}function d(e){var t=0,n=0,i=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),i=t*h,o=n*h,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(i=e.deltaX),(i||o)&&e.deltaMode&&(1===e.deltaMode?(i*=m,o*=m):(i*=p,o*=p)),i&&!t&&(t=i<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:i,pixelY:o}}t.e=i,t.b=o,t.f=a,t.a=s,t.g=r,t.d=c,t.c=l,t.h=d;var u=n(9),h=10,m=40,p=800},43:function(e,t,n){function i(e){n(99)}var o=n(22)(n(54),n(103),i,"data-v-ba65df48",null);e.exports=o.exports},44:function(e,t,n){"use strict";var i=n(24),o=n(104),a=n(100),s=n.n(a),r=n(43),c=n.n(r);i.a.use(o.a),t.a=new o.a({routes:[{path:"/",name:"Landing",component:s.a},{path:"/debug",name:"Three",component:c.a,props:{isActive:!0,isDebug:!0,isStarted:!0,step:2}}]})},45:function(e,t,n){function i(e){n(97)}var o=n(22)(n(52),n(101),i,null,null);e.exports=o.exports},46:function(e,t,n){"use strict";function i(e,t){var i=v.b,o=new h.Object3D;if(t.edges&&!w){var a=new h.EdgesGeometry(e),s=new h.LineSegments(a,v.f.edgesMat);s.scale.set(i,i,i),t.position&&s.position.copy(n.i(f.b)(t.position[0],t.position[1],t.position[2])),o.add(s)}if(t.wireframe){var r=new h.Mesh(e,v.f.wireframeMat);r.scale.set(i,i,i),t.position&&r.position.copy(n.i(f.b)(t.position[0],t.position[1],t.position[2])),o.add(r)}if(t.faces&&!w){var c=new h.Mesh(e,v.f.facesMat);c.scale.set(i,i,i),t.position&&c.position.copy(n.i(f.b)(t.position[0],t.position[1],t.position[2])),o.add(c)}return o}var o=n(55),a=n.n(o),s=n(25),r=n.n(s),c=n(26),l=n.n(c),d=n(27),u=n.n(d),h=n(9),m=n(42),p=(n.n(m),n(41)),f=(n.n(p),n(14)),v=(n(49),n(47)),g=n(48),b=n(50),w=n.i(f.a)(),y=function(){function e(t){l()(this,e),console.log("Animation():",t),this.scene=new h.Scene,this.clock=new h.Clock,this.models={},this.currentModel=t.model||"wpt",this.currentStep=t.step||0,this.container=t.container,this.flags={isActive:t.active,isDebug:t.debug,exposeScene:t.exposeScene,isInitialized:!1,isLoaded:!1,isTransition:!1},this.flags.exposeScene&&(console.warn("--- Exposing scene to global!"),window.THREE=h,window.scene=this.scene)}return u()(e,[{key:"addCamera",value:function(){var e=new h.PerspectiveCamera(20,this.WIDTH/this.HEIGHT,1,1e5);e.lookAt(this.scene.position),this.camera=e}},{key:"addHelpers",value:function(){var e=new h.AxisHelper(10),t=new h.GridHelper(1e3,1e3);this.scene.add(e),this.scene.add(t)}},{key:"loadModels",value:function(e){var t=this,o=new h.LoadingManager,a=new h.JSONLoader(o);return this.setCamera(n.i(f.b)(0,0,100),n.i(f.b)(0,0,0)),this.animate(),new r.a(function(s){var r=new h.Object3D,c=new h.Object3D,l={},d={splines:[]};g.a.filter(function(e){return!w||!e.mobileHidden}).forEach(function(e){a.load(""+v.a.models+e.model,function(t){r.add(i(t,e))})}),g.b.filter(function(e){return!w||!e.mobileHidden}).forEach(function(e){a.load(""+v.a.models+e.model,function(t){c.add(i(t,e))})}),a.load(""+v.a.models+g.c.truck.model,function(e){d.models=[],d.splines={wpt:[],wroclavia:[]};for(var t=0;t<g.c.truck.count;t++){var n=i(e,g.c.truck);n.position.x=t/2,d.models.push(n)}}),[""+v.a.models+g.c.path1.model,""+v.a.models+g.c.path2.model,""+v.a.models+g.c.path3.model].forEach(function(e){a.load(e,function(e){var t=n.i(f.c)(e,v.b,g.c.path1.position);d.splines.wpt.push(t.spline)})}),a.load(""+v.a.models+g.d.bus.model,function(e){l.model=new h.Object3D;var t=i(e,g.d.bus);n.i(f.d)(t),l.model.add(t)}),a.load(""+v.a.models+g.d.busPath.model,function(e){var t=n.i(f.c)(e,v.b,g.d.busPath.position);l.spline=t.spline,l.line=t.line}),[""+v.a.models+g.d.path1.model,""+v.a.models+g.d.path2.model,""+v.a.models+g.d.path3.model].forEach(function(e){a.load(e,function(e){var t=n.i(f.c)(e,v.b,g.c.path1.position);d.splines.wroclavia.push(t.spline)})}),o.onProgress=function(t,i,o){console.log("Loading file: "+t+" Loaded. "+i+" of "+o+" files."),n.i(m.isFunction)(e)&&e(i/o)},o.onLoad=function(){t.models.wpt=r,t.models.wroclavia=c,t.models.bus=l,t.models.truck=d,t.flags.isLoaded=!0,s()}})}},{key:"initRenderer",value:function(){var e=new h.WebGLRenderer({alpha:!0,antialias:!0});e.shadowMap.soft=!1,e.shadowMap.enabled=!0,e.setSize(this.WIDTH,this.HEIGHT),this.container.appendChild(e.domElement),this.renderer=e}},{key:"initEvents",value:function(){this.flags.isDebug?document.addEventListener("keydown",this.onKeyDown.bind(this)):document.addEventListener("mousemove",n.i(m.throttle)(this.onDocumentMouseMove.bind(this),50),!1),window.addEventListener("resize",this.updateSize.bind(this),!1)}},{key:"updateSize",value:function(){this.WIDTH=this.container.offsetWidth,this.HEIGHT=this.container.offsetHeight,this.flags.isInitialized&&(this.camera.aspect=this.WIDTH/this.HEIGHT,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.render())}},{key:"onDocumentMouseMove",value:function(e){if(!this.flags.isTransition){this.moveProgress=e.clientX/this.WIDTH,this.moveOffset=(e.clientY-this.HEIGHT)/2/(this.HEIGHT/2);var t=v.c[this.currentStep][1],i=v.c[this.currentStep][2];this.cameraMove=n.i(f.e)(t,i,this.moveProgress),this.cameraMove.y=(this.cameraMove.y-2*this.moveOffset)*v.d,this.cursor={x:e.clientX,y:e.clientY,xProgress:e.clientX/this.WIDTH,yProgress:e.clientY/this.Height}}}},{key:"onKeyDown",value:function(e){switch(e.keyCode){case 83:console.log("camera position:",this.camera.position.x.toFixed(2)+", "+this.camera.position.y.toFixed(2)+", "+this.camera.position.z.toFixed(2)),localStorage.setItem("savedCamera",a()({cameraPosition:this.camera.position,targetPosition:this.controls.target}));break;case 68:var t=JSON.parse(localStorage.getItem("savedCamera"));t&&(this.camera.position.copy(t.cameraPosition),this.camera.lookAt(t.targetPosition),this.controls.target.copy(t.targetPosition))}}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"animate",value:function(){if(this.flags.isActive){if(this.flags.isLoaded){if(this.cameraMove&&!this.flags.isDebug){var e=n.i(f.f)(this.cameraMove,this.camera.position);this.camera.position.x+=e.x*v.e,this.camera.position.y+=e.y*v.e,this.camera.position.z+=e.z*v.e,this.camera.lookAt(this.cameraTarget)}this.flags.isDebug&&(this.controls.update(),this.camera.lookAt(v.c[this.currentStep][0]))}this.flags.debug&&this.controls.update(),this.render()}requestAnimationFrame(this.animate.bind(this))}},{key:"setSceneModel",value:function(e){this.cameraTarget=v.c[this.currentStep][0],"wroclavia"===e?this.scene.add(this.models.wroclavia):this.scene.add(this.models.wpt)}},{key:"setCamera",value:function(e,t){this.camera.position.copy(e),this.camera.lookAt(t)}},{key:"setCameraByStep",value:function(e,t){console.log("setCameraByStep",e,t);var i=void 0!==e?e:this.currentStep,o=this.cursor?this.cursor.xProgress:.5;console.log("progress",o),this.setCamera(v.c[i][1],v.c[i][0]),t&&(this.cameraMove=n.i(f.e)(v.c[i][1],v.c[i][2],o))}},{key:"setActive",value:function(e){console.log("setActive",e),this.flags.isActive=e}},{key:"setStep",value:function(e,t){console.log("setStep",t);var i=this.cursor?this.cursor.xProgress:.5;console.log("progress",i),this.currentStep=e,t&&(this.cameraMove=n.i(f.e)(v.c[e][1],v.c[e][2],i))}},{key:"startTrucksAnimation",value:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wpt",i=0;i<g.c.truck.count;i++)!function(i){var o=e.models.truck.models[i],a={p:0},s="wpt"===t?e.models.truck.splines.wpt:e.models.truck.splines.wroclavia,r=s[Math.floor(Math.random()*s.length)];e.trucksAnimation=p.TweenMax.to(a,"wpt"===t?20:10,{p:1,repeat:-1,ease:p.Power0.easeNone,delay:.5*i+.5*Math.random(),onStart:function(){e.scene.getObjectById(o.id)||e.scene.add(o)},onUpdate:function(){var e=n.i(f.g)(a.p,r);o.position.copy(e.position),o.quaternion.setFromAxisAngle(e.axis,e.radians)},onComplete:function(){e.scene.remove(o)}})}(i)}},{key:"moveBus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;this.scene.getObjectById(this.models.bus.model.id)||this.scene.add(this.models.bus.model);var t=n.i(f.g)(e,this.models.bus.spline);this.models.bus.model.position.copy(t.position),this.models.bus.model.quaternion.setFromAxisAngle(t.axis,t.radians)}},{key:"startBusAnimation",value:function(){var e=this,t={progress:.4};p.TweenMax.to(t,40,{progress:1,repeat:10,onStart:function(){e.scene.getObjectById(e.models.bus.model.id)||e.scene.add(e.models.bus.model)},onUpdate:function(){var i=n.i(f.g)(t.progress,e.models.bus.spline);e.models.bus.model.position.copy(i.position),e.models.bus.model.quaternion.setFromAxisAngle(i.axis,i.radians)},onComplete:function(){e.scene.remove(e.models.bus.model)}})}},{key:"switchBuildings",value:function(e){console.log("switchBuildings()",e);var t=this,i={p:0,y:0},o="wroclavia"===e?t.models.wpt:t.models.wroclavia,a="wroclavia"===e?t.models.wroclavia:t.models.wpt,s={p:0,y:2*Math.PI*1},r=!1;this.flags.isTransition=!0,this.cameraMove=n.i(f.b)(0,120,0),console.log("removing all trucks!"),p.TweenMax.killAll();for(var c=0;c<g.c.truck.count;c++){var l=t.models.truck.models[c];t.scene.remove(l)}p.TweenMax.to(i,1,{p:1,y:2*Math.PI*-1*1,ease:p.Power4.easeIn,onUpdate:function(){o.rotation.y=i.y,i.p>.5&&!r&&(t.startTrucksAnimation(e),t.scene.add(a),p.TweenMax.to(s,1,{p:1,y:0,ease:p.Power4.easeOut,onUpdate:function(){a.rotation.y=s.y},onComplete:function(){t.flags.isTransition=!1,t.setStep(t.currentStep,!0)}}),r=!0)},onComplete:function(){t.scene.remove(o)}})}},{key:"addDebug",value:function(){var e=new h.OctahedronGeometry(.2,3),t=new h.MeshBasicMaterial({color:16777215}),n=new h.Mesh(e,t);n.position.copy(v.c[this.currentStep][0]),this.debug={sphere:n},this.scene.add(n)}},{key:"addGUI",value:function(){function e(){v.c[n.currentStep][0].copy(o.point0),n.debug.sphere.position.copy(v.c[n.currentStep][0]),n.cameraTarget.copy(v.c[n.currentStep][0])}function t(){this.point0={x:v.c[n.currentStep][0].x,y:v.c[n.currentStep][0].y,z:v.c[n.currentStep][0].z},this.pointA={x:v.c[n.currentStep][1].x,y:v.c[n.currentStep][1].y,z:v.c[n.currentStep][1].z},this.pointB={x:v.c[n.currentStep][2].x,y:v.c[n.currentStep][2].y,z:v.c[n.currentStep][2].z}}var n=this,i=new dat.GUI,o=new t,a=i.addFolder("Point (0,0)");a.add(o.point0,"x").step(.1).onChange(e),a.add(o.point0,"y").step(.1).onChange(e),a.add(o.point0,"z").step(.1).onChange(e)}},{key:"addControls",value:function(){this.controls=new b.a(this.camera,this.container),this.controls.minDistance=0,this.controls.maxDistance=200,this.controls.target.copy(v.c[this.currentStep][0])}},{key:"init",value:function(e){var t=this;return new r.a(function(n){t.updateSize(),t.addCamera(),t.initRenderer(),t.render(),t.loadModels(e).then(function(){t.initEvents(),t.setSceneModel(t.currentModel),t.setCameraByStep(t.currentStep,!0),t.flags.isInitialized=!0,t.updateSize(),n()}),t.flags.isDebug&&(console.warn("--- DEBUG MODE ---"),t.addGUI(),t.addDebug(),t.addControls())})}}]),e}();t.a=y},47:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"f",function(){return v});var i=n(9),o=n(14),a={basic:1752220,faces:331806,accent:3447003},s=.01,r=.1,c=.8,l={models:"static/models/"},d=[[n.i(o.b)(-2.4,1.6,-1.4),n.i(o.b)(-15.14,78.55,105.96),n.i(o.b)(-57.59,42.19,73.77)],[n.i(o.b)(-.3,.9,-1.7),n.i(o.b)(-1.28,.89,5.41),n.i(o.b)(.56,5.53,20.24)],[n.i(o.b)(4.4,2,2),n.i(o.b)(-13.03,12.97,-30.59),n.i(o.b)(-51.45,29.01,23.44)]],u=new i.LineBasicMaterial({color:a.basic,linewidth:2}),h=new i.LineBasicMaterial({color:a.accent,lineWidth:4,blending:i.AdditiveBlending}),m=new i.MeshBasicMaterial({color:a.basic,side:i.DoubleSide,transparent:!0,opacity:.2,wireframe:!0,blending:i.AdditiveBlending}),p=new i.MeshBasicMaterial({color:a.faces,side:i.DoubleSide,transparent:!0,opacity:.2}),f=new i.MeshBasicMaterial({color:a.accent,side:i.DoubleSide,transparent:!0,opacity:.9,blending:i.AdditiveBlending}),v={edgesMat:u,edgesMatAccent:h,wireframeMat:m,facesMat:p,facesMatAccent:f}},48:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s});var i=[{model:"wpt-buildings.json",edges:!0,wireframe:!0,faces:!1,mobileHidden:!0},{model:"wpt-terrain.json",edges:!1,wireframe:!0,faces:!1,position:[0,-.25,0],mobileHidden:!0},{model:"wpt-green.json",edges:!0,wireframe:!1,faces:!0,mobileHidden:!0},{model:"wpt-building-alfa.json",edges:!0,wireframe:!0,faces:!0},{model:"wpt-roads.json",edges:!1,wireframe:!0,faces:!0}],o=[{model:"wroclavia-buildings.json",edges:!0,wireframe:!0,faces:!0},{model:"wroclavia-terrain.json",edges:!1,wireframe:!0,faces:!1,position:[0,0,0]},{model:"wroclavia-full.json",edges:!0,wireframe:!0,faces:!0},{model:"wroclavia-roads.json",edges:!1,wireframe:!0,faces:!0}],a={truck:{model:"wpt-truck.json",edges:!1,wireframe:!0,faces:!1,position:[0,0,0],count:200},path1:{model:"wpt-truck-path1.json",position:[0,.15,0]},path2:{model:"wpt-truck-path2.json",position:[0,.15,0]},path3:{model:"wpt-truck-path3.json",position:[0,.15,0]}},s={bus:{model:"wroclavia-bus.json",edges:!1,wireframe:!0,faces:!1,position:[0,0,0]},busPath:{model:"wroclavia-bus-path.json",position:[0,.9,0]},path1:{model:"wroclavia-truck-path1.json",position:[0,.15,0]},path2:{model:"wroclavia-truck-path2.json",position:[0,.15,0]},path3:{model:"wroclavia-truck-path3.json",position:[0,.15,0]}}},49:function(e,t,n){"use strict";function i(e){for(var t=new h.TetrahedronGeometry(e,2),n=a(p.orange,!0),i=[],o=t.faces.length,s=0;s<o;s+=1)i.push(n);for(var r=0;r<t.vertices.length;r+=1){var c=t.vertices[r];c.x+=-f.noise/2+Math.random()*f.noise,c.y+=-f.noise/2+Math.random()*f.noise,c.z+=-f.noise/2+Math.random()*f.noise}for(var l=0;l<o;l+=1)t.faces[l].materialIndex=l;var d=new h.Mesh(t,new h.MultiMaterial(i));return d.castShadow=!0,d.receiveShadow=!0,d}function o(e){var t=new h.TetrahedronGeometry(e,2),n=a(p.blue,!0,!0,.25,h.AdditiveBlending);return new h.Mesh(t,n)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.NoBlending;return t?new h.MeshBasicMaterial({color:e,shading:h.FlatShading,wireframe:t,transparent:n,opacity:i,blending:o,side:h.DoubleSide}):new h.MeshStandardMaterial({color:e,shading:h.FlatShading,wireframe:t,transparent:n,opacity:i,blending:o,side:h.DoubleSide,emissive:2555904,roughness:.9})}var s=n(25),r=n.n(s),c=n(26),l=n.n(c),d=n(27),u=n.n(d),h=n(9),m=n(41),p=(n.n(m),{blue:3447003,green:3066993,orange:15619620,darkOrange:13849600,yellow:3426654}),f={noise:.2,radius:3,radius_outer_factor:1.2,rotate_speed:.03,scale_speed:2};!function(){function e(t){l()(this,e),this.isActive=!1,this.progress=0,this.previous=0,this.scaleFactor=0,this.scale=1,this.size=t||f.radius,this.mesh=new h.Object3D,this.planet=i(this.size),this.wireframe=o(this.size*f.radius_outer_factor),this.mesh.add(this.planet),this.mesh.add(this.wireframe),this.addLights()}u()(e,[{key:"addLights",value:function(){var e=new h.AmbientLight(6697796,2);this.mesh.add(e);var t=new h.DirectionalLight(16777215,1.5);t.position.set(200,100,200),t.shadow.camera.left=-400,t.shadow.camera.right=400,t.shadow.camera.top=400,t.shadow.camera.bottom=-400,t.shadow.camera.near=1,t.shadow.camera.far=1e3,t.shadow.mapSize.width=2048,t.shadow.mapSize.height=2048,this.mesh.add(t)}},{key:"update",value:function(){this.isActive&&(this.planet.rotation.z-=f.rotate_speed/10,this.planet.rotation.y-=f.rotate_speed,this.wireframe.rotation.z+=f.rotate_speed/2,this.wireframe.rotation.y-=f.rotate_speed/2,this.mesh.scale.set(this.scale,this.scale,this.scale))}},{key:"updateScale",value:function(e){this.scale=1-(Math.abs(Math.sin(e*f.scale_speed))/6+this.scaleFactor)}},{key:"getMesh",value:function(){return this.mesh}},{key:"clearFaces",value:function(){for(var e=this.planet.geometry.faces.length,t=0;t<e;t+=1)this.planet.material.materials[t]=a(p.orange,!0),this.planet.material.materials[t].needsUpdate=!0}},{key:"activate",value:function(){this.isActive=!0}},{key:"updateFaces",value:function(e){for(var t=this.planet.geometry.faces.length,n=Math.min(Math.ceil(t*e+1),t),i=this.previous;i<n;i+=1)this.planet.material.materials[i]=a(p.orange),this.planet.material.materials[i].needsUpdate=!0;this.previous=Math.max(this.progress-1,0),this.progress=n}},{key:"dispose",value:function(){var e=this;return new r.a(function(t){var n={progress:1};m.TweenMax.to(n,.1,{progress:0,ease:m.Power4.easeIn,onUpdate:function(){e.scale=n.progress},onComplete:function(){t()}})})}}])}()},50:function(e,t,n){"use strict";function i(e,t){function n(){return 2*Math.PI/60/60*L.autoRotateSpeed}function i(){return Math.pow(.95,L.zoomSpeed)}function o(e){B.theta-=e}function a(e){B.phi-=e}function s(e){L.object instanceof c.PerspectiveCamera?Y/=e:L.object instanceof c.OrthographicCamera?(L.object.zoom=Math.max(L.minZoom,Math.min(L.maxZoom,L.object.zoom*e)),L.object.updateProjectionMatrix(),X=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),L.enableZoom=!1)}function r(e){L.object instanceof c.PerspectiveCamera?Y*=e:L.object instanceof c.OrthographicCamera?(L.object.zoom=Math.max(L.minZoom,Math.min(L.maxZoom,L.object.zoom/e)),L.object.updateProjectionMatrix(),X=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),L.enableZoom=!1)}function l(e){G.set(e.clientX,e.clientY)}function d(e){Q.set(e.clientX,e.clientY)}function u(e){$.set(e.clientX,e.clientY)}function h(e){Z.set(e.clientX,e.clientY),W.subVectors(Z,G);var t=L.domElement===document?L.domElement.body:L.domElement;o(2*Math.PI*W.x/t.clientWidth*L.rotateSpeed),a(2*Math.PI*W.y/t.clientHeight*L.rotateSpeed),G.copy(Z),L.update()}function m(e){J.set(e.clientX,e.clientY),ee.subVectors(J,Q),ee.y>0?s(i()):ee.y<0&&r(i()),Q.copy(J),L.update()}function p(e){K.set(e.clientX,e.clientY),q.subVectors(K,$),ie(q.x,q.y),$.copy(K),L.update()}function f(e){}function v(e){e.deltaY<0?r(i()):e.deltaY>0&&s(i()),L.update()}function g(e){switch(e.keyCode){case L.keys.UP:ie(0,L.keyPanSpeed),L.update();break;case L.keys.BOTTOM:ie(0,-L.keyPanSpeed),L.update();break;case L.keys.LEFT:ie(L.keyPanSpeed,0),L.update();break;case L.keys.RIGHT:ie(-L.keyPanSpeed,0),L.update()}}function b(e){G.set(e.touches[0].pageX,e.touches[0].pageY)}function w(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);Q.set(0,i)}function y(e){$.set(e.touches[0].pageX,e.touches[0].pageY)}function E(e){Z.set(e.touches[0].pageX,e.touches[0].pageY),W.subVectors(Z,G);var t=L.domElement===document?L.domElement.body:L.domElement;o(2*Math.PI*W.x/t.clientWidth*L.rotateSpeed),a(2*Math.PI*W.y/t.clientHeight*L.rotateSpeed),G.copy(Z),L.update()}function M(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);J.set(0,o),ee.subVectors(J,Q),ee.y>0?r(i()):ee.y<0&&s(i()),Q.copy(J),L.update()}function S(e){K.set(e.touches[0].pageX,e.touches[0].pageY),q.subVectors(K,$),ie(q.x,q.y),$.copy(K),L.update()}function k(e){}function x(e){if(!1!==L.enabled){switch(e.preventDefault(),e.button){case L.mouseButtons.ORBIT:if(!1===L.enableRotate)return;l(e),N=I.ROTATE;break;case L.mouseButtons.ZOOM:if(!1===L.enableZoom)return;d(e),N=I.DOLLY;break;case L.mouseButtons.PAN:if(!1===L.enablePan)return;u(e),N=I.PAN}N!==I.NONE&&(document.addEventListener("mousemove",T,!1),document.addEventListener("mouseup",O,!1),L.dispatchEvent(z))}}function T(e){if(!1!==L.enabled)switch(e.preventDefault(),N){case I.ROTATE:if(!1===L.enableRotate)return;h(e);break;case I.DOLLY:if(!1===L.enableZoom)return;m(e);break;case I.PAN:if(!1===L.enablePan)return;p(e)}}function O(e){!1!==L.enabled&&(f(e),document.removeEventListener("mousemove",T,!1),document.removeEventListener("mouseup",O,!1),L.dispatchEvent(R),N=I.NONE)}function A(e){!1===L.enabled||!1===L.enableZoom||N!==I.NONE&&N!==I.ROTATE||(e.preventDefault(),e.stopPropagation(),v(e),L.dispatchEvent(z),L.dispatchEvent(R))}function P(e){!1!==L.enabled&&!1!==L.enableKeys&&!1!==L.enablePan&&g(e)}function _(e){if(!1!==L.enabled){switch(e.touches.length){case 1:if(!1===L.enableRotate)return;b(e),N=I.TOUCH_ROTATE;break;case 2:if(!1===L.enableZoom)return;w(e),N=I.TOUCH_DOLLY;break;case 3:if(!1===L.enablePan)return;y(e),N=I.TOUCH_PAN;break;default:N=I.NONE}N!==I.NONE&&L.dispatchEvent(z)}}function D(e){if(!1!==L.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===L.enableRotate)return;if(N!==I.TOUCH_ROTATE)return;E(e);break;case 2:if(!1===L.enableZoom)return;if(N!==I.TOUCH_DOLLY)return;M(e);break;case 3:if(!1===L.enablePan)return;if(N!==I.TOUCH_PAN)return;S(e);break;default:N=I.NONE}}function C(e){!1!==L.enabled&&(k(e),L.dispatchEvent(R),N=I.NONE)}function j(e){e.preventDefault()}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new c.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:c.MOUSE.LEFT,ZOOM:c.MOUSE.MIDDLE,PAN:c.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return F.phi},this.getAzimuthalAngle=function(){return F.theta},this.saveState=function(){L.target0.copy(L.target),L.position0.copy(L.object.position),L.zoom0=L.object.zoom},this.reset=function(){L.target.copy(L.target0),L.object.position.copy(L.position0),L.object.zoom=L.zoom0,L.object.updateProjectionMatrix(),L.dispatchEvent(H),L.update(),N=I.NONE},this.update=function(){var t=new c.Vector3,i=(new c.Quaternion).setFromUnitVectors(e.up,new c.Vector3(0,1,0)),a=i.clone().inverse(),s=new c.Vector3,r=new c.Quaternion;return function(){var e=L.object.position;return t.copy(e).sub(L.target),t.applyQuaternion(i),F.setFromVector3(t),L.autoRotate&&N===I.NONE&&o(n()),F.theta+=B.theta,F.phi+=B.phi,F.theta=Math.max(L.minAzimuthAngle,Math.min(L.maxAzimuthAngle,F.theta)),F.phi=Math.max(L.minPolarAngle,Math.min(L.maxPolarAngle,F.phi)),F.makeSafe(),F.radius*=Y,F.radius=Math.max(L.minDistance,Math.min(L.maxDistance,F.radius)),L.target.add(V),t.setFromSpherical(F),t.applyQuaternion(a),e.copy(L.target).add(t),L.object.lookAt(L.target),!0===L.enableDamping?(B.theta*=1-L.dampingFactor,B.phi*=1-L.dampingFactor):B.set(0,0,0),Y=1,V.set(0,0,0),!!(X||s.distanceToSquared(L.object.position)>U||8*(1-r.dot(L.object.quaternion))>U)&&(L.dispatchEvent(H),s.copy(L.object.position),r.copy(L.object.quaternion),X=!1,!0)}}(),this.dispose=function(){L.domElement.removeEventListener("contextmenu",j,!1),L.domElement.removeEventListener("mousedown",x,!1),L.domElement.removeEventListener("wheel",A,!1),L.domElement.removeEventListener("touchstart",_,!1),L.domElement.removeEventListener("touchend",C,!1),L.domElement.removeEventListener("touchmove",D,!1),document.removeEventListener("mousemove",T,!1),document.removeEventListener("mouseup",O,!1),window.removeEventListener("keydown",P,!1)};var L=this,H={type:"change"},z={type:"start"},R={type:"end"},I={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},N=I.NONE,U=1e-6,F=new c.Spherical,B=new c.Spherical,Y=1,V=new c.Vector3,X=!1,G=new c.Vector2,Z=new c.Vector2,W=new c.Vector2,$=new c.Vector2,K=new c.Vector2,q=new c.Vector2,Q=new c.Vector2,J=new c.Vector2,ee=new c.Vector2,te=function(){var e=new c.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),V.add(e)}}(),ne=function(){var e=new c.Vector3;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),V.add(e)}}(),ie=function(){var e=new c.Vector3;return function(t,n){var i=L.domElement===document?L.domElement.body:L.domElement;if(L.object instanceof c.PerspectiveCamera){var o=L.object.position;e.copy(o).sub(L.target);var a=e.length();a*=Math.tan(L.object.fov/2*Math.PI/180),te(2*t*a/i.clientHeight,L.object.matrix),ne(2*n*a/i.clientHeight,L.object.matrix)}else L.object instanceof c.OrthographicCamera?(te(t*(L.object.right-L.object.left)/L.object.zoom/i.clientWidth,L.object.matrix),ne(n*(L.object.top-L.object.bottom)/L.object.zoom/i.clientHeight,L.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),L.enablePan=!1)}}();L.domElement.addEventListener("contextmenu",j,!1),L.domElement.addEventListener("mousedown",x,!1),L.domElement.addEventListener("wheel",A,!1),L.domElement.addEventListener("touchstart",_,!1),L.domElement.addEventListener("touchend",C,!1),L.domElement.addEventListener("touchmove",D,!1),window.addEventListener("keydown",P,!1),this.update()}var o=n(57),a=n.n(o),s=n(56),r=n.n(s),c=window.THREE||n(9);i.prototype=r()(c.EventDispatcher.prototype),i.prototype.constructor=c.OrbitControls,a()(i.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t.a=i},51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),o=n(45),a=n.n(o),s=n(44);i.a.config.productionTip=!1,new i.a({el:"#app",router:s.a,template:"<App/>",components:{App:a.a}})},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},53:function(e,t,n){"use strict";function i(e){m.x=e.touches[0].clientX,m.y=e.touches[0].clientY}function o(e){var t={x:e.changedTouches[0].clientX-m.x,y:e.changedTouches[0].clientY-m.y};a({wheelDelta:Math.abs(t.x)>Math.abs(t.y)?t.x:t.y}),m.x=0,m.y=0}function a(e){var t=n.i(u.h)(e).pixelY;!0!==f&&p.isLoaded&&(t>=-h.sensivity&&(f=!0,p.currentStep!==p.totalSlides-1&&p.currentStep++,r(),s(h.duration)),t<=h.sensivity&&(f=!0,0!==p.currentStep&&p.currentStep--,r(),s(h.duration)))}function s(e){setTimeout(function(){f=!1},e)}function r(){p.isScrolling=!0,setTimeout(function(){p.isScrolling=!1},3500),p.active=p.animatedSteps.reduce(function(e,t){return p.currentStep===t||e},!1);var e=p.animationMap[p.currentStep];void 0!==e&&(p.renderStep=e),p.isScrolled||(p.isScrolled=!0)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(42),l=(n.n(c),n(43)),d=n.n(l),u=n(14),h={sensivity:9,duration:600},m={x:0,y:0},p={active:!0,animatedSteps:[0,1,2],animationMap:{0:0,1:1,2:2,3:2},currentStep:0,isLoaded:!1,isScrolled:!1,isScrolling:!1,renderStep:0,totalSlides:6},f=!1;t.default={name:"landing",components:{Three:d.a},data:function(){return{animationDetails:p,progress:0,loaded:!1,imageLoaded:!1}},methods:{onLoaded:function(){p.isLoaded=!0},onProgress:function(e){this.progress=Math.ceil(100*e)}},mounted:function(){var e="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScrol";window.addEventListener(e,n.i(c.throttle)(a,60),!1),window.addEventListener("touchstart",n.i(c.throttle)(i,60),!1),window.addEventListener("touchend",n.i(c.throttle)(o,60),!1)}}},54:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(46),o=0;t.default={name:"threeDebug",props:["isActive","isDebug","step","isStarted"],data:function(){return{}},watch:{step:function(e){this.animation.setStep(e,!0),2===e&&1===o&&this.animation.switchBuildings("wroclavia"),1===e&&2===o&&this.animation.switchBuildings("wpt"),o=e},isActive:function(e){this.animation.setActive(e)}},mounted:function(){var e=this,t={active:this.isActive,debug:this.isDebug,container:this.$refs.scene,exposeScene:!1,step:0};this.animation=new i.a(t),this.animation.init(function(t){e.$emit("progress",t)}).then(function(){e.$emit("loaded"),e.animation.startTrucksAnimation()})}}},97:function(e,t){},98:function(e,t){},99:function(e,t){}},[51]);
//# sourceMappingURL=app.fc062d06ed3f8e4e549b.js.map