{"version":3,"sources":["webpack:///static/js/app.95b78812adf407c9fe6e.js","webpack:///./src/components/Landing.vue","webpack:///./src/App.vue?3df4","webpack:///./src/components/Landing.vue?8866","webpack:///./src/components/Three.vue?d675","webpack:///./src/common/utils.js","webpack:///./src/components/Three.vue?3a81","webpack:///./src/router/index.js","webpack:///./src/App.vue?fc6a","webpack:///./src/common/Animation.class.js","webpack:///./src/common/Animation.const.js","webpack:///./src/common/Animation.models.js","webpack:///./src/common/PlanetLoader.class.js","webpack:///./src/lib/OrbitControls.js","webpack:///./src/main.js","webpack:///App.vue","webpack:///Landing.vue","webpack:///Three.vue"],"names":["webpackJsonp","100","module","exports","101","__webpack_require__","injectStyle","ssrContext","Component","102","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","103","ref","staticClass","class","animationDetails","currentStep","loaded","isLoaded","scrolled","isScrolled","scrolling","isScrolling","isOff","active","isActive","step","renderStep","on","onLoaded","progress","onProgress","_v","data-large","src","_m","_s","104","24","__webpack_exports__","getPointInBetweenByPerc","pointA","pointB","percentage","dir","clone","sub","len","length","normalize","multiplyScalar","add","v3","x","y","z","__WEBPACK_IMPORTED_MODULE_0_three__","v3dir","vA","vB","subVectors","46","47","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Landing__","__WEBPACK_IMPORTED_MODULE_2__components_Landing___default","n","__WEBPACK_IMPORTED_MODULE_3__components_Three__","__WEBPACK_IMPORTED_MODULE_3__components_Three___default","use","routes","path","name","component","a","props","isDebug","48","49","createModel","object","options","scale","__WEBPACK_IMPORTED_MODULE_8__Animation_const__","group","__WEBPACK_IMPORTED_MODULE_3_three__","edges","edgesGeo","edgesMat","set","position","copy","i","__WEBPACK_IMPORTED_MODULE_6__utils__","wireframe","wireframeMat","faces","facesMat","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_4_lodash__","__WEBPACK_IMPORTED_MODULE_5_gsap__","__WEBPACK_IMPORTED_MODULE_7__PlanetLoader_class__","__WEBPACK_IMPORTED_MODULE_9__Animation_models__","__WEBPACK_IMPORTED_MODULE_10__lib_OrbitControls__","Animation","console","log","scene","clock","models","currentModel","model","container","flags","debug","isInitialized","isTransition","key","value","camera","WIDTH","HEIGHT","lookAt","axisHelper","gridHelper","cb","_this","loadingManager","loader","planetLoader","loaderMesh","getMesh","setCamera","animate","resolve","wptModel","wroclaviaModel","forEach","partial","load","url","itemsLoaded","itemsTotal","onLoad","o","to","onStart","activate","onUpdate","updateFaces","onComplete","wpt","wroclavia","dispose","then","remove","renderer","alpha","antialias","shadowMap","soft","enabled","setSize","appendChild","domElement","controls","addEventListener","bind","document","onKeyDown","onDocumentMouseMove","window","updateSize","offsetWidth","offsetHeight","aspect","updateProjectionMatrix","event","moveProgress","clientX","moveOffset","clientY","cameraStart","cameraEnd","cameraMove","e","keyCode","toFixed","cameraTarget","update","getElapsedTime","requestAnimationFrame","modelName","target","addMovement","targetStep","undefined","val","force","switchTo","self","paramsOut","p","modelA","modelB","paramsIn","Math","PI","isSwitched","ease","easeIn","rotation","easeOut","setStep","sphereGeometry","sphereMaterial","color","sphere","setPoint0","vars","point0","Variables","gui","dat","GUI","point0Folder","addFolder","onChange","minDistance","maxDistance","_this2","addCamera","initRenderer","loadModels","setSceneModel","setCameraByStep","initEvents","warn","addGUI","addDebug","addControls","50","d","CAMERA_SPEED","FAKE_LOADING_TIME","IMPORT_SCALE","MOUSE_CONSTRAINT","PATHS","POSITIONS","MATERIALS","__WEBPACK_IMPORTED_MODULE_1__utils__","PALLETE","basic","accent","linewidth","edgesMatAccent","lineWidth","side","transparent","opacity","blending","facesMatAccent","51","PARTIALS_WPT","PARTIALS_WROCLAVIA","PARTIAL_BASE_WPT","PARTIAL_BASE_WROCLAVIA","52","createPlanet","size","geometry","material","getMaterial","orange","materials","facesLength","push","vertices","v","DEFAULTS","noise","random","materialIndex","mesh","castShadow","receiveShadow","createWireframe","geometryWireframe","materialWireframe","blue","arguments","shading","emissive","roughness","__WEBPACK_IMPORTED_MODULE_4_gsap__","green","darkOrange","yellow","radius","radius_outer_factor","rotate_speed","scale_speed","PlanetLoader","previous","scaleFactor","planet","addLights","ambientLight","light","shadow","left","right","top","bottom","near","far","mapSize","width","height","t","abs","sin","needsUpdate","curr","min","ceil","max","53","OrbitControls","getAutoRotationAngle","scope","autoRotateSpeed","getZoomScale","pow","zoomSpeed","rotateLeft","angle","sphericalDelta","theta","rotateUp","phi","dollyIn","dollyScale","THREE","PerspectiveCamera","OrthographicCamera","zoom","minZoom","maxZoom","zoomChanged","enableZoom","dollyOut","handleMouseDownRotate","rotateStart","handleMouseDownDolly","dollyStart","handleMouseDownPan","panStart","handleMouseMoveRotate","rotateEnd","rotateDelta","element","body","clientWidth","rotateSpeed","clientHeight","handleMouseMoveDolly","dollyEnd","dollyDelta","handleMouseMovePan","panEnd","panDelta","pan","handleMouseUp","handleMouseWheel","deltaY","handleKeyDown","keys","UP","keyPanSpeed","BOTTOM","LEFT","RIGHT","handleTouchStartRotate","touches","pageX","pageY","handleTouchStartDolly","dx","dy","distance","sqrt","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchEnd","onMouseDown","preventDefault","button","mouseButtons","ORBIT","enableRotate","state","STATE","ROTATE","ZOOM","DOLLY","PAN","enablePan","NONE","onMouseMove","onMouseUp","dispatchEvent","startEvent","removeEventListener","endEvent","onMouseWheel","stopPropagation","enableKeys","onTouchStart","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","onTouchMove","onTouchEnd","onContextMenu","Vector3","Infinity","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","autoRotate","MOUSE","MIDDLE","target0","position0","zoom0","getPolarAngle","spherical","getAzimuthalAngle","saveState","reset","changeEvent","offset","quat","Quaternion","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","applyQuaternion","setFromVector3","makeSafe","panOffset","setFromSpherical","distanceToSquared","EPS","dot","quaternion","type","Spherical","Vector2","panLeft","objectMatrix","setFromMatrixColumn","panUp","deltaX","targetDistance","tan","fov","matrix","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default","prototype","EventDispatcher","constructor","center","get","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","54","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","components","App","55","56","fullPageScroll","delta","wheelDelta","ticking","scrollSettings","sensivity","totalSlides","scrollItems","slideDurationTimeout","duration","slideDuration","setTimeout","animatedSteps","reduce","prev","mappedStep","animationMap","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","__WEBPACK_IMPORTED_MODULE_1_lodash__","__WEBPACK_IMPORTED_MODULE_2__Three__","__WEBPACK_IMPORTED_MODULE_2__Three___default","1","2","3","Three","data","methods","mounted","$el","sections","querySelectorAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","section","placeholder","querySelector","img","Image","onload","classList","imgLarge","dataset","large","setAttribute","$options","_scopeId","err","return","57","__WEBPACK_IMPORTED_MODULE_0__common_Animation_class__","previousStep","watch","animation","switchBuildings","setActive","Date","now","$refs","init","$emit","98","99"],"mappings":"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","file":"static/js/app.95b78812adf407c9fe6e.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 100:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(99)\n}\nvar Component = __webpack_require__(21)(\n  /* script */\n  __webpack_require__(56),\n  /* template */\n  __webpack_require__(103),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-558b8ed5\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"landing\",\n    staticClass: \"Landing\",\n    class: ['slide-' + _vm.animationDetails.currentStep, {\n      'loaded': _vm.animationDetails.isLoaded,\n      'scrolled': _vm.animationDetails.isScrolled,\n      'scrolling': _vm.animationDetails.isScrolling\n    }]\n  }, [_c('div', {\n    staticClass: \"background\",\n    class: {\n      isOff: !_vm.animationDetails.active\n    }\n  }, [_c('Three', {\n    attrs: {\n      \"isActive\": _vm.animationDetails.active,\n      \"step\": _vm.animationDetails.renderStep\n    },\n    on: {\n      \"loaded\": _vm.onLoaded,\n      \"progress\": _vm.onProgress\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"background-map\"\n  }), _vm._v(\" \"), _c('section', {\n    class: [{\n      isActive: _vm.animationDetails.currentStep === 0\n    }, 'section--isPlaceholder'],\n    attrs: {\n      \"id\": \"slide-0\",\n      \"data-large\": \"/static/wpt.jpg\"\n    }\n  }, [_c('img', {\n    staticClass: \"placeholder placeholder--small\",\n    attrs: {\n      \"src\": \"/static/wpt__small.jpg\"\n    }\n  })]), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('section', {\n    attrs: {\n      \"id\": \"slide-3\"\n    }\n  }), _vm._v(\" \"), _vm._m(2), _vm._v(\" \"), _vm._m(3), _vm._v(\" \"), _vm._m(4), _vm._v(\" \"), _vm._m(5), _vm._v(\" \"), _c('div', {\n    staticClass: \"loader\"\n  }, [_c('div', {\n    staticClass: \"dot\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"dot\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"dot\"\n  }), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm.progress) + \" %\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"Menu\",\n    class: {\n      isActive: _vm.animationDetails.currentStep > 0\n    }\n  }, [_vm._m(6), _vm._v(\" \"), _vm._m(7)])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-1\"\n    }\n  }, [_c('h1', [_vm._v(\"Welcome to PGS\")]), _vm._v(\" \"), _c('h2', [_vm._v(\"lorem ipsum dolor sit amet\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-2\"\n    }\n  }, [_c('h1', [_vm._v(\"hello world - slide 2\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-4\"\n    }\n  }, [_c('h1', [_vm._v(\"hello world - slide 4\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-5\"\n    }\n  }, [_c('h1', [_vm._v(\"hello world - slide 5\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"mouse\"\n  }, [_c('div', {\n    staticClass: \"scroll-wheel\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"scroll\"\n  }, [_c('p', [_vm._v(\"keep scrolling...\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('a', {\n    staticClass: \"logo\"\n  }, [_c('span', [_vm._v(\"PGS Software\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', [_c('li', [_vm._v(\"About\")]), _vm._v(\" \"), _c('li', [_vm._v(\"Contact\")])])\n}]}\n\n/***/ }),\n\n/***/ 104:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"scene\",\n    staticClass: \"Scene\"\n  })\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 24:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export rad2deg */\n/* unused harmony export deg2rad */\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getPointInBetweenByPerc;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = v3;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = v3dir;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(9);\n\n\nfunction rad2deg(rad) {\n  return rad * (180 / Math.PI);\n}\n\nfunction deg2rad(deg) {\n  return deg * (Math.PI / 180);\n}\n\nfunction getPointInBetweenByPerc(pointA, pointB, percentage) {\n  var dir = pointB.clone().sub(pointA);\n  var len = dir.length();\n\n  dir = dir.normalize().multiplyScalar(len * percentage);\n\n  return pointA.clone().add(dir);\n}\n\nfunction v3(x, y, z) {\n  return new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"](x, y, z);\n}\n\nfunction v3dir(vA, vB) {\n  return new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"]().subVectors(vA, vB);\n}\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(100)\n}\nvar Component = __webpack_require__(21)(\n  /* script */\n  __webpack_require__(57),\n  /* template */\n  __webpack_require__(104),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-ba65df48\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(105);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Landing__ = __webpack_require__(101);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Landing___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Landing__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Three__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Three___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_Three__);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Landing',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Landing___default.a\n  }, {\n    path: '/debug',\n    name: 'Three',\n    component: __WEBPACK_IMPORTED_MODULE_3__components_Three___default.a,\n    props: {\n      isActive: true,\n      isDebug: true,\n      step: 2\n    }\n  }]\n}));\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(98)\n}\nvar Component = __webpack_require__(21)(\n  /* script */\n  __webpack_require__(55),\n  /* template */\n  __webpack_require__(102),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_three__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_gsap__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_gsap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__utils__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__PlanetLoader_class__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Animation_const__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__Animation_models__ = __webpack_require__(51);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__lib_OrbitControls__ = __webpack_require__(53);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Animation = function () {\n  function Animation(options) {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, Animation);\n\n    console.log('Animation():', options);\n\n    this.scene = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Scene\"]();\n    this.clock = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Clock\"]();\n\n    this.models = {};\n    this.currentModel = options.model || 'wpt';\n    this.currentStep = options.step || 0;\n    this.container = options.container;\n    this.flags = {\n      isActive: options.active,\n      isDebug: options.debug,\n      isInitialized: false,\n      isLoaded: false,\n      isTransition: false\n    };\n  }\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(Animation, [{\n    key: 'addCamera',\n    value: function addCamera() {\n      var camera = new __WEBPACK_IMPORTED_MODULE_3_three__[\"PerspectiveCamera\"](20, this.WIDTH / this.HEIGHT, 1, 10000);\n      camera.lookAt(this.scene.position);\n\n      this.camera = camera;\n    }\n  }, {\n    key: 'addHelpers',\n    value: function addHelpers() {\n      var axisHelper = new __WEBPACK_IMPORTED_MODULE_3_three__[\"AxisHelper\"](10);\n      var gridHelper = new __WEBPACK_IMPORTED_MODULE_3_three__[\"GridHelper\"](1000, 1000);\n\n      this.scene.add(axisHelper);\n      this.scene.add(gridHelper);\n    }\n  }, {\n    key: 'loadModels',\n    value: function loadModels(cb) {\n      var _this = this;\n\n      var loadingManager = new __WEBPACK_IMPORTED_MODULE_3_three__[\"LoadingManager\"]();\n      var loader = new __WEBPACK_IMPORTED_MODULE_3_three__[\"JSONLoader\"](loadingManager);\n\n      this.planetLoader = new __WEBPACK_IMPORTED_MODULE_7__PlanetLoader_class__[\"a\" /* default */]();\n      var loaderMesh = this.planetLoader.getMesh();\n\n      this.scene.add(loaderMesh);\n      this.setCamera(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__utils__[\"a\" /* v3 */])(0, 0, 100), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__utils__[\"a\" /* v3 */])(0, 0, 0));\n      this.animate();\n\n      return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve) {\n        var wptModel = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Object3D\"]();\n        var wroclaviaModel = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Object3D\"]();\n\n        __WEBPACK_IMPORTED_MODULE_9__Animation_models__[\"a\" /* PARTIALS_WPT */].forEach(function (partial) {\n          loader.load('' + __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"a\" /* PATHS */].models + partial.model, function (object) {\n            wptModel.add(createModel(object, partial));\n          });\n        });\n\n        __WEBPACK_IMPORTED_MODULE_9__Animation_models__[\"b\" /* PARTIALS_WROCLAVIA */].forEach(function (partial) {\n          loader.load('' + __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"a\" /* PATHS */].models + partial.model, function (object) {\n            wroclaviaModel.add(createModel(object, partial));\n          });\n        });\n\n        loadingManager.onProgress = function (url, itemsLoaded, itemsTotal) {\n          console.log('Loading file: ' + url + ' Loaded. ' + itemsLoaded + ' of ' + itemsTotal + ' files.');\n          cb(itemsLoaded / itemsTotal);\n        };\n\n        loadingManager.onLoad = function () {\n          var o = {\n            progress: 0\n          };\n\n          __WEBPACK_IMPORTED_MODULE_5_gsap__[\"TweenMax\"].to(o, __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"b\" /* FAKE_LOADING_TIME */], {\n            progress: 1,\n            onStart: function onStart() {\n              _this.planetLoader.activate();\n            },\n            onUpdate: function onUpdate() {\n              _this.planetLoader.updateFaces(o.progress);\n            },\n            onComplete: function onComplete() {\n              _this.models.wpt = wptModel;\n              _this.models.wroclavia = wroclaviaModel;\n\n              _this.planetLoader.dispose().then(function () {\n                _this.flags.isLoaded = true;\n                _this.scene.remove(loaderMesh);\n                resolve();\n              });\n            }\n          });\n        };\n      });\n    }\n  }, {\n    key: 'initRenderer',\n    value: function initRenderer() {\n      var renderer = new __WEBPACK_IMPORTED_MODULE_3_three__[\"WebGLRenderer\"]({\n        alpha: true,\n        antialias: true\n      });\n\n      renderer.shadowMap.soft = true;\n      renderer.shadowMap.enabled = true;\n      renderer.setSize(this.WIDTH, this.HEIGHT);\n\n      this.container.appendChild(renderer.domElement);\n      this.renderer = renderer;\n    }\n  }, {\n    key: 'initEvents',\n    value: function initEvents() {\n      if (this.flags.isDebug) {\n        this.controls.addEventListener('change', this.render.bind(this));\n        document.addEventListener('keydown', this.onKeyDown.bind(this));\n      } else {\n        document.addEventListener('mousemove', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_lodash__[\"throttle\"])(this.onDocumentMouseMove.bind(this), 50), false);\n      }\n\n      window.addEventListener('resize', this.updateSize.bind(this), false);\n    }\n  }, {\n    key: 'updateSize',\n    value: function updateSize() {\n      this.WIDTH = this.container.offsetWidth;\n      this.HEIGHT = this.container.offsetHeight;\n\n      if (this.flags.isInitialized) {\n        this.camera.aspect = this.WIDTH / this.HEIGHT;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(this.WIDTH, this.HEIGHT);\n        this.render();\n      }\n    }\n  }, {\n    key: 'onDocumentMouseMove',\n    value: function onDocumentMouseMove(event) {\n      if (!this.flags.isTransition) {\n        this.moveProgress = event.clientX / this.WIDTH;\n        this.moveOffset = (event.clientY - this.HEIGHT) / 2 / (this.HEIGHT / 2);\n\n        var cameraStart = __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][this.currentStep][1];\n        var cameraEnd = __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][this.currentStep][2];\n\n        this.cameraMove = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__utils__[\"b\" /* getPointInBetweenByPerc */])(cameraStart, cameraEnd, this.moveProgress);\n\n        this.cameraMove.y = (this.cameraMove.y - this.moveOffset) * __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"d\" /* MOUSE_CONSTRAINT */];\n      }\n    }\n  }, {\n    key: 'onKeyDown',\n    value: function onKeyDown(e) {\n      console.log('e', e);\n\n      switch (e.keyCode) {\n        case 68:\n          console.log('camera position:', this.camera.position.x.toFixed(2) + ', ' + this.camera.position.y.toFixed(2) + ', ' + this.camera.position.z.toFixed(2));\n          break;\n        default:\n          break;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }, {\n    key: 'animate',\n    value: function animate() {\n      if (this.flags.isActive) {\n        if (this.flags.isLoaded) {\n          if (this.cameraMove && !this.flags.isDebug) {\n            var dir = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__utils__[\"c\" /* v3dir */])(this.cameraMove, this.camera.position);\n\n            this.camera.position.x += dir.x * __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"e\" /* CAMERA_SPEED */];\n            this.camera.position.y += dir.y * __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"e\" /* CAMERA_SPEED */];\n            this.camera.position.z += dir.z * __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"e\" /* CAMERA_SPEED */];\n\n            this.camera.lookAt(this.cameraTarget);\n          }\n\n          if (this.flags.isDebug) {\n            this.controls.update();\n            this.camera.lookAt(__WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][this.currentStep][0]);\n          }\n        } else {\n          this.planetLoader.update(this.clock.getElapsedTime());\n        }\n\n        this.render();\n      }\n\n      requestAnimationFrame(this.animate.bind(this));\n    }\n  }, {\n    key: 'setSceneModel',\n    value: function setSceneModel(modelName) {\n      this.cameraTarget = __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][this.currentStep][0];\n      this.scene.add(this.models[modelName]);\n    }\n  }, {\n    key: 'setCamera',\n    value: function setCamera(position, target) {\n      this.camera.position.copy(position);\n      this.camera.lookAt(target);\n    }\n  }, {\n    key: 'setCameraByStep',\n    value: function setCameraByStep(step, addMovement) {\n      var targetStep = step !== undefined ? step : this.currentStep;\n      this.setCamera(__WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][targetStep][1], __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][targetStep][0]);\n\n      if (addMovement) {\n        this.cameraMove = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__utils__[\"b\" /* getPointInBetweenByPerc */])(__WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][targetStep][1], __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][targetStep][2], 0);\n      }\n    }\n  }, {\n    key: 'setActive',\n    value: function setActive(val) {\n      console.log('setActive', val);\n      this.flags.isActive = val;\n    }\n  }, {\n    key: 'setStep',\n    value: function setStep(val, force) {\n      console.log('setStep', force);\n      this.currentStep = val;\n      if (force) {\n        this.cameraMove = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__utils__[\"b\" /* getPointInBetweenByPerc */])(__WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][val][1], __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][val][2], 0.5);\n      }\n    }\n  }, {\n    key: 'switchBuildings',\n    value: function switchBuildings(switchTo) {\n      var self = this;\n      var paramsOut = {\n        p: 0,\n        y: 0\n      };\n\n      var modelA = switchTo === 'wroclavia' ? self.models.wpt : self.models.wroclavia;\n      var modelB = switchTo === 'wroclavia' ? self.models.wroclavia : self.models.wpt;\n\n      var paramsIn = {\n        p: 0,\n        y: 1 * (Math.PI * 2)\n      };\n\n      var isSwitched = false;\n\n      this.flags.isTransition = true;\n      this.cameraMove = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__utils__[\"a\" /* v3 */])(0, 120, 0);\n\n      if (this.currentModel === 'wpt') {\n        __WEBPACK_IMPORTED_MODULE_5_gsap__[\"TweenMax\"].to(paramsOut, 1, {\n          p: 1,\n          y: -1 * (Math.PI * 2) * 1,\n          ease: __WEBPACK_IMPORTED_MODULE_5_gsap__[\"Power4\"].easeIn,\n          onUpdate: function onUpdate() {\n            modelA.rotation.y = paramsOut.y;\n            if (paramsOut.p > 0.5 && !isSwitched) {\n              self.scene.add(modelB);\n              __WEBPACK_IMPORTED_MODULE_5_gsap__[\"TweenMax\"].to(paramsIn, 1, {\n                p: 1,\n                y: 0,\n                ease: __WEBPACK_IMPORTED_MODULE_5_gsap__[\"Power4\"].easeOut,\n                onUpdate: function onUpdate() {\n                  modelB.rotation.y = paramsIn.y;\n                },\n                onComplete: function onComplete() {\n                  self.flags.isTransition = false;\n                  self.setStep(self.currentStep, true);\n                }\n              });\n\n              isSwitched = true;\n            }\n          },\n          onComplete: function onComplete() {\n            self.scene.remove(modelA);\n          }\n        });\n      }\n    }\n  }, {\n    key: 'addDebug',\n    value: function addDebug() {\n      var sphereGeometry = new __WEBPACK_IMPORTED_MODULE_3_three__[\"OctahedronGeometry\"](0.2, 3);\n      var sphereMaterial = new __WEBPACK_IMPORTED_MODULE_3_three__[\"MeshBasicMaterial\"]({\n        color: 0xFFFFFF\n      });\n\n      var sphere = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Mesh\"](sphereGeometry, sphereMaterial);\n      sphere.position.copy(__WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][this.currentStep][0]);\n\n      this.debug = {\n        sphere: sphere\n      };\n\n      this.scene.add(sphere);\n    }\n  }, {\n    key: 'addGUI',\n    value: function addGUI() {\n      var self = this;\n      var gui = new dat.GUI();\n      var vars = new Variables();\n\n      var point0Folder = gui.addFolder('Point (0,0)');\n      point0Folder.add(vars.point0, 'x').step(0.1).onChange(setPoint0);\n      point0Folder.add(vars.point0, 'y').step(0.1).onChange(setPoint0);\n      point0Folder.add(vars.point0, 'z').step(0.1).onChange(setPoint0);\n\n      function setPoint0() {\n        __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][0].copy(vars.point0);\n        self.debug.sphere.position.copy(__WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][0]);\n        self.cameraTarget.copy(__WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][0]);\n      }\n\n      function Variables() {\n        this.point0 = {\n          x: __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][0].x,\n          y: __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][0].y,\n          z: __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][0].z\n        };\n\n        this.pointA = {\n          x: __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][1].x,\n          y: __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][1].y,\n          z: __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][1].z\n        };\n\n        this.pointB = {\n          x: __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][2].x,\n          y: __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][2].y,\n          z: __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][2].z\n        };\n      }\n    }\n  }, {\n    key: 'addControls',\n    value: function addControls() {\n      this.controls = new __WEBPACK_IMPORTED_MODULE_10__lib_OrbitControls__[\"a\" /* default */](this.camera, this.container);\n      this.controls.minDistance = 0;\n      this.controls.maxDistance = 90;\n      this.controls.target.copy(__WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"c\" /* POSITIONS */][this.currentStep][0]);\n    }\n  }, {\n    key: 'init',\n    value: function init(cb) {\n      var _this2 = this;\n\n      return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve) {\n        _this2.updateSize();\n\n        _this2.addCamera();\n\n\n        _this2.initRenderer();\n        _this2.render();\n\n        _this2.loadModels(cb).then(function () {\n          _this2.setSceneModel(_this2.currentModel);\n          _this2.setCameraByStep(_this2.currentStep, true);\n\n          _this2.initEvents();\n          _this2.flags.isInitialized = true;\n          resolve();\n        });\n\n        if (_this2.flags.isDebug) {\n          console.warn('--- DEBUG MODE ---');\n          _this2.addGUI();\n          _this2.addDebug();\n          _this2.addControls();\n        }\n      });\n    }\n  }]);\n\n  return Animation;\n}();\n\nfunction createModel(object, options) {\n  var scale = __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"f\" /* IMPORT_SCALE */];\n  var group = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Object3D\"]();\n\n  if (options.edges) {\n    var edgesGeo = new __WEBPACK_IMPORTED_MODULE_3_three__[\"EdgesGeometry\"](object);\n    var edges = new __WEBPACK_IMPORTED_MODULE_3_three__[\"LineSegments\"](edgesGeo, __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"g\" /* MATERIALS */].edgesMat);\n    edges.scale.set(scale, scale, scale);\n    if (options.position) {\n      edges.position.copy(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__utils__[\"a\" /* v3 */])(options.position[0], options.position[1], options.position[2]));\n    }\n\n    group.add(edges);\n  }\n\n  if (options.wireframe) {\n    var wireframe = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Mesh\"](object, __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"g\" /* MATERIALS */].wireframeMat);\n    wireframe.scale.set(scale, scale, scale);\n    if (options.position) {\n      wireframe.position.copy(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__utils__[\"a\" /* v3 */])(options.position[0], options.position[1], options.position[2]));\n    }\n\n    group.add(wireframe);\n  }\n\n  if (options.faces) {\n    var faces = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Mesh\"](object, __WEBPACK_IMPORTED_MODULE_8__Animation_const__[\"g\" /* MATERIALS */].facesMat);\n\n    faces.scale.set(scale, scale, scale);\n    if (options.position) {\n      faces.position.copy(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__utils__[\"a\" /* v3 */])(options.position[0], options.position[1], options.position[2]));\n    }\n\n    group.add(faces);\n  }\n\n  return group;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Animation);\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return CAMERA_SPEED; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return FAKE_LOADING_TIME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return IMPORT_SCALE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return MOUSE_CONSTRAINT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PATHS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return POSITIONS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"g\", function() { return MATERIALS; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils__ = __webpack_require__(24);\n\n\n\n\nvar PALLETE = {\n  basic: 0x1abc9c,\n  accent: 0x3498db\n};\n\nvar CAMERA_SPEED = 0.01;\n\nvar FAKE_LOADING_TIME = 0.5;\n\nvar IMPORT_SCALE = 0.1;\n\nvar MOUSE_CONSTRAINT = 0.8;\n\nvar PATHS = {\n  models: '/static/models/'\n};\n\nvar POSITIONS = [[__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* v3 */])(-0.3, 0.9, -1.7), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* v3 */])(-1.28, 0.89, 5.41), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* v3 */])(0.56, 5.53, 20.24)], [__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* v3 */])(-2.4, 1.6, -1.40), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* v3 */])(0.2, 7.2, 5.7), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* v3 */])(-1.5, 60.2, 1)], [__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* v3 */])(4.4, 2, 2), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* v3 */])(-13.03, 12.97, -30.59), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"a\" /* v3 */])(-51.45, 29.01, 23.44)]];\n\nvar edgesMat = new __WEBPACK_IMPORTED_MODULE_0_three__[\"LineBasicMaterial\"]({\n  color: PALLETE.basic,\n  linewidth: 2\n});\n\nvar edgesMatAccent = new __WEBPACK_IMPORTED_MODULE_0_three__[\"LineBasicMaterial\"]({\n  color: PALLETE.accent,\n  lineWidth: 4\n});\n\nvar wireframeMat = new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({\n  color: PALLETE.basic,\n  side: __WEBPACK_IMPORTED_MODULE_0_three__[\"DoubleSide\"],\n  transparent: true,\n  opacity: 0.25,\n  wireframe: true,\n  blending: __WEBPACK_IMPORTED_MODULE_0_three__[\"AdditiveBlending\"]\n});\n\nvar facesMat = new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({\n  color: PALLETE.basic,\n  side: __WEBPACK_IMPORTED_MODULE_0_three__[\"DoubleSide\"],\n  transparent: true,\n  opacity: 0.2\n});\n\nvar facesMatAccent = new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({\n  color: PALLETE.accent,\n  side: __WEBPACK_IMPORTED_MODULE_0_three__[\"DoubleSide\"],\n  transparent: true,\n  opacity: 0.9,\n  blending: __WEBPACK_IMPORTED_MODULE_0_three__[\"AdditiveBlending\"]\n});\n\nvar MATERIALS = {\n  edgesMat: edgesMat,\n  edgesMatAccent: edgesMatAccent,\n  wireframeMat: wireframeMat,\n  facesMat: facesMat,\n  facesMatAccent: facesMatAccent\n};\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PARTIALS_WPT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return PARTIALS_WROCLAVIA; });\nvar PARTIAL_BASE_WPT = 'wpt';\nvar PARTIAL_BASE_WROCLAVIA = 'wroclavia';\n\nvar PARTIALS_WPT = [{\n  model: PARTIAL_BASE_WPT + '-buildings.json',\n  edges: true,\n  wireframe: true,\n  faces: true\n}, {\n  model: PARTIAL_BASE_WPT + '-terrain.json',\n  edges: false,\n  wireframe: true,\n  faces: true,\n  position: [0, -0.25, 0]\n}, {\n  model: PARTIAL_BASE_WPT + '-green.json',\n  edges: true,\n  wireframe: false,\n  faces: true\n}, {\n  model: PARTIAL_BASE_WPT + '-building-alfa.json',\n  edges: true,\n  wireframe: true,\n  faces: true\n}, {\n  model: PARTIAL_BASE_WPT + '-roads.json',\n  edges: false,\n  wireframe: true,\n  faces: true\n}];\n\nvar PARTIALS_WROCLAVIA = [{\n  model: PARTIAL_BASE_WROCLAVIA + '-buildings.json',\n  edges: true,\n  wireframe: true,\n  faces: true\n}, {\n  model: PARTIAL_BASE_WROCLAVIA + '-terrain.json',\n  edges: false,\n  wireframe: true,\n  faces: true,\n  position: [0, -0.25, 0]\n}, {\n  model: PARTIAL_BASE_WROCLAVIA + '-office.json',\n  edges: true,\n  wireframe: true,\n  faces: true\n}, {\n  model: PARTIAL_BASE_WROCLAVIA + '-roads.json',\n  edges: false,\n  wireframe: true,\n  faces: true\n}];\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_three__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_gsap__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_gsap__);\n\n\n\n\n\n\n\nvar PALLETE = {\n  blue: 0x3498db,\n  green: 0x2ecc71,\n  orange: 0xee5624,\n  darkOrange: 0xd35400,\n  yellow: 0x34495e\n};\n\nvar DEFAULTS = {\n  noise: 0.2,\n  radius: 3,\n  radius_outer_factor: 1.2,\n  rotate_speed: 0.03,\n  scale_speed: 2\n};\n\nvar PlanetLoader = function () {\n  function PlanetLoader(size) {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, PlanetLoader);\n\n    this.isActive = false;\n    this.progress = 0;\n    this.previous = 0;\n    this.scaleFactor = 0;\n    this.scale = 1;\n    this.size = size || DEFAULTS.radius;\n    this.mesh = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Object3D\"]();\n\n    this.planet = createPlanet(this.size);\n    this.wireframe = createWireframe(this.size * DEFAULTS.radius_outer_factor);\n\n    this.mesh.add(this.planet);\n    this.mesh.add(this.wireframe);\n\n    this.addLights();\n  }\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(PlanetLoader, [{\n    key: 'addLights',\n    value: function addLights() {\n      var ambientLight = new __WEBPACK_IMPORTED_MODULE_3_three__[\"AmbientLight\"](0x663344, 2);\n      this.mesh.add(ambientLight);\n\n      var light = new __WEBPACK_IMPORTED_MODULE_3_three__[\"DirectionalLight\"](0xffffff, 1.5);\n      light.position.set(200, 100, 200);\n\n      light.shadow.camera.left = -400;\n      light.shadow.camera.right = 400;\n      light.shadow.camera.top = 400;\n      light.shadow.camera.bottom = -400;\n      light.shadow.camera.near = 1;\n      light.shadow.camera.far = 1000;\n      light.shadow.mapSize.width = 2048;\n      light.shadow.mapSize.height = 2048;\n\n      this.mesh.add(light);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      if (this.isActive) {\n\n        this.planet.rotation.z -= DEFAULTS.rotate_speed / 10;\n        this.planet.rotation.y -= DEFAULTS.rotate_speed;\n\n        this.wireframe.rotation.z += DEFAULTS.rotate_speed / 2;\n        this.wireframe.rotation.y -= DEFAULTS.rotate_speed / 2;\n\n        this.mesh.scale.set(this.scale, this.scale, this.scale);\n      }\n    }\n  }, {\n    key: 'updateScale',\n    value: function updateScale(t) {\n      this.scale = 1 - (Math.abs(Math.sin(t * DEFAULTS.scale_speed)) / 6 + this.scaleFactor);\n    }\n  }, {\n    key: 'getMesh',\n    value: function getMesh() {\n      return this.mesh;\n    }\n  }, {\n    key: 'clearFaces',\n    value: function clearFaces() {\n      var facesLength = this.planet.geometry.faces.length;\n      for (var i = 0; i < facesLength; i += 1) {\n        this.planet.material.materials[i] = getMaterial(PALLETE.orange, true);\n        this.planet.material.materials[i].needsUpdate = true;\n      }\n    }\n  }, {\n    key: 'activate',\n    value: function activate() {\n      this.isActive = true;\n    }\n  }, {\n    key: 'updateFaces',\n    value: function updateFaces(p) {\n      var facesLength = this.planet.geometry.faces.length;\n      var curr = Math.min(Math.ceil(facesLength * p + 1), facesLength);\n\n\n      for (var i = this.previous; i < curr; i += 1) {\n        this.planet.material.materials[i] = getMaterial(PALLETE.orange);\n        this.planet.material.materials[i].needsUpdate = true;\n      }\n\n      this.previous = Math.max(this.progress - 1, 0);\n      this.progress = curr;\n    }\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      var _this = this;\n\n      return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve) {\n        var o = {\n          progress: 1\n        };\n\n        __WEBPACK_IMPORTED_MODULE_4_gsap__[\"TweenMax\"].to(o, 1, {\n          progress: 0,\n          ease: __WEBPACK_IMPORTED_MODULE_4_gsap__[\"Power4\"].easeIn,\n          onUpdate: function onUpdate() {\n            _this.scale = o.progress;\n          },\n          onComplete: function onComplete() {\n            resolve();\n          }\n        });\n      });\n    }\n  }]);\n\n  return PlanetLoader;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (PlanetLoader);\n\n\nfunction createPlanet(size) {\n  var geometry = new __WEBPACK_IMPORTED_MODULE_3_three__[\"TetrahedronGeometry\"](size, 2);\n\n  var material = getMaterial(PALLETE.orange, true);\n  var materials = [];\n\n  var facesLength = geometry.faces.length;\n  for (var i = 0; i < facesLength; i += 1) {\n    materials.push(material);\n  }\n\n  for (var _i = 0; _i < geometry.vertices.length; _i += 1) {\n    var v = geometry.vertices[_i];\n    v.x += -(DEFAULTS.noise / 2) + Math.random() * DEFAULTS.noise;\n    v.y += -(DEFAULTS.noise / 2) + Math.random() * DEFAULTS.noise;\n    v.z += -(DEFAULTS.noise / 2) + Math.random() * DEFAULTS.noise;\n  }\n\n  for (var _i2 = 0; _i2 < facesLength; _i2 += 1) {\n    geometry.faces[_i2].materialIndex = _i2;\n  }\n\n  var mesh = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Mesh\"](geometry, new __WEBPACK_IMPORTED_MODULE_3_three__[\"MultiMaterial\"](materials));\n  mesh.castShadow = true;\n  mesh.receiveShadow = true;\n\n  return mesh;\n}\n\nfunction createWireframe(size) {\n  var geometryWireframe = new __WEBPACK_IMPORTED_MODULE_3_three__[\"TetrahedronGeometry\"](size, 2);\n  var materialWireframe = getMaterial(PALLETE.blue, true, true, 0.25, __WEBPACK_IMPORTED_MODULE_3_three__[\"AdditiveBlending\"]);\n\n  var mesh = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Mesh\"](geometryWireframe, materialWireframe);\n\n  return mesh;\n}\n\nfunction getMaterial(color) {\n  var wireframe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var transparent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var opacity = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  var blending = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : __WEBPACK_IMPORTED_MODULE_3_three__[\"NoBlending\"];\n\n  var mat = !wireframe ? new __WEBPACK_IMPORTED_MODULE_3_three__[\"MeshStandardMaterial\"]({\n    color: color,\n    shading: __WEBPACK_IMPORTED_MODULE_3_three__[\"FlatShading\"],\n    wireframe: wireframe,\n    transparent: transparent,\n    opacity: opacity,\n    blending: blending,\n    side: __WEBPACK_IMPORTED_MODULE_3_three__[\"DoubleSide\"],\n    emissive: 0x270000,\n    roughness: 0.9\n  }) : new __WEBPACK_IMPORTED_MODULE_3_three__[\"MeshBasicMaterial\"]({\n    color: color,\n    shading: __WEBPACK_IMPORTED_MODULE_3_three__[\"FlatShading\"],\n    wireframe: wireframe,\n    transparent: transparent,\n    opacity: opacity,\n    blending: blending,\n    side: __WEBPACK_IMPORTED_MODULE_3_three__[\"DoubleSide\"]\n  });\n\n  return mat;\n}\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__ = __webpack_require__(59);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__);\n\n\n\nvar THREE = window.THREE || __webpack_require__(9);\n\nfunction OrbitControls(object, domElement) {\n\n\tthis.object = object;\n\n\tthis.domElement = domElement !== undefined ? domElement : document;\n\n\tthis.enabled = true;\n\n\tthis.target = new THREE.Vector3();\n\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\tthis.minPolarAngle = 0;\n\tthis.maxPolarAngle = Math.PI;\n\tthis.minAzimuthAngle = -Infinity;\n\tthis.maxAzimuthAngle = Infinity;\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\tthis.enablePan = true;\n\tthis.keyPanSpeed = 7.0;\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0;\n\tthis.enableKeys = true;\n\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy(scope.target);\n\t\tscope.position0.copy(scope.object.position);\n\t\tscope.zoom0 = scope.object.zoom;\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy(scope.target0);\n\t\tscope.object.position.copy(scope.position0);\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent(changeEvent);\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\t};\n\n\tthis.update = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy(position).sub(scope.target);\n\n\t\t\toffset.applyQuaternion(quat);\n\n\t\t\tspherical.setFromVector3(offset);\n\n\t\t\tif (scope.autoRotate && state === STATE.NONE) {\n\n\t\t\t\trotateLeft(getAutoRotationAngle());\n\t\t\t}\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\tspherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta));\n\n\t\t\tspherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n\n\t\t\tspherical.makeSafe();\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\tspherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n\n\t\t\tscope.target.add(panOffset);\n\n\t\t\toffset.setFromSpherical(spherical);\n\n\t\t\toffset.applyQuaternion(quatInverse);\n\n\t\t\tposition.copy(scope.target).add(offset);\n\n\t\t\tscope.object.lookAt(scope.target);\n\n\t\t\tif (scope.enableDamping === true) {\n\n\t\t\t\tsphericalDelta.theta *= 1 - scope.dampingFactor;\n\t\t\t\tsphericalDelta.phi *= 1 - scope.dampingFactor;\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set(0, 0, 0);\n\t\t\t}\n\n\t\t\tscale = 1;\n\t\t\tpanOffset.set(0, 0, 0);\n\n\t\t\tif (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n\n\t\t\t\tscope.dispatchEvent(changeEvent);\n\n\t\t\t\tlastPosition.copy(scope.object.position);\n\t\t\t\tlastQuaternion.copy(scope.object.quaternion);\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n\t\tscope.domElement.removeEventListener('mousedown', onMouseDown, false);\n\t\tscope.domElement.removeEventListener('wheel', onMouseWheel, false);\n\n\t\tscope.domElement.removeEventListener('touchstart', onTouchStart, false);\n\t\tscope.domElement.removeEventListener('touchend', onTouchEnd, false);\n\t\tscope.domElement.removeEventListener('touchmove', onTouchMove, false);\n\n\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\twindow.removeEventListener('keydown', onKeyDown, false);\n\t};\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\tvar spherical = new THREE.Spherical();\n\tvar sphericalDelta = new THREE.Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new THREE.Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow(0.95, scope.zoomSpeed);\n\t}\n\n\tfunction rotateLeft(angle) {\n\n\t\tsphericalDelta.theta -= angle;\n\t}\n\n\tfunction rotateUp(angle) {\n\n\t\tsphericalDelta.phi -= angle;\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panLeft(distance, objectMatrix) {\n\n\t\t\tv.setFromMatrixColumn(objectMatrix, 0);\n\t\t\tv.multiplyScalar(-distance);\n\n\t\t\tpanOffset.add(v);\n\t\t};\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panUp(distance, objectMatrix) {\n\n\t\t\tv.setFromMatrixColumn(objectMatrix, 1);\n\t\t\tv.multiplyScalar(distance);\n\n\t\t\tpanOffset.add(v);\n\t\t};\n\t}();\n\n\tvar pan = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\treturn function pan(deltaX, deltaY) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif (scope.object instanceof THREE.PerspectiveCamera) {\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy(position).sub(scope.target);\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\ttargetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n\n\t\t\t\tpanLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t\tpanUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t} else if (scope.object instanceof THREE.OrthographicCamera) {\n\t\t\t\tpanLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n\t\t\t\tpanUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n\t\t\t} else {\n\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n\t\t\t\tscope.enablePan = false;\n\t\t\t}\n\t\t};\n\t}();\n\n\tfunction dollyIn(dollyScale) {\n\n\t\tif (scope.object instanceof THREE.PerspectiveCamera) {\n\n\t\t\tscale /= dollyScale;\n\t\t} else if (scope.object instanceof THREE.OrthographicCamera) {\n\n\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\t\t} else {\n\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\tscope.enableZoom = false;\n\t\t}\n\t}\n\n\tfunction dollyOut(dollyScale) {\n\n\t\tif (scope.object instanceof THREE.PerspectiveCamera) {\n\n\t\t\tscale *= dollyScale;\n\t\t} else if (scope.object instanceof THREE.OrthographicCamera) {\n\n\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\t\t} else {\n\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\tscope.enableZoom = false;\n\t\t}\n\t}\n\n\tfunction handleMouseDownRotate(event) {\n\n\t\trotateStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseDownDolly(event) {\n\n\t\tdollyStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseDownPan(event) {\n\n\t\tpanStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseMoveRotate(event) {\n\n\t\trotateEnd.set(event.clientX, event.clientY);\n\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\trotateStart.copy(rotateEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseMoveDolly(event) {\n\n\t\tdollyEnd.set(event.clientX, event.clientY);\n\n\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\tif (dollyDelta.y > 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t}\n\n\t\tdollyStart.copy(dollyEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseMovePan(event) {\n\n\t\tpanEnd.set(event.clientX, event.clientY);\n\n\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\tpan(panDelta.x, panDelta.y);\n\n\t\tpanStart.copy(panEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseUp(event) {}\n\n\tfunction handleMouseWheel(event) {\n\n\t\tif (event.deltaY < 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t} else if (event.deltaY > 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t}\n\n\t\tscope.update();\n\t}\n\n\tfunction handleKeyDown(event) {\n\n\t\tswitch (event.keyCode) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan(0, scope.keyPanSpeed);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan(0, -scope.keyPanSpeed);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan(scope.keyPanSpeed, 0);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan(-scope.keyPanSpeed, 0);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tfunction handleTouchStartRotate(event) {\n\n\t\trotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t}\n\n\tfunction handleTouchStartDolly(event) {\n\n\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\tdollyStart.set(0, distance);\n\t}\n\n\tfunction handleTouchStartPan(event) {\n\n\t\tpanStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t}\n\n\tfunction handleTouchMoveRotate(event) {\n\n\t\trotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\trotateStart.copy(rotateEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchMoveDolly(event) {\n\n\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\tdollyEnd.set(0, distance);\n\n\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\tif (dollyDelta.y > 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t}\n\n\t\tdollyStart.copy(dollyEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchMovePan(event) {\n\n\t\tpanEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\tpan(panDelta.x, panDelta.y);\n\n\t\tpanStart.copy(panEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchEnd(event) {}\n\n\tfunction onMouseDown(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch (event.button) {\n\n\t\t\tcase scope.mouseButtons.ORBIT:\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\thandleMouseDownRotate(event);\n\n\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.ZOOM:\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\thandleMouseDownDolly(event);\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.PAN:\n\n\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\thandleMouseDownPan(event);\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif (state !== STATE.NONE) {\n\n\t\t\tdocument.addEventListener('mousemove', onMouseMove, false);\n\t\t\tdocument.addEventListener('mouseup', onMouseUp, false);\n\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\t}\n\n\tfunction onMouseMove(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch (state) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\thandleMouseMoveRotate(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\thandleMouseMoveDolly(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\thandleMouseMovePan(event);\n\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tfunction onMouseUp(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\thandleMouseUp(event);\n\n\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\tscope.dispatchEvent(endEvent);\n\n\t\tstate = STATE.NONE;\n\t}\n\n\tfunction onMouseWheel(event) {\n\n\t\tif (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\thandleMouseWheel(event);\n\n\t\tscope.dispatchEvent(startEvent);\n\t\tscope.dispatchEvent(endEvent);\n\t}\n\n\tfunction onKeyDown(event) {\n\n\t\tif (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n\n\t\thandleKeyDown(event);\n\t}\n\n\tfunction onTouchStart(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tswitch (event.touches.length) {\n\n\t\t\tcase 1:\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\thandleTouchStartRotate(event);\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\thandleTouchStartDolly(event);\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\n\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\thandleTouchStartPan(event);\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif (state !== STATE.NONE) {\n\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\t}\n\n\tfunction onTouchMove(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch (event.touches.length) {\n\n\t\t\tcase 1:\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_ROTATE) return;\n\n\t\t\t\thandleTouchMoveRotate(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_DOLLY) return;\n\n\t\t\t\thandleTouchMoveDolly(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\n\t\t\t\tif (scope.enablePan === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_PAN) return;\n\n\t\t\t\thandleTouchMovePan(event);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\t}\n\n\tfunction onTouchEnd(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\thandleTouchEnd(event);\n\n\t\tscope.dispatchEvent(endEvent);\n\n\t\tstate = STATE.NONE;\n\t}\n\n\tfunction onContextMenu(event) {\n\n\t\tevent.preventDefault();\n\t}\n\n\tscope.domElement.addEventListener('contextmenu', onContextMenu, false);\n\n\tscope.domElement.addEventListener('mousedown', onMouseDown, false);\n\tscope.domElement.addEventListener('wheel', onMouseWheel, false);\n\n\tscope.domElement.addEventListener('touchstart', onTouchStart, false);\n\tscope.domElement.addEventListener('touchend', onTouchEnd, false);\n\tscope.domElement.addEventListener('touchmove', onTouchMove, false);\n\n\twindow.addEventListener('keydown', onKeyDown, false);\n\n\tthis.update();\n};\n\nOrbitControls.prototype = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default()(THREE.EventDispatcher.prototype);\nOrbitControls.prototype.constructor = THREE.OrbitControls;\n\n__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties___default()(OrbitControls.prototype, {\n\n\tcenter: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .center has been renamed to .target');\n\t\t\treturn this.target;\n\t\t}\n\n\t},\n\n\tnoZoom: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n\t\t\treturn !this.enableZoom;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n\t\t\tthis.enableZoom = !value;\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n\t\t\treturn !this.enableRotate;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n\t\t\tthis.enableRotate = !value;\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n\t\t\treturn !this.enablePan;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n\t\t\tthis.enablePan = !value;\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n\t\t\treturn !this.enableKeys;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n\t\t\tthis.enableKeys = !value;\n\t\t}\n\n\t},\n\n\tstaticMoving: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n\t\t\treturn !this.enableDamping;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n\t\t\tthis.enableDamping = !value;\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n\t\t\treturn this.dampingFactor;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n\t\t\tthis.dampingFactor = value;\n\t\t}\n\n\t}\n\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (OrbitControls);\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(48);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(47);\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n\n/***/ 56:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(58);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Three__ = __webpack_require__(46);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Three___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__Three__);\n\n\n\n\n\n\nvar scrollSettings = {\n  sensivity: 30,\n  duration: 600\n};\n\nvar ticking = false;\nvar container = void 0;\n\nvar animationDetails = {\n  active: false,\n  animatedSteps: [1, 2, 3],\n  animationMap: {\n    1: 0,\n    2: 1,\n    3: 2\n  },\n  currentStep: 0,\n  isLoaded: false,\n  isScrolled: false,\n  isScrolling: false,\n  renderStep: 0,\n  totalSlides: 6\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'landing',\n  components: {\n    Three: __WEBPACK_IMPORTED_MODULE_2__Three___default.a\n  },\n  data: function data() {\n    return {\n      animationDetails: animationDetails,\n      progress: 0\n    };\n  },\n\n  methods: {\n    onLoaded: function onLoaded() {\n      animationDetails.isLoaded = true;\n    },\n    onProgress: function onProgress(p) {\n      this.progress = Math.ceil(p * 100);\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    window.addEventListener('wheel', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_lodash__[\"throttle\"])(fullPageScroll, 60), false);\n    container = this.$el;\n\n    var sections = this.$el.querySelectorAll('section.section--isPlaceholder');\n\n    var _loop = function _loop(section) {\n      var placeholder = section.querySelector('.placeholder--small');\n\n      var img = new Image();\n      img.src = placeholder.src;\n      img.onload = function () {\n        placeholder.classList.add('placeholder--loaded');\n      };\n\n      var imgLarge = new Image();\n      imgLarge.src = section.dataset.large;\n      imgLarge.onload = function () {\n        imgLarge.setAttribute(_this.$options._scopeId, '');\n        imgLarge.classList.add('placeholder');\n        imgLarge.classList.add('placeholder--large');\n        section.setAttribute('placeholder-loaded', '');\n      };\n      section.appendChild(imgLarge);\n    };\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(sections), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var section = _step.value;\n\n        _loop(section);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  }\n});\n\nfunction fullPageScroll(e) {\n  var delta = e.wheelDelta;\n\n  if (ticking != true && animationDetails.isLoaded) {\n    if (delta <= -scrollSettings.sensivity) {\n      ticking = true;\n      if (animationDetails.currentStep !== animationDetails.totalSlides - 1) {\n        animationDetails.currentStep++;\n      }\n      scrollItems();\n      slideDurationTimeout(scrollSettings.duration);\n    }\n\n    if (delta >= scrollSettings.sensivity) {\n      ticking = true;\n      if (animationDetails.currentStep !== 0) {\n        animationDetails.currentStep--;\n      }\n\n      scrollItems();\n      slideDurationTimeout(scrollSettings.duration);\n    }\n  }\n}\n\nfunction slideDurationTimeout(slideDuration) {\n  setTimeout(function () {\n    ticking = false;\n  }, slideDuration);\n}\n\nfunction mapSlideStepToRender() {}\n\nfunction scrollItems() {\n  animationDetails.isScrolling = true;\n  setTimeout(function () {\n    animationDetails.isScrolling = false;\n  }, 3500);\n\n  animationDetails.active = animationDetails.animatedSteps.reduce(function (prev, n) {\n    return animationDetails.currentStep === n || prev;\n  }, false);\n\n  var mappedStep = animationDetails.animationMap[animationDetails.currentStep];\n\n  if (mappedStep !== undefined) {\n    animationDetails.renderStep = mappedStep;\n  }\n\n  if (!animationDetails.isScrolled) {\n    animationDetails.isScrolled = true;\n  }\n}\n\nfunction hasClass(el, className) {\n  if (el.classList) {\n    return el.classList.contains(className);\n  } else {\n    return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'));\n  }\n}\n\nfunction addClass(el, className) {\n  if (el.classList) {\n    el.classList.add(className);\n  } else if (!hasClass(el, className)) {\n    el.className += \" \" + className;\n  }\n}\n\nfunction removeClass(el, className) {\n  if (el.classList) {\n    el.classList.remove(className);\n  } else if (hasClass(el, className)) {\n    var reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n    el.className = el.className.replace(reg, ' ');\n  }\n}\n\n/***/ }),\n\n/***/ 57:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_Animation_class__ = __webpack_require__(49);\n\n\n\n\nvar previousStep = 0;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'threeDebug',\n  props: ['isActive', 'isDebug', 'step'],\n  data: function data() {\n    return {};\n  },\n\n  watch: {\n    step: function step(val) {\n      console.log('step:', val);\n      this.animation.setStep(val, true);\n\n      if (val === 2 && previousStep === 1) {\n        this.animation.switchBuildings('wroclavia');\n      }\n\n      if (val === 1 && previousStep === 2) {\n        this.animation.switchBuildings('wpt');\n      }\n\n      previousStep = val;\n    },\n    isActive: function isActive(val) {\n      this.animation.setActive(val);\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    console.log('componentDidMount', Date.now());\n    var options = {\n      active: this.isActive,\n      debug: this.isDebug,\n      container: this.$refs.scene,\n\n      step: this.step\n    };\n    this.animation = new __WEBPACK_IMPORTED_MODULE_0__common_Animation_class__[\"a\" /* default */](options);\n    this.animation.init(function (p) {\n      _this.$emit('progress', p);\n    }).then(function () {\n      _this.$emit('loaded');\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[54]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.95b78812adf407c9fe6e.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-558b8ed5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!./Landing.scss\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Landing.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-558b8ed5\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Landing.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-558b8ed5\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Landing.vue\n// module id = 101\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-33ea26ba\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 102\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"landing\",\n    staticClass: \"Landing\",\n    class: ['slide-' + _vm.animationDetails.currentStep, {\n      'loaded': _vm.animationDetails.isLoaded,\n      'scrolled': _vm.animationDetails.isScrolled,\n      'scrolling': _vm.animationDetails.isScrolling\n    }]\n  }, [_c('div', {\n    staticClass: \"background\",\n    class: {\n      isOff: !_vm.animationDetails.active\n    }\n  }, [_c('Three', {\n    attrs: {\n      \"isActive\": _vm.animationDetails.active,\n      \"step\": _vm.animationDetails.renderStep\n    },\n    on: {\n      \"loaded\": _vm.onLoaded,\n      \"progress\": _vm.onProgress\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"background-map\"\n  }), _vm._v(\" \"), _c('section', {\n    class: [{\n      isActive: _vm.animationDetails.currentStep === 0\n    }, 'section--isPlaceholder'],\n    attrs: {\n      \"id\": \"slide-0\",\n      \"data-large\": \"/static/wpt.jpg\"\n    }\n  }, [_c('img', {\n    staticClass: \"placeholder placeholder--small\",\n    attrs: {\n      \"src\": \"/static/wpt__small.jpg\"\n    }\n  })]), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('section', {\n    attrs: {\n      \"id\": \"slide-3\"\n    }\n  }), _vm._v(\" \"), _vm._m(2), _vm._v(\" \"), _vm._m(3), _vm._v(\" \"), _vm._m(4), _vm._v(\" \"), _vm._m(5), _vm._v(\" \"), _c('div', {\n    staticClass: \"loader\"\n  }, [_c('div', {\n    staticClass: \"dot\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"dot\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"dot\"\n  }), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm.progress) + \" %\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"Menu\",\n    class: {\n      isActive: _vm.animationDetails.currentStep > 0\n    }\n  }, [_vm._m(6), _vm._v(\" \"), _vm._m(7)])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-1\"\n    }\n  }, [_c('h1', [_vm._v(\"Welcome to PGS\")]), _vm._v(\" \"), _c('h2', [_vm._v(\"lorem ipsum dolor sit amet\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-2\"\n    }\n  }, [_c('h1', [_vm._v(\"hello world - slide 2\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-4\"\n    }\n  }, [_c('h1', [_vm._v(\"hello world - slide 4\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-5\"\n    }\n  }, [_c('h1', [_vm._v(\"hello world - slide 5\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"mouse\"\n  }, [_c('div', {\n    staticClass: \"scroll-wheel\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"scroll\"\n  }, [_c('p', [_vm._v(\"keep scrolling...\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('a', {\n    staticClass: \"logo\"\n  }, [_c('span', [_vm._v(\"PGS Software\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', [_c('li', [_vm._v(\"About\")]), _vm._v(\" \"), _c('li', [_vm._v(\"Contact\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-558b8ed5\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Landing.vue\n// module id = 103\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"scene\",\n    staticClass: \"Scene\"\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-ba65df48\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Three.vue\n// module id = 104\n// module chunks = 1","import * as THREE from 'three';\r\n\r\nexport function rad2deg(rad) {\r\n  return rad * (180 / Math.PI);\r\n}\r\n\r\nexport function deg2rad(deg) {\r\n  return deg * (Math.PI / 180);\r\n}\r\n\r\nexport function getPointInBetweenByPerc(pointA, pointB, percentage) {\r\n  let dir = pointB.clone().sub(pointA);\r\n  const len = dir.length();\r\n\r\n  dir = dir.normalize().multiplyScalar(len * percentage);\r\n\r\n  return pointA.clone().add(dir);\r\n}\r\n\r\nexport function v3(x, y, z) {\r\n  return new THREE.Vector3(x, y, z);\r\n}\r\n\r\nexport function v3dir(vA, vB) {\r\n  return new THREE.Vector3().subVectors(vA, vB);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utils.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ba65df48\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Three.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Three.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ba65df48\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Three.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-ba65df48\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Three.vue\n// module id = 46\n// module chunks = 1","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport Landing from '@/components/Landing';\r\nimport Three from '@/components/Three';\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'Landing',\r\n      component: Landing,\r\n    },\r\n    {\r\n      path: '/debug',\r\n      name: 'Three',\r\n      component: Three,\r\n      props: {\r\n        isActive: true,\r\n        isDebug: true,\r\n        step: 2,\r\n      },\r\n    },\r\n  ],\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-33ea26ba\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-33ea26ba\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 48\n// module chunks = 1","/* --eslint-disable */\r\nimport * as THREE from 'three';\r\n\r\nimport {\r\n  throttle,\r\n} from 'lodash';\r\n\r\nimport {\r\n  TweenMax,\r\n  Power4,\r\n} from 'gsap';\r\n\r\nimport {\r\n  // deg2rad,\r\n  getPointInBetweenByPerc,\r\n  v3,\r\n  v3dir,\r\n} from './utils';\r\n\r\nimport PlanetLoader from './PlanetLoader.class';\r\n\r\n// INTERNAL VARIABLES\r\nimport {\r\n  CAMERA_SPEED,\r\n  FAKE_LOADING_TIME,\r\n  IMPORT_SCALE,\r\n  MATERIALS,\r\n  MOUSE_CONSTRAINT,\r\n  PATHS,\r\n  POSITIONS,\r\n} from './Animation.const';\r\n\r\n// MODELS PARTIALS SETTINGS\r\nimport {\r\n  PARTIALS_WPT,\r\n  PARTIALS_WROCLAVIA,\r\n} from './Animation.models';\r\n\r\n\r\nimport OrbitControls from '../lib/OrbitControls';\r\n\r\n// CLASS IMPLEMENTATION\r\nclass Animation {\r\n  constructor(options) {\r\n    console.log('Animation():', options);\r\n\r\n    this.scene = new THREE.Scene();\r\n    this.clock = new THREE.Clock();\r\n\r\n    this.models = {};\r\n    this.currentModel = options.model || 'wpt';\r\n    this.currentStep = options.step || 0; // 0 -> 0, 1 -> 1 ...\r\n    this.container = options.container;\r\n    this.flags = {\r\n      isActive: options.active,\r\n      isDebug: options.debug,\r\n      isInitialized: false,\r\n      isLoaded: false,\r\n      isTransition: false,\r\n    };\r\n  }\r\n\r\n  // SCENE OBJECTS\r\n  addCamera() {\r\n    const camera = new THREE.PerspectiveCamera(20, this.WIDTH / this.HEIGHT, 1, 10000);\r\n    camera.lookAt(this.scene.position);\r\n\r\n    this.camera = camera;\r\n  }\r\n\r\n  addHelpers() {\r\n    const axisHelper = new THREE.AxisHelper(10);\r\n    const gridHelper = new THREE.GridHelper(1000, 1000);\r\n\r\n    this.scene.add(axisHelper);\r\n    this.scene.add(gridHelper);\r\n  }\r\n\r\n  loadModels(cb) {\r\n    const loadingManager = new THREE.LoadingManager();\r\n    const loader = new THREE.JSONLoader(loadingManager);\r\n\r\n    this.planetLoader = new PlanetLoader();\r\n    const loaderMesh = this.planetLoader.getMesh();\r\n\r\n    this.scene.add(loaderMesh);\r\n    this.setCamera(v3(0, 0, 100), v3(0, 0, 0));\r\n    this.animate();\r\n\r\n    return new Promise((resolve) => {\r\n      const wptModel = new THREE.Object3D();\r\n      const wroclaviaModel = new THREE.Object3D();\r\n\r\n      PARTIALS_WPT.forEach((partial) => {\r\n        loader.load(`${PATHS.models}${partial.model}`, (object) => {\r\n          wptModel.add(createModel(object, partial));\r\n        });\r\n      });\r\n\r\n      PARTIALS_WROCLAVIA.forEach((partial) => {\r\n        loader.load(`${PATHS.models}${partial.model}`, (object) => {\r\n          wroclaviaModel.add(createModel(object, partial));\r\n        });\r\n      });\r\n\r\n      loadingManager.onProgress = (url, itemsLoaded, itemsTotal) => {\r\n        console.log(`Loading file: ${url} Loaded. ${itemsLoaded} of ${itemsTotal} files.`);\r\n        cb(itemsLoaded / itemsTotal);\r\n      };\r\n\r\n      loadingManager.onLoad = () => {\r\n        const o = {\r\n          progress: 0,\r\n        };\r\n\r\n        TweenMax.to(o, FAKE_LOADING_TIME, {\r\n          progress: 1,\r\n          onStart: () => {\r\n            this.planetLoader.activate();\r\n          },\r\n          onUpdate: () => {\r\n            this.planetLoader.updateFaces(o.progress);\r\n          },\r\n          onComplete: () => {\r\n            this.models.wpt = wptModel;\r\n            this.models.wroclavia = wroclaviaModel;\r\n\r\n            this.planetLoader.dispose()\r\n              .then(() => {\r\n                this.flags.isLoaded = true;\r\n                this.scene.remove(loaderMesh);\r\n                resolve();\r\n              });\r\n          },\r\n        });\r\n      };\r\n    });\r\n  }\r\n\r\n  // EVENTS, HANDLERS\r\n\r\n  initRenderer() {\r\n    const renderer = new THREE.WebGLRenderer({\r\n      alpha: true,\r\n      antialias: true,\r\n    });\r\n\r\n    renderer.shadowMap.soft = true;\r\n    renderer.shadowMap.enabled = true;\r\n    renderer.setSize(this.WIDTH, this.HEIGHT);\r\n\r\n    this.container.appendChild(renderer.domElement);\r\n    this.renderer = renderer;\r\n  }\r\n\r\n  initEvents() {\r\n    if (this.flags.isDebug) {\r\n      this.controls.addEventListener('change', this.render.bind(this));\r\n      document.addEventListener('keydown', this.onKeyDown.bind(this));\r\n    } else {\r\n      document.addEventListener('mousemove', throttle(this.onDocumentMouseMove.bind(this), 50), false);\r\n    }\r\n\r\n    window.addEventListener('resize', this.updateSize.bind(this), false);\r\n  }\r\n\r\n  updateSize() {\r\n    this.WIDTH = this.container.offsetWidth;\r\n    this.HEIGHT = this.container.offsetHeight;\r\n\r\n    if (this.flags.isInitialized) {\r\n      this.camera.aspect = this.WIDTH / this.HEIGHT;\r\n      this.camera.updateProjectionMatrix();\r\n      this.renderer.setSize(this.WIDTH, this.HEIGHT);\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  onDocumentMouseMove(event) {\r\n    if (!this.flags.isTransition) {\r\n      this.moveProgress = event.clientX / this.WIDTH;\r\n      this.moveOffset = ((event.clientY - this.HEIGHT) / 2) / (this.HEIGHT / 2);\r\n\r\n      const cameraStart = POSITIONS[this.currentStep][1];\r\n      const cameraEnd = POSITIONS[this.currentStep][2];\r\n\r\n      this.cameraMove = getPointInBetweenByPerc(cameraStart, cameraEnd, this.moveProgress);\r\n\r\n      this.cameraMove.y = (this.cameraMove.y - this.moveOffset) * MOUSE_CONSTRAINT;\r\n    }\r\n  }\r\n\r\n  onKeyDown(e) {\r\n    console.log('e', e);\r\n\r\n    switch (e.keyCode) {\r\n      case 68:\r\n        console.log('camera position:',\r\n          `${this.camera.position.x.toFixed(2)}, \\\r\n${this.camera.position.y.toFixed(2)}, \\\r\n${this.camera.position.z.toFixed(2)}`);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  // INTERNALS\r\n  render() {\r\n    this.renderer.render(this.scene, this.camera);\r\n  }\r\n\r\n  animate() {\r\n    if (this.flags.isActive) {\r\n      if (this.flags.isLoaded) {\r\n        if (this.cameraMove && !this.flags.isDebug) {\r\n          const dir = v3dir(this.cameraMove, this.camera.position);\r\n\r\n          this.camera.position.x += dir.x * CAMERA_SPEED;\r\n          this.camera.position.y += dir.y * CAMERA_SPEED;\r\n          this.camera.position.z += dir.z * CAMERA_SPEED;\r\n\r\n          this.camera.lookAt(this.cameraTarget);\r\n        }\r\n\r\n        if (this.flags.isDebug) {\r\n          this.controls.update();\r\n          this.camera.lookAt(POSITIONS[this.currentStep][0]);\r\n        }\r\n      } else {\r\n        this.planetLoader.update(this.clock.getElapsedTime());\r\n      }\r\n\r\n      this.render();\r\n    }\r\n\r\n    requestAnimationFrame(this.animate.bind(this));\r\n  }\r\n\r\n  setSceneModel(modelName) {\r\n    this.cameraTarget = POSITIONS[this.currentStep][0];\r\n    this.scene.add(this.models[modelName]);\r\n  }\r\n\r\n  setCamera(position, target) {\r\n    this.camera.position.copy(position);\r\n    this.camera.lookAt(target);\r\n  }\r\n\r\n  setCameraByStep(step, addMovement) {\r\n    const targetStep = step !== undefined ? step : this.currentStep;\r\n    this.setCamera(POSITIONS[targetStep][1], POSITIONS[targetStep][0]);\r\n\r\n    if (addMovement) {\r\n      this.cameraMove = getPointInBetweenByPerc(POSITIONS[targetStep][1], POSITIONS[targetStep][2], 0);\r\n    }\r\n  }\r\n\r\n  setActive(val) {\r\n    console.log('setActive', val);\r\n    this.flags.isActive = val;\r\n  }\r\n\r\n  setStep(val, force) {\r\n    console.log('setStep', force);\r\n    this.currentStep = val;\r\n    if (force) {\r\n      this.cameraMove = getPointInBetweenByPerc(POSITIONS[val][1], POSITIONS[val][2], 0.5);\r\n    }\r\n  }\r\n\r\n  switchBuildings(switchTo) {\r\n    const self = this;\r\n    const paramsOut = {\r\n      p: 0,\r\n      y: 0,\r\n    };\r\n\r\n    const modelA = switchTo === 'wroclavia' ? self.models.wpt : self.models.wroclavia;\r\n    const modelB = switchTo === 'wroclavia' ? self.models.wroclavia : self.models.wpt;\r\n\r\n    const paramsIn = {\r\n      p: 0,\r\n      y: 1 * (Math.PI * 2),\r\n    };\r\n\r\n    let isSwitched = false;\r\n\r\n    this.flags.isTransition = true;\r\n    this.cameraMove = v3(0, 120, 0);\r\n\r\n    if (this.currentModel === 'wpt') {\r\n      TweenMax.to(paramsOut, 1, {\r\n        p: 1,\r\n        y: (-1 * (Math.PI * 2)) * 1,\r\n        ease: Power4.easeIn,\r\n        onUpdate() {\r\n          modelA.rotation.y = paramsOut.y;\r\n          if (paramsOut.p > 0.5 && !isSwitched) {\r\n            self.scene.add(modelB);\r\n            TweenMax.to(paramsIn, 1, {\r\n              p: 1,\r\n              y: 0,\r\n              ease: Power4.easeOut,\r\n              onUpdate() {\r\n                modelB.rotation.y = paramsIn.y;\r\n              },\r\n              onComplete() {\r\n                self.flags.isTransition = false;\r\n                self.setStep(self.currentStep, true);\r\n              },\r\n            });\r\n\r\n            isSwitched = true;\r\n          }\r\n        },\r\n        onComplete() {\r\n          self.scene.remove(modelA);\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  addDebug() {\r\n    const sphereGeometry = new THREE.OctahedronGeometry(0.2, 3);\r\n    const sphereMaterial = new THREE.MeshBasicMaterial({\r\n      color: 0xFFFFFF,\r\n    });\r\n\r\n    const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);\r\n    sphere.position.copy(POSITIONS[this.currentStep][0]);\r\n\r\n    this.debug = {\r\n      sphere,\r\n    };\r\n\r\n    this.scene.add(sphere);\r\n  }\r\n\r\n  addGUI() {\r\n    const self = this;\r\n    const gui = new dat.GUI();\r\n    const vars = new Variables();\r\n\r\n    const point0Folder = gui.addFolder('Point (0,0)');\r\n    point0Folder.add(vars.point0, 'x').step(0.1).onChange(setPoint0);\r\n    point0Folder.add(vars.point0, 'y').step(0.1).onChange(setPoint0);\r\n    point0Folder.add(vars.point0, 'z').step(0.1).onChange(setPoint0);\r\n\r\n    function setPoint0() {\r\n      POSITIONS[self.currentStep][0].copy(vars.point0);\r\n      self.debug.sphere.position.copy(POSITIONS[self.currentStep][0]);\r\n      self.cameraTarget.copy(POSITIONS[self.currentStep][0]);\r\n    }\r\n\r\n    function Variables() {\r\n      this.point0 = {\r\n        x: POSITIONS[self.currentStep][0].x,\r\n        y: POSITIONS[self.currentStep][0].y,\r\n        z: POSITIONS[self.currentStep][0].z,\r\n      };\r\n\r\n      this.pointA = {\r\n        x: POSITIONS[self.currentStep][1].x,\r\n        y: POSITIONS[self.currentStep][1].y,\r\n        z: POSITIONS[self.currentStep][1].z,\r\n      };\r\n\r\n      this.pointB = {\r\n        x: POSITIONS[self.currentStep][2].x,\r\n        y: POSITIONS[self.currentStep][2].y,\r\n        z: POSITIONS[self.currentStep][2].z,\r\n      };\r\n    }\r\n  }\r\n\r\n  addControls() {\r\n    this.controls = new OrbitControls(this.camera, this.container);\r\n    this.controls.minDistance = 0;\r\n    this.controls.maxDistance = 90;\r\n    this.controls.target.copy(POSITIONS[this.currentStep][0]);\r\n  }\r\n\r\n  // MAIN INIT\r\n  init(cb) {\r\n    return new Promise((resolve) => {\r\n      this.updateSize();\r\n\r\n      this.addCamera();\r\n      // this.addHelpers();\r\n\r\n      this.initRenderer();\r\n      this.render();\r\n\r\n      this.loadModels(cb)\r\n        .then(() => {\r\n          this.setSceneModel(this.currentModel);\r\n          this.setCameraByStep(this.currentStep, true);\r\n\r\n          this.initEvents();\r\n          this.flags.isInitialized = true;\r\n          resolve();\r\n        });\r\n\r\n      if (this.flags.isDebug) {\r\n        console.warn('--- DEBUG MODE ---');\r\n        this.addGUI();\r\n        this.addDebug();\r\n        this.addControls();\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n\r\nfunction createModel(object, options) {\r\n  const scale = IMPORT_SCALE; // * (options.importScale || 1);\r\n  const group = new THREE.Object3D();\r\n\r\n  if (options.edges) {\r\n    const edgesGeo = new THREE.EdgesGeometry(object);\r\n    const edges = new THREE.LineSegments(edgesGeo, MATERIALS.edgesMat);\r\n    edges.scale.set(scale, scale, scale);\r\n    if (options.position) {\r\n      edges.position.copy(v3(options.position[0], options.position[1], options.position[2]));\r\n    }\r\n\r\n    group.add(edges);\r\n  }\r\n\r\n  if (options.wireframe) {\r\n    const wireframe = new THREE.Mesh(object, MATERIALS.wireframeMat);\r\n    wireframe.scale.set(scale, scale, scale);\r\n    if (options.position) {\r\n      wireframe.position.copy(v3(options.position[0], options.position[1], options.position[2]));\r\n    }\r\n\r\n    group.add(wireframe);\r\n  }\r\n\r\n  if (options.faces) {\r\n    const faces = new THREE.Mesh(object, MATERIALS.facesMat);\r\n\r\n    faces.scale.set(scale, scale, scale);\r\n    if (options.position) {\r\n      faces.position.copy(v3(options.position[0], options.position[1], options.position[2]));\r\n    }\r\n\r\n    group.add(faces);\r\n  }\r\n\r\n  return group;\r\n}\r\n\r\nexport default Animation;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Animation.class.js","import * as THREE from 'three';\r\n\r\nimport {\r\n  v3,\r\n} from './utils';\r\n\r\nconst PALLETE = {\r\n  basic: 0x1abc9c,\r\n  accent: 0x3498db,\r\n};\r\n\r\nexport const CAMERA_SPEED = 0.01;\r\n\r\nexport const FAKE_LOADING_TIME = 0.5; // seconds\r\n\r\nexport const IMPORT_SCALE = 0.1;\r\n\r\nexport const MOUSE_CONSTRAINT = 0.8;\r\n\r\nexport const PATHS = {\r\n    models: '/static/models/',\r\n};\r\n\r\nexport const POSITIONS = [\r\n  [v3(-0.3, 0.9, -1.7), v3(-1.28, 0.89, 5.41), v3(0.56, 5.53, 20.24)], // camera, pointA, pointB\r\n  [v3(-2.4, 1.6, -1.40), v3(0.2, 7.2, 5.7), v3(-1.5, 60.2, 1)],\r\n  [v3(4.4, 2, 2), v3(-13.03, 12.97, -30.59), v3(-51.45, 29.01, 23.44)],\r\n];\r\n\r\nconst edgesMat = new THREE.LineBasicMaterial({\r\n  color: PALLETE.basic,\r\n  linewidth: 2,\r\n});\r\n\r\nconst edgesMatAccent = new THREE.LineBasicMaterial({\r\n  color: PALLETE.accent,\r\n  lineWidth: 4,\r\n});\r\n\r\nconst wireframeMat = new THREE.MeshBasicMaterial({\r\n  color: PALLETE.basic,\r\n  side: THREE.DoubleSide,\r\n  transparent: true,\r\n  opacity: 0.25,\r\n  wireframe: true,\r\n  blending: THREE.AdditiveBlending,\r\n});\r\n\r\nconst facesMat = new THREE.MeshBasicMaterial({\r\n  color: PALLETE.basic,\r\n  side: THREE.DoubleSide,\r\n  transparent: true,\r\n  opacity: 0.2,\r\n  // blending: THREE.AdditiveBlending\r\n});\r\n\r\nconst facesMatAccent = new THREE.MeshBasicMaterial({\r\n  color: PALLETE.accent,\r\n  side: THREE.DoubleSide,\r\n  transparent: true,\r\n  opacity: 0.9,\r\n  blending: THREE.AdditiveBlending,\r\n});\r\n\r\nexport const MATERIALS = {\r\n    edgesMat,\r\n    edgesMatAccent,\r\n    wireframeMat,\r\n    facesMat,\r\n    facesMatAccent,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Animation.const.js","const PARTIAL_BASE_WPT = 'wpt';\r\nconst PARTIAL_BASE_WROCLAVIA = 'wroclavia';\r\n\r\nexport const PARTIALS_WPT = [{\r\n    model: `${PARTIAL_BASE_WPT}-buildings.json`,\r\n    edges: true,\r\n    wireframe: true,\r\n    faces: true,\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WPT}-terrain.json`,\r\n    edges: false,\r\n    wireframe: true,\r\n    faces: true,\r\n    position: [0, -0.25, 0],\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WPT}-green.json`,\r\n    edges: true,\r\n    wireframe: false,\r\n    faces: true,\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WPT}-building-alfa.json`,\r\n    edges: true,\r\n    wireframe: true,\r\n    faces: true,\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WPT}-roads.json`,\r\n    edges: false,\r\n    wireframe: true,\r\n    faces: true,\r\n  },\r\n];\r\n\r\nexport const PARTIALS_WROCLAVIA = [{\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-buildings.json`,\r\n    edges: true,\r\n    wireframe: true,\r\n    faces: true,\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-terrain.json`,\r\n    edges: false,\r\n    wireframe: true,\r\n    faces: true,\r\n    position: [0, -0.25, 0],\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-office.json`,\r\n    edges: true,\r\n    wireframe: true,\r\n    faces: true,\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-roads.json`,\r\n    edges: false,\r\n    wireframe: true,\r\n    faces: true,\r\n  },\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Animation.models.js","import * as THREE from 'three';\r\n\r\nimport {\r\n  TweenMax,\r\n  Power4,\r\n} from 'gsap';\r\n\r\nconst PALLETE = {\r\n  blue: 0x3498db,\r\n  green: 0x2ecc71,\r\n  orange: 0xee5624,\r\n  darkOrange: 0xd35400,\r\n  yellow: 0x34495e,\r\n};\r\n\r\nconst DEFAULTS = {\r\n  noise: 0.2,\r\n  radius: 3,\r\n  radius_outer_factor: 1.2,\r\n  rotate_speed: 0.03,\r\n  scale_speed: 2,\r\n};\r\n\r\nexport default class PlanetLoader {\r\n  constructor(size) {\r\n    this.isActive = false;\r\n    this.progress = 0;\r\n    this.previous = 0;\r\n    this.scaleFactor = 0;\r\n    this.scale = 1;\r\n    this.size = size || DEFAULTS.radius;\r\n    this.mesh = new THREE.Object3D();\r\n\r\n    this.planet = createPlanet(this.size);\r\n    this.wireframe = createWireframe(this.size * DEFAULTS.radius_outer_factor);\r\n\r\n    this.mesh.add(this.planet);\r\n    this.mesh.add(this.wireframe);\r\n\r\n    this.addLights();\r\n  }\r\n\r\n  addLights() {\r\n    const ambientLight = new THREE.AmbientLight(0x663344, 2);\r\n    this.mesh.add(ambientLight);\r\n\r\n    const light = new THREE.DirectionalLight(0xffffff, 1.5);\r\n    light.position.set(200, 100, 200);\r\n    // light.castShadow = true;\r\n    light.shadow.camera.left = -400;\r\n    light.shadow.camera.right = 400;\r\n    light.shadow.camera.top = 400;\r\n    light.shadow.camera.bottom = -400;\r\n    light.shadow.camera.near = 1;\r\n    light.shadow.camera.far = 1000;\r\n    light.shadow.mapSize.width = 2048;\r\n    light.shadow.mapSize.height = 2048;\r\n\r\n    this.mesh.add(light);\r\n  }\r\n\r\n  update() {\r\n    if (this.isActive) {\r\n      // this.updateScale(scale);\r\n\r\n      this.planet.rotation.z -= DEFAULTS.rotate_speed / 10;\r\n      this.planet.rotation.y -= DEFAULTS.rotate_speed;\r\n\r\n      this.wireframe.rotation.z += DEFAULTS.rotate_speed / 2;\r\n      this.wireframe.rotation.y -= DEFAULTS.rotate_speed / 2;\r\n\r\n      this.mesh.scale.set(this.scale, this.scale, this.scale);\r\n    }\r\n  }\r\n\r\n  updateScale(t) {\r\n    this.scale = 1 - ((Math.abs(Math.sin(t * DEFAULTS.scale_speed)) / 6) + this.scaleFactor);\r\n  }\r\n\r\n  getMesh() {\r\n    return this.mesh;\r\n  }\r\n\r\n  clearFaces() {\r\n    const facesLength = this.planet.geometry.faces.length;\r\n    for (let i = 0; i < facesLength; i += 1) {\r\n      this.planet.material.materials[i] = getMaterial(PALLETE.orange, true);\r\n      this.planet.material.materials[i].needsUpdate = true;\r\n    }\r\n  }\r\n\r\n  activate() {\r\n    this.isActive = true;\r\n  }\r\n\r\n  updateFaces(p) {\r\n    const facesLength = this.planet.geometry.faces.length;\r\n    const curr = Math.min(Math.ceil((facesLength * p) + 1), facesLength);\r\n    // console.log('this.previous', this.previous)\r\n    // console.log('curr', curr)\r\n\r\n    for (let i = this.previous; i < curr; i += 1) {\r\n      this.planet.material.materials[i] = getMaterial(PALLETE.orange);\r\n      this.planet.material.materials[i].needsUpdate = true;\r\n    }\r\n\r\n    this.previous = Math.max(this.progress - 1, 0);\r\n    this.progress = curr;\r\n  }\r\n\r\n  dispose() {\r\n    return new Promise((resolve) => {\r\n      const o = {\r\n        progress: 1,\r\n      };\r\n\r\n      TweenMax.to(o, 1, {\r\n        progress: 0,\r\n        ease: Power4.easeIn,\r\n        onUpdate: () => {\r\n          this.scale = o.progress;\r\n        },\r\n        onComplete: () => {\r\n          resolve();\r\n        },\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nfunction createPlanet(size) {\r\n  const geometry = new THREE.TetrahedronGeometry(size, 2);\r\n\r\n  const material = getMaterial(PALLETE.orange, true);\r\n  const materials = [];\r\n\r\n  const facesLength = geometry.faces.length;\r\n  for (let i = 0; i < facesLength; i += 1) {\r\n    materials.push(material);\r\n  }\r\n\r\n  // randomize vertices\r\n  for (let i = 0; i < geometry.vertices.length; i += 1) {\r\n    const v = geometry.vertices[i];\r\n    v.x += -(DEFAULTS.noise / 2) + (Math.random() * DEFAULTS.noise);\r\n    v.y += -(DEFAULTS.noise / 2) + (Math.random() * DEFAULTS.noise);\r\n    v.z += -(DEFAULTS.noise / 2) + (Math.random() * DEFAULTS.noise);\r\n  }\r\n\r\n  for (let i = 0; i < facesLength; i += 1) {\r\n    geometry.faces[i].materialIndex = i;\r\n  }\r\n\r\n  const mesh = new THREE.Mesh(geometry, new THREE.MultiMaterial(materials));\r\n  mesh.castShadow = true;\r\n  mesh.receiveShadow = true;\r\n\r\n  return mesh;\r\n}\r\n\r\nfunction createWireframe(size) {\r\n  const geometryWireframe = new THREE.TetrahedronGeometry(size, 2);\r\n  const materialWireframe = getMaterial(PALLETE.blue, true, true, 0.25, THREE.AdditiveBlending);\r\n\r\n  const mesh = new THREE.Mesh(geometryWireframe, materialWireframe);\r\n\r\n  return mesh;\r\n}\r\n\r\nfunction getMaterial(color, wireframe = false, transparent = false, opacity = 1, blending = THREE.NoBlending) {\r\n  const mat = !wireframe ? new THREE.MeshStandardMaterial({\r\n    color,\r\n    shading: THREE.FlatShading,\r\n    wireframe,\r\n    transparent,\r\n    opacity,\r\n    blending,\r\n    side: THREE.DoubleSide,\r\n    emissive: 0x270000,\r\n    roughness: 0.9,\r\n  }) : new THREE.MeshBasicMaterial({\r\n    color,\r\n    shading: THREE.FlatShading,\r\n    wireframe,\r\n    transparent,\r\n    opacity,\r\n    blending,\r\n    side: THREE.DoubleSide,\r\n  });\r\n\r\n  return mat;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/PlanetLoader.class.js","/* eslint-disable */\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finger swipe\nconst THREE = window.THREE || require('three');\n\nfunction OrbitControls( object, domElement ) {\n\n\tthis.object = object;\n\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new THREE.Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t// restrict theta to be between desired limits\n\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\t\t\tscope.target.add( panOffset );\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new THREE.Spherical();\n\tvar sphericalDelta = new THREE.Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new THREE.Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\t//console.log( 'handleMouseDownPan' );\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\t//console.log( 'handleMouseMovePan' );\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( event ) {\n\n\t\t// console.log( 'handleMouseUp' );\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\t// console.log( 'handleMouseWheel' );\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\t//console.log( 'handleKeyDown' );\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\t//console.log( 'handleTouchStartRotate' );\n\n\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\t//console.log( 'handleTouchStartDolly' );\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\t//console.log( 'handleTouchStartPan' );\n\n\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\t//console.log( 'handleTouchMoveRotate' );\n\n\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\t//console.log( 'handleTouchMoveDolly' );\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\t//console.log( 'handleTouchMovePan' );\n\n\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchEnd( event ) {\n\n\t\t//console.log( 'handleTouchEnd' );\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase scope.mouseButtons.ORBIT:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.ZOOM:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( startEvent ); // not sure why these are here...\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleTouchStartDolly( event );\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nOrbitControls.prototype.constructor = THREE.OrbitControls;\n\nObject.defineProperties(OrbitControls.prototype, {\n\n\tcenter: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\n\t\t\treturn this.target;\n\n\t\t}\n\n\t},\n\n\t// backward compatibility\n\n\tnoZoom: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\treturn ! this.enableZoom;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\tthis.enableZoom = ! value;\n\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\treturn ! this.enableRotate;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\tthis.enableRotate = ! value;\n\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\treturn ! this.enablePan;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\tthis.enablePan = ! value;\n\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\treturn ! this.enableKeys;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\tthis.enableKeys = ! value;\n\n\t\t}\n\n\t},\n\n\tstaticMoving: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\treturn ! this.enableDamping;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\tthis.enableDamping = ! value;\n\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\treturn this.dampingFactor;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\tthis.dampingFactor = value;\n\n\t\t}\n\n\t}\n\n} );\n\n\nexport default OrbitControls;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/OrbitControls.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue';\r\n// import Buefy from 'buefy';\r\n// import 'buefy/lib/buefy.css';\r\n\r\nimport App from './App';\r\nimport router from './router';\r\n\r\n// Vue.use(Buefy);\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  template: '<App/>',\r\n  components: { App },\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\r\n  <div id=\"app\">\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'app',\r\n  };\r\n\r\n</script>\r\n\r\n<style>\r\n  @import url('https://fonts.googleapis.com/css?family=Merriweather|Open+Sans');\r\n  /*@import url('https://fonts.googleapis.com/css?family=Rationale');*/\r\n  /*@import url('https://fonts.googleapis.com/css?family=Merriweather|Roboto:400,700');*/\r\n  /* global styles */\r\n\r\n  html,\r\n  body {\r\n    height: 100vh;\r\n    overflow: hidden;\r\n    margin: 0;\r\n  }\r\n\r\n  #app {\r\n    font-family: 'Open Sans', Helvetica, Arial, sans-serif;\r\n    font-size: 20px;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    overflow: hidden;\r\n    height: 100vh;\r\n    width: 100%;\r\n    display: flex;\r\n    background: #181919 linear-gradient(30deg, #1c403d, #181919);\r\n\r\n    /*background: url('/static/wpt.jpg');\r\n    background-position: 50% 50%;\r\n    background-size: cover;*/\r\n  }\r\n\r\n  div.dg.ac {\r\n    z-index: 1000;\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?625de746","<template>\r\n  <div class=\"Landing\" :class=\"['slide-' + animationDetails.currentStep, { \r\n      'loaded': animationDetails.isLoaded, \r\n      'scrolled' : animationDetails.isScrolled, \r\n      'scrolling' : animationDetails.isScrolling }]\" ref=\"landing\">\r\n    <div class=\"background\" :class=\"{ isOff: !animationDetails.active}\">\r\n      <Three :isActive=\"animationDetails.active\" :step=\"animationDetails.renderStep\" @loaded=\"onLoaded\" @progress=\"onProgress\"></Three>\r\n    </div>\r\n    <div class=\"background-map\"></div>\r\n\r\n    <section id=\"slide-0\" :class=\"[{ isActive: animationDetails.currentStep === 0 }, 'section--isPlaceholder']\" data-large=\"/static/wpt.jpg\">\r\n      <img class=\"placeholder placeholder--small\" src=\"/static/wpt__small.jpg\" />\r\n    </section>\r\n\r\n    <section id=\"slide-1\">\r\n      <h1>Welcome to PGS</h1>\r\n      <h2>lorem ipsum dolor sit amet</h2>\r\n    </section>\r\n\r\n    <section id=\"slide-2\">\r\n      <h1>hello world - slide 2</h1>\r\n    </section>\r\n\r\n    <section id=\"slide-3\">\r\n    </section>\r\n\r\n    <section id=\"slide-4\">\r\n      <h1>hello world - slide 4</h1>\r\n    </section>\r\n\r\n    <section id=\"slide-5\">\r\n      <h1>hello world - slide 5</h1>\r\n    </section>\r\n\r\n    <div class=\"mouse\">\r\n      <div class=\"scroll-wheel\"></div>\r\n    </div>\r\n\r\n    <div class=\"scroll\">\r\n      <p>keep scrolling...</p>\r\n    </div>\r\n\r\n    <div class=\"loader\">\r\n      <div class=\"dot\"></div>\r\n      <div class=\"dot\"></div>\r\n      <div class=\"dot\"></div>\r\n      <p>{{ progress }} %</p>\r\n    </div>\r\n\r\n    <div class=\"Menu\" :class=\"{ isActive: animationDetails.currentStep > 0 }\">\r\n      <a class=\"logo\"><span>PGS Software</span></a>\r\n      <ul>\r\n        <li>About</li>\r\n        <li>Contact</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  /* eslint-disable */\r\n  import {\r\n    throttle,\r\n    isFunction\r\n  } from 'lodash';\r\n\r\n  import Three from './Three';\r\n\r\n  const scrollSettings = {\r\n    sensivity: 30,\r\n    duration: 600\r\n  };\r\n\r\n  let ticking = false;\r\n  let container;\r\n\r\n  let animationDetails = {\r\n    active: false,\r\n    animatedSteps: [1, 2, 3],\r\n    animationMap: {\r\n      1: 0,\r\n      2: 1,\r\n      3: 2\r\n    },\r\n    currentStep: 0,\r\n    isLoaded: false,\r\n    isScrolled: false,\r\n    isScrolling: false,\r\n    renderStep: 0,\r\n    totalSlides: 6,\r\n  };\r\n\r\n  export default {\r\n    name: 'landing',\r\n    components: {\r\n      Three,\r\n    },\r\n    data() {\r\n      return {\r\n        animationDetails,\r\n        progress: 0,\r\n      };\r\n    },\r\n    methods: {\r\n      onLoaded() {\r\n        animationDetails.isLoaded = true;\r\n      },\r\n      onProgress(p) {\r\n        this.progress = Math.ceil(p * 100);\r\n      }\r\n    },\r\n    mounted() {\r\n      window.addEventListener('wheel', throttle(fullPageScroll, 60), false);\r\n      container = this.$el;\r\n\r\n      const sections = this.$el.querySelectorAll('section.section--isPlaceholder');\r\n      for (const section of sections) {\r\n        const placeholder = section.querySelector('.placeholder--small');\r\n\r\n        const img = new Image();\r\n        img.src = placeholder.src;\r\n        img.onload = function () {\r\n          placeholder.classList.add('placeholder--loaded');\r\n        };\r\n\r\n        const imgLarge = new Image();\r\n        imgLarge.src = section.dataset.large;\r\n        imgLarge.onload = () => {\r\n          // setTimeout(() => {\r\n            imgLarge.setAttribute(this.$options._scopeId, '');\r\n            imgLarge.classList.add('placeholder');\r\n            imgLarge.classList.add('placeholder--large');\r\n            section.setAttribute('placeholder-loaded', '');\r\n          // }, 1500);\r\n        };\r\n        section.appendChild(imgLarge);\r\n      }\r\n    },\r\n\r\n  };\r\n\r\n  function fullPageScroll(e) {\r\n    const delta = e.wheelDelta;\r\n\r\n    if (ticking != true && animationDetails.isLoaded) {\r\n      if (delta <= -scrollSettings.sensivity) { //nextItem\r\n        //Down scroll\r\n        ticking = true;\r\n        if (animationDetails.currentStep !== animationDetails.totalSlides - 1) {\r\n          animationDetails.currentStep++;\r\n        }\r\n        scrollItems();\r\n        slideDurationTimeout(scrollSettings.duration);\r\n      }\r\n\r\n      if (delta >= scrollSettings.sensivity) { //prevItem\r\n        //Up scroll\r\n        ticking = true;\r\n        if (animationDetails.currentStep !== 0) {\r\n          animationDetails.currentStep--;\r\n        }\r\n\r\n        scrollItems();\r\n        slideDurationTimeout(scrollSettings.duration);\r\n      }\r\n    }\r\n  }\r\n\r\n  function slideDurationTimeout(slideDuration) {\r\n    setTimeout(function () {\r\n      ticking = false;\r\n    }, slideDuration);\r\n  }\r\n\r\n  function mapSlideStepToRender() {\r\n\r\n  }\r\n\r\n  function scrollItems() {\r\n    animationDetails.isScrolling = true;\r\n    setTimeout(() => {\r\n      animationDetails.isScrolling = false; // @todo: add checking if on last step\r\n    }, 3500);\r\n\r\n    animationDetails.active = animationDetails.animatedSteps.reduce((prev, n) => {\r\n      return animationDetails.currentStep === n || prev;\r\n    }, false);\r\n\r\n    const mappedStep = animationDetails.animationMap[animationDetails.currentStep];\r\n\r\n    if (mappedStep !== undefined) {\r\n      animationDetails.renderStep = mappedStep;\r\n    }\r\n\r\n    if (!animationDetails.isScrolled) {\r\n      animationDetails.isScrolled = true;\r\n    }\r\n  }\r\n\r\n  // --- class helpers\r\n  function hasClass(el, className) {\r\n    if (el.classList) {\r\n      return el.classList.contains(className);\r\n    } else {\r\n      return !!el.className.match(new RegExp('(\\\\s|^)' + className + '(\\\\s|$)'))\r\n    }\r\n  }\r\n\r\n  function addClass(el, className) {\r\n    if (el.classList) {\r\n      el.classList.add(className);\r\n    } else if (!hasClass(el, className)) {\r\n      el.className += \" \" + className;\r\n    }\r\n  }\r\n\r\n  function removeClass(el, className) {\r\n    if (el.classList) {\r\n      el.classList.remove(className);\r\n    } else if (hasClass(el, className)) {\r\n      var reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n      el.className = el.className.replace(reg, ' ');\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" src=\"./Landing.scss\" scoped></style>\r\n\n\n\n// WEBPACK FOOTER //\n// Landing.vue?24575e21","<template>\r\n  <div class=\"Scene\" ref=\"scene\"></div>\r\n</template>\r\n\r\n<script>\r\n  import Animation from '../common/Animation.class';\r\n\r\n  let previousStep = 0;\r\n\r\n  export default {\r\n    name: 'threeDebug',\r\n    props: ['isActive', 'isDebug', 'step'],\r\n    data() {\r\n      return {};\r\n    },\r\n    watch: {\r\n      step(val) {\r\n        console.log('step:', val);\r\n        this.animation.setStep(val, true);\r\n\r\n        if (val === 2 && previousStep === 1) {\r\n          this.animation.switchBuildings('wroclavia');\r\n        }\r\n\r\n        if (val === 1 && previousStep === 2) {\r\n          this.animation.switchBuildings('wpt');\r\n        }\r\n\r\n        previousStep = val;\r\n      },\r\n      isActive(val) {\r\n        this.animation.setActive(val);\r\n      },\r\n    },\r\n    mounted() {\r\n      console.log('componentDidMount', Date.now());\r\n      const options = {\r\n        active: this.isActive,\r\n        debug: this.isDebug,\r\n        container: this.$refs.scene,\r\n        // model: 'wroclavia', // TODO: debug set initial model\r\n        step: this.step,\r\n      };\r\n      this.animation = new Animation(options);\r\n      this.animation.init((p) => {\r\n          this.$emit('progress', p);\r\n        })\r\n        .then(() => {\r\n          this.$emit('loaded');\r\n        });\r\n    },\r\n  };\r\n\r\n</script>\r\n\r\n<style scoped>\r\n  .Scene {\r\n    flex: 1;\r\n    z-index: 10;\r\n    /*background-color: #181919;*/\r\n    position: absolute;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    color: #FFF;\r\n    align-content: center;\r\n    justify-content: center;\r\n    opacity: 1;\r\n  }\r\n\r\n  .Scene::after {\r\n    content: \"\";\r\n    background-size: cover;\r\n    opacity: 0.25;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    position: absolute;\r\n    z-index: 0;\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Three.vue?1c7dd2e5"],"sourceRoot":""}