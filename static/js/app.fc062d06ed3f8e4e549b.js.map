{"version":3,"sources":["webpack:///static/js/app.fc062d06ed3f8e4e549b.js","webpack:///./src/components/Landing.vue","webpack:///./src/App.vue?3df4","webpack:///./src/components/Landing.vue?8866","webpack:///./src/components/Three.vue?d675","webpack:///./src/common/utils.js","webpack:///./src/components/Three.vue?3a81","webpack:///./src/router/index.js","webpack:///./src/App.vue?fc6a","webpack:///./src/common/Animation.class.js","webpack:///./src/common/Animation.const.js","webpack:///./src/common/Animation.models.js","webpack:///./src/common/PlanetLoader.class.js","webpack:///./src/lib/OrbitControls.js","webpack:///./src/main.js","webpack:///App.vue","webpack:///Landing.vue","webpack:///Three.vue"],"names":["webpackJsonp","100","module","exports","__webpack_require__","injectStyle","ssrContext","Component","101","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","102","ref","staticClass","class","animationDetails","currentStep","loaded","isLoaded","scrolled","isScrolled","scrolling","isScrolling","isOff","active","isStarted","isActive","step","renderStep","on","onLoaded","progress","onProgress","_v","_m","_s","103","14","__webpack_exports__","getPointInBetweenByPerc","pointA","pointB","percentage","dir","clone","sub","len","length","normalize","multiplyScalar","add","v3","x","y","z","__WEBPACK_IMPORTED_MODULE_0_three__","v3dir","vA","vB","subVectors","isMobile","test","navigator","userAgent","pointSpline","percent","spline","upVector","position","getPointAt","tangent","getTangentAt","axis","up","radians","Math","acos","dot","crossVectors","applyTransform","object","children","forEach","child","updateMatrix","geometry","applyMatrix","matrix","identity","scale","set","createPath","mesh","copy","vertices","material","color","splinePoints","getPoints","i","push","line","normalizeWheel","event","sX","sY","pX","pY","detail","wheelDelta","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","PIXEL_STEP","deltaY","deltaX","deltaMode","LINE_HEIGHT","PAGE_HEIGHT","spinX","spinY","pixelX","pixelY","43","44","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Landing__","__WEBPACK_IMPORTED_MODULE_2__components_Landing___default","n","__WEBPACK_IMPORTED_MODULE_3__components_Three__","__WEBPACK_IMPORTED_MODULE_3__components_Three___default","use","routes","path","name","component","a","props","isDebug","45","46","createModel","options","__WEBPACK_IMPORTED_MODULE_9__Animation_const__","group","__WEBPACK_IMPORTED_MODULE_4_three__","edges","IS_MOBILE","edgesGeo","edgesMat","__WEBPACK_IMPORTED_MODULE_7__utils__","wireframe","wireframeMat","faces","facesMat","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_5_lodash__","__WEBPACK_IMPORTED_MODULE_6_gsap__","__WEBPACK_IMPORTED_MODULE_10__Animation_models__","__WEBPACK_IMPORTED_MODULE_11__lib_OrbitControls__","Animation","console","log","scene","clock","models","currentModel","model","container","flags","debug","exposeScene","isInitialized","isTransition","warn","window","THREE","key","value","camera","WIDTH","HEIGHT","lookAt","axisHelper","gridHelper","cb","_this","loadingManager","loader","setCamera","animate","resolve","wptModel","wroclaviaModel","busModel","truckModel","splines","filter","partial","mobileHidden","load","truck","wpt","wroclavia","count","path1","path2","path3","bus","busPath","url","itemsLoaded","itemsTotal","onLoad","renderer","alpha","antialias","shadowMap","soft","enabled","setSize","appendChild","domElement","document","addEventListener","onKeyDown","bind","onDocumentMouseMove","updateSize","offsetWidth","offsetHeight","aspect","updateProjectionMatrix","moveProgress","clientX","moveOffset","clientY","cameraStart","cameraEnd","cameraMove","cursor","xProgress","yProgress","Height","e","keyCode","toFixed","localStorage","setItem","cameraPosition","targetPosition","controls","target","savedCamera","JSON","parse","getItem","cameraTarget","update","requestAnimationFrame","modelName","addMovement","targetStep","undefined","val","force","_this2","arguments","truckProperties","p","floor","random","trucksAnimation","to","repeat","ease","easeNone","delay","onStart","getObjectById","onUpdate","point","quaternion","setFromAxisAngle","onComplete","remove","pos","_this3","switchTo","self","paramsOut","modelA","modelB","paramsIn","PI","isSwitched","killAll","easeIn","rotation","startTrucksAnimation","easeOut","setStep","sphereGeometry","sphereMaterial","sphere","setPoint0","vars","point0","Variables","gui","dat","GUI","point0Folder","addFolder","onChange","minDistance","maxDistance","_this4","addCamera","initRenderer","loadModels","then","initEvents","setSceneModel","setCameraByStep","addGUI","addDebug","addControls","47","d","CAMERA_SPEED","IMPORT_SCALE","MOUSE_CONSTRAINT","PATHS","POSITIONS","MATERIALS","__WEBPACK_IMPORTED_MODULE_1__utils__","PALLETE","basic","accent","linewidth","edgesMatAccent","lineWidth","blending","side","transparent","opacity","facesMatAccent","48","PARTIALS_WPT","PARTIALS_WROCLAVIA","ELEMENTS_WPT","ELEMENTS_WROCLAVIA","PARTIAL_BASE_WPT","PARTIAL_BASE_WROCLAVIA","49","createPlanet","size","__WEBPACK_IMPORTED_MODULE_3_three__","getMaterial","orange","materials","facesLength","v","DEFAULTS","noise","materialIndex","castShadow","receiveShadow","createWireframe","geometryWireframe","materialWireframe","blue","shading","emissive","roughness","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_4_gsap__","green","darkOrange","yellow","radius","radius_outer_factor","rotate_speed","scale_speed","PlanetLoader","previous","scaleFactor","planet","addLights","ambientLight","light","shadow","left","right","top","bottom","near","far","mapSize","width","height","t","abs","sin","needsUpdate","curr","min","ceil","max","o","50","OrbitControls","getAutoRotationAngle","scope","autoRotateSpeed","getZoomScale","pow","zoomSpeed","rotateLeft","angle","sphericalDelta","theta","rotateUp","phi","dollyIn","dollyScale","PerspectiveCamera","OrthographicCamera","zoom","minZoom","maxZoom","zoomChanged","enableZoom","dollyOut","handleMouseDownRotate","rotateStart","handleMouseDownDolly","dollyStart","handleMouseDownPan","panStart","handleMouseMoveRotate","rotateEnd","rotateDelta","element","body","clientWidth","rotateSpeed","clientHeight","handleMouseMoveDolly","dollyEnd","dollyDelta","handleMouseMovePan","panEnd","panDelta","pan","handleMouseUp","handleMouseWheel","handleKeyDown","keys","UP","keyPanSpeed","BOTTOM","LEFT","RIGHT","handleTouchStartRotate","touches","pageX","pageY","handleTouchStartDolly","dx","dy","distance","sqrt","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchEnd","onMouseDown","preventDefault","button","mouseButtons","ORBIT","enableRotate","state","STATE","ROTATE","ZOOM","DOLLY","PAN","enablePan","NONE","onMouseMove","onMouseUp","dispatchEvent","startEvent","removeEventListener","endEvent","onMouseWheel","stopPropagation","enableKeys","onTouchStart","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","onTouchMove","onTouchEnd","onContextMenu","Vector3","Infinity","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","autoRotate","MOUSE","MIDDLE","target0","position0","zoom0","getPolarAngle","spherical","getAzimuthalAngle","saveState","reset","changeEvent","offset","quat","Quaternion","setFromUnitVectors","quatInverse","inverse","lastPosition","lastQuaternion","applyQuaternion","setFromVector3","makeSafe","panOffset","setFromSpherical","distanceToSquared","EPS","dispose","type","Spherical","Vector2","panLeft","objectMatrix","setFromMatrixColumn","panUp","targetDistance","tan","fov","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default","prototype","EventDispatcher","constructor","center","get","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","51","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","components","App","52","53","touch","delta","changedTouches","fullPageScroll","__WEBPACK_IMPORTED_MODULE_2__common_utils__","ticking","scrollSettings","sensivity","totalSlides","scrollItems","slideDurationTimeout","duration","slideDuration","setTimeout","animatedSteps","reduce","prev","mappedStep","animationMap","__WEBPACK_IMPORTED_MODULE_0_lodash__","__WEBPACK_IMPORTED_MODULE_1__Three__","__WEBPACK_IMPORTED_MODULE_1__Three___default","0","1","2","3","Three","data","imageLoaded","methods","mounted","wheelEventName","createElement","onmousewheel","54","__WEBPACK_IMPORTED_MODULE_0__common_Animation_class__","previousStep","watch","animation","switchBuildings","setActive","$refs","init","$emit","97","98","99"],"mappings":"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","file":"static/js/app.fc062d06ed3f8e4e549b.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 100:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(98)\n}\nvar Component = __webpack_require__(22)(\n  /* script */\n  __webpack_require__(53),\n  /* template */\n  __webpack_require__(102),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-558b8ed5\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 101:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"landing\",\n    staticClass: \"Landing\",\n    class: ['slide-' + _vm.animationDetails.currentStep, {\n      'loaded': _vm.animationDetails.isLoaded,\n      'scrolled': _vm.animationDetails.isScrolled,\n      'scrolling': _vm.animationDetails.isScrolling\n    }]\n  }, [_c('div', {\n    staticClass: \"background\",\n    class: {\n      isOff: !_vm.animationDetails.active\n    }\n  }, [_c('Three', {\n    attrs: {\n      \"isStarted\": _vm.loaded,\n      \"isActive\": _vm.animationDetails.active,\n      \"step\": _vm.animationDetails.renderStep\n    },\n    on: {\n      \"loaded\": _vm.onLoaded,\n      \"progress\": _vm.onProgress\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"background-over\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"background-over-hard\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"background-map\"\n  }), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('section', {\n    attrs: {\n      \"id\": \"slide-2\"\n    }\n  }), _vm._v(\" \"), _vm._m(2), _vm._v(\" \"), _vm._m(3), _vm._v(\" \"), _vm._m(4), _vm._v(\" \"), _c('div', {\n    staticClass: \"loader\"\n  }, [_c('div', {\n    staticClass: \"dot\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"dot\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"dot\"\n  }), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm.progress) + \" %\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"Menu\",\n    class: {\n      isActive: _vm.animationDetails.currentStep > 0\n    }\n  }, [_vm._m(5), _vm._v(\" \"), _vm._m(6)])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-0\"\n    }\n  }, [_c('h1', [_vm._v(\"Przeprowadzamy się.\")]), _vm._v(\" \"), _c('h2', [_vm._v(\"lorem ipsum dolor sit amet\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-1\"\n    }\n  }, [_c('h1', [_vm._v(\"hello world - slide 2\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-3\"\n    }\n  }, [_c('h1', [_vm._v(\"hello world - slide 4\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"mouse\"\n  }, [_c('div', {\n    staticClass: \"scroll-wheel\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"scroll\"\n  }, [_c('p', [_vm._v(\"keep scrolling...\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('a', {\n    staticClass: \"logo\"\n  }, [_c('span', [_vm._v(\"PGS Software\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', [_c('li', [_vm._v(\"About\")]), _vm._v(\" \"), _c('li', [_vm._v(\"Contact\")])])\n}]}\n\n/***/ }),\n\n/***/ 103:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"scene\",\n    staticClass: \"Scene\"\n  })\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 14:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export rad2deg */\n/* unused harmony export deg2rad */\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = getPointInBetweenByPerc;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = v3;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = v3dir;\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = isMobile;\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = pointSpline;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = applyTransform;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = createPath;\n/* harmony export (immutable) */ __webpack_exports__[\"h\"] = normalizeWheel;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(9);\n\n\nvar PIXEL_STEP = 10;\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\n\nfunction rad2deg(rad) {\n  return rad * (180 / Math.PI);\n}\n\nfunction deg2rad(deg) {\n  return deg * (Math.PI / 180);\n}\n\nfunction getPointInBetweenByPerc(pointA, pointB, percentage) {\n  var dir = pointB.clone().sub(pointA);\n  var len = dir.length();\n\n  dir = dir.normalize().multiplyScalar(len * percentage);\n\n  return pointA.clone().add(dir);\n}\n\nfunction v3(x, y, z) {\n  return new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"](x, y, z);\n}\n\nfunction v3dir(vA, vB) {\n  return new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"]().subVectors(vA, vB);\n}\n\nfunction isMobile() {\n  return (/iphone|ipod|android|ie|blackberry|fennec/i.test(navigator.userAgent)\n  );\n}\n\nfunction pointSpline(percent, spline, upVector) {\n  var position = spline.getPointAt(percent);\n  var tangent = spline.getTangentAt(percent).normalize();\n\n  var axis = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"]();\n  var up = upVector || new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"](0, 0, -1);\n  var radians = Math.acos(up.dot(tangent));\n\n  axis.crossVectors(up, tangent).normalize();\n\n  return {\n    axis: axis,\n    radians: radians,\n    position: position\n  };\n}\n\nfunction applyTransform(object) {\n  if (object.children.length > 0) {\n    object.children.forEach(function (child) {\n      child.updateMatrix();\n      child.geometry.applyMatrix(child.matrix);\n      child.matrix.identity();\n      child.scale.set(1, 1, 1);\n    });\n  }\n}\n\nfunction createPath(object, scale, position) {\n  var mesh = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Mesh\"](object, new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshStandardMaterial\"]());\n  mesh.scale.set(scale, scale, scale);\n\n  if (position) {\n    mesh.position.copy(v3(position[0], position[1], position[2]));\n  }\n\n  mesh.updateMatrix();\n  mesh.geometry.applyMatrix(mesh.matrix);\n  mesh.matrix.identity();\n  mesh.scale.set(1, 1, 1);\n\n  applyTransform(mesh);\n\n  var spline = new __WEBPACK_IMPORTED_MODULE_0_three__[\"SplineCurve3\"](mesh.geometry.vertices);\n\n  var material = new __WEBPACK_IMPORTED_MODULE_0_three__[\"LineBasicMaterial\"]({\n    color: 0xff00f0\n  });\n\n  var geometry = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Geometry\"]();\n  var splinePoints = spline.getPoints(50);\n  for (var i = 0; i < splinePoints.length; i++) {\n    geometry.vertices.push(splinePoints[i]);\n  }\n\n  var line = new __WEBPACK_IMPORTED_MODULE_0_three__[\"Line\"](geometry, material);\n\n  return {\n    spline: spline,\n    line: line\n  };\n}\n\nfunction normalizeWheel(event) {\n  var sX = 0;\n  var sY = 0;\n  var pX = 0;\n  var pY = 0;\n  if ('detail' in event) {\n    sY = event.detail;\n  }\n  if ('wheelDelta' in event) {\n    sY = -event.wheelDelta / 120;\n  }\n  if ('wheelDeltaY' in event) {\n    sY = -event.wheelDeltaY / 120;\n  }\n  if ('wheelDeltaX' in event) {\n    sX = -event.wheelDeltaX / 120;\n  }\n\n  if ('axis' in event && event.axis === event.HORIZONTAL_AXIS) {\n    sX = sY;\n    sY = 0;\n  }\n\n  pX = sX * PIXEL_STEP;\n  pY = sY * PIXEL_STEP;\n\n  if ('deltaY' in event) {\n    pY = event.deltaY;\n  }\n  if ('deltaX' in event) {\n    pX = event.deltaX;\n  }\n\n  if ((pX || pY) && event.deltaMode) {\n    if (event.deltaMode === 1) {\n      pX *= LINE_HEIGHT;\n      pY *= LINE_HEIGHT;\n    } else {\n      pX *= PAGE_HEIGHT;\n      pY *= PAGE_HEIGHT;\n    }\n  }\n\n  if (pX && !sX) {\n    sX = pX < 1 ? -1 : 1;\n  }\n  if (pY && !sY) {\n    sY = pY < 1 ? -1 : 1;\n  }\n\n  return {\n    spinX: sX,\n    spinY: sY,\n    pixelX: pX,\n    pixelY: pY\n  };\n}\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(99)\n}\nvar Component = __webpack_require__(22)(\n  /* script */\n  __webpack_require__(54),\n  /* template */\n  __webpack_require__(103),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-ba65df48\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(104);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Landing__ = __webpack_require__(100);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Landing___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Landing__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Three__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Three___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_Three__);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Landing',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Landing___default.a\n  }, {\n    path: '/debug',\n    name: 'Three',\n    component: __WEBPACK_IMPORTED_MODULE_3__components_Three___default.a,\n    props: {\n      isActive: true,\n      isDebug: true,\n      isStarted: true,\n      step: 2\n    }\n  }]\n}));\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(97)\n}\nvar Component = __webpack_require__(22)(\n  /* script */\n  __webpack_require__(52),\n  /* template */\n  __webpack_require__(101),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 46:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_three__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lodash__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_gsap__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_gsap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__utils__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__PlanetLoader_class__ = __webpack_require__(49);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__Animation_const__ = __webpack_require__(47);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__Animation_models__ = __webpack_require__(48);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__lib_OrbitControls__ = __webpack_require__(50);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar IS_MOBILE = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"a\" /* isMobile */])();\n\nvar Animation = function () {\n  function Animation(options) {\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_classCallCheck___default()(this, Animation);\n\n    console.log('Animation():', options);\n\n    this.scene = new __WEBPACK_IMPORTED_MODULE_4_three__[\"Scene\"]();\n    this.clock = new __WEBPACK_IMPORTED_MODULE_4_three__[\"Clock\"]();\n\n    this.models = {};\n    this.currentModel = options.model || 'wpt';\n    this.currentStep = options.step || 0;\n    this.container = options.container;\n    this.flags = {\n      isActive: options.active,\n      isDebug: options.debug,\n      exposeScene: options.exposeScene,\n      isInitialized: false,\n      isLoaded: false,\n      isTransition: false\n    };\n\n    if (this.flags.exposeScene) {\n      console.warn('--- Exposing scene to global!');\n      window.THREE = __WEBPACK_IMPORTED_MODULE_4_three__;\n      window.scene = this.scene;\n    }\n  }\n\n  __WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_createClass___default()(Animation, [{\n    key: 'addCamera',\n    value: function addCamera() {\n      var camera = new __WEBPACK_IMPORTED_MODULE_4_three__[\"PerspectiveCamera\"](20, this.WIDTH / this.HEIGHT, 1, 100000);\n      camera.lookAt(this.scene.position);\n\n      this.camera = camera;\n    }\n  }, {\n    key: 'addHelpers',\n    value: function addHelpers() {\n      var axisHelper = new __WEBPACK_IMPORTED_MODULE_4_three__[\"AxisHelper\"](10);\n      var gridHelper = new __WEBPACK_IMPORTED_MODULE_4_three__[\"GridHelper\"](1000, 1000);\n\n      this.scene.add(axisHelper);\n      this.scene.add(gridHelper);\n    }\n  }, {\n    key: 'loadModels',\n    value: function loadModels(cb) {\n      var _this = this;\n\n      var loadingManager = new __WEBPACK_IMPORTED_MODULE_4_three__[\"LoadingManager\"]();\n      var loader = new __WEBPACK_IMPORTED_MODULE_4_three__[\"JSONLoader\"](loadingManager);\n\n      this.setCamera(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"b\" /* v3 */])(0, 0, 100), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"b\" /* v3 */])(0, 0, 0));\n      this.animate();\n\n      return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve) {\n        var wptModel = new __WEBPACK_IMPORTED_MODULE_4_three__[\"Object3D\"]();\n        var wroclaviaModel = new __WEBPACK_IMPORTED_MODULE_4_three__[\"Object3D\"]();\n        var busModel = {};\n        var truckModel = {\n          splines: []\n        };\n\n        __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"a\" /* PARTIALS_WPT */].filter(function (partial) {\n          return IS_MOBILE ? !partial.mobileHidden : true;\n        }).forEach(function (partial) {\n          loader.load('' + __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"a\" /* PATHS */].models + partial.model, function (object) {\n            wptModel.add(createModel(object, partial));\n          });\n        });\n\n        __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"b\" /* PARTIALS_WROCLAVIA */].filter(function (partial) {\n          return IS_MOBILE ? !partial.mobileHidden : true;\n        }).forEach(function (partial) {\n          loader.load('' + __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"a\" /* PATHS */].models + partial.model, function (object) {\n            wroclaviaModel.add(createModel(object, partial));\n          });\n        });\n\n        loader.load('' + __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"a\" /* PATHS */].models + __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"c\" /* ELEMENTS_WPT */].truck.model, function (object) {\n          truckModel.models = [];\n          truckModel.splines = {\n            wpt: [],\n            wroclavia: []\n          };\n\n          for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"c\" /* ELEMENTS_WPT */].truck.count; i++) {\n            var model = createModel(object, __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"c\" /* ELEMENTS_WPT */].truck);\n            model.position.x = i / 2;\n\n            truckModel.models.push(model);\n          }\n        });\n\n        ['' + __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"a\" /* PATHS */].models + __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"c\" /* ELEMENTS_WPT */].path1.model, '' + __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"a\" /* PATHS */].models + __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"c\" /* ELEMENTS_WPT */].path2.model, '' + __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"a\" /* PATHS */].models + __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"c\" /* ELEMENTS_WPT */].path3.model].forEach(function (path) {\n          loader.load(path, function (object) {\n            var path = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"c\" /* createPath */])(object, __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"b\" /* IMPORT_SCALE */], __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"c\" /* ELEMENTS_WPT */].path1.position);\n            truckModel.splines.wpt.push(path.spline);\n          });\n        });\n\n        loader.load('' + __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"a\" /* PATHS */].models + __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"d\" /* ELEMENTS_WROCLAVIA */].bus.model, function (object) {\n          busModel.model = new __WEBPACK_IMPORTED_MODULE_4_three__[\"Object3D\"]();\n          var model = createModel(object, __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"d\" /* ELEMENTS_WROCLAVIA */].bus);\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"d\" /* applyTransform */])(model);\n          busModel.model.add(model);\n        });\n\n        loader.load('' + __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"a\" /* PATHS */].models + __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"d\" /* ELEMENTS_WROCLAVIA */].busPath.model, function (object) {\n          var path = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"c\" /* createPath */])(object, __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"b\" /* IMPORT_SCALE */], __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"d\" /* ELEMENTS_WROCLAVIA */].busPath.position);\n          busModel.spline = path.spline;\n          busModel.line = path.line;\n        });\n\n        ['' + __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"a\" /* PATHS */].models + __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"d\" /* ELEMENTS_WROCLAVIA */].path1.model, '' + __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"a\" /* PATHS */].models + __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"d\" /* ELEMENTS_WROCLAVIA */].path2.model, '' + __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"a\" /* PATHS */].models + __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"d\" /* ELEMENTS_WROCLAVIA */].path3.model].forEach(function (path) {\n          loader.load(path, function (object) {\n            var path = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"c\" /* createPath */])(object, __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"b\" /* IMPORT_SCALE */], __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"c\" /* ELEMENTS_WPT */].path1.position);\n            truckModel.splines.wroclavia.push(path.spline);\n          });\n        });\n\n        loadingManager.onProgress = function (url, itemsLoaded, itemsTotal) {\n          console.log('Loading file: ' + url + ' Loaded. ' + itemsLoaded + ' of ' + itemsTotal + ' files.');\n          if (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_lodash__[\"isFunction\"])(cb)) {\n            cb(itemsLoaded / itemsTotal);\n          }\n        };\n\n        loadingManager.onLoad = function () {\n          _this.models.wpt = wptModel;\n          _this.models.wroclavia = wroclaviaModel;\n          _this.models.bus = busModel;\n          _this.models.truck = truckModel;\n\n          _this.flags.isLoaded = true;\n          resolve();\n        };\n      });\n    }\n  }, {\n    key: 'initRenderer',\n    value: function initRenderer() {\n      var renderer = new __WEBPACK_IMPORTED_MODULE_4_three__[\"WebGLRenderer\"]({\n        alpha: true,\n        antialias: true\n      });\n\n      renderer.shadowMap.soft = false;\n      renderer.shadowMap.enabled = true;\n      renderer.setSize(this.WIDTH, this.HEIGHT);\n\n      this.container.appendChild(renderer.domElement);\n      this.renderer = renderer;\n    }\n  }, {\n    key: 'initEvents',\n    value: function initEvents() {\n      if (this.flags.isDebug) {\n        document.addEventListener('keydown', this.onKeyDown.bind(this));\n      } else {\n        document.addEventListener('mousemove', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_lodash__[\"throttle\"])(this.onDocumentMouseMove.bind(this), 50), false);\n      }\n\n      window.addEventListener('resize', this.updateSize.bind(this), false);\n    }\n  }, {\n    key: 'updateSize',\n    value: function updateSize() {\n      this.WIDTH = this.container.offsetWidth;\n      this.HEIGHT = this.container.offsetHeight;\n\n      if (this.flags.isInitialized) {\n        this.camera.aspect = this.WIDTH / this.HEIGHT;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(this.WIDTH, this.HEIGHT);\n        this.render();\n      }\n    }\n  }, {\n    key: 'onDocumentMouseMove',\n    value: function onDocumentMouseMove(event) {\n      if (!this.flags.isTransition) {\n        this.moveProgress = event.clientX / this.WIDTH;\n        this.moveOffset = (event.clientY - this.HEIGHT) / 2 / (this.HEIGHT / 2);\n\n        var cameraStart = __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][this.currentStep][1];\n        var cameraEnd = __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][this.currentStep][2];\n\n        this.cameraMove = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"e\" /* getPointInBetweenByPerc */])(cameraStart, cameraEnd, this.moveProgress);\n        this.cameraMove.y = (this.cameraMove.y - this.moveOffset * 2) * __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"d\" /* MOUSE_CONSTRAINT */];\n\n        this.cursor = {\n          x: event.clientX,\n          y: event.clientY,\n          xProgress: event.clientX / this.WIDTH,\n          yProgress: event.clientY / this.Height\n        };\n      }\n    }\n  }, {\n    key: 'onKeyDown',\n    value: function onKeyDown(e) {\n      switch (e.keyCode) {\n        case 83:\n          console.log('camera position:', this.camera.position.x.toFixed(2) + ', ' + this.camera.position.y.toFixed(2) + ', ' + this.camera.position.z.toFixed(2));\n          localStorage.setItem(\"savedCamera\", __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()({\n            cameraPosition: this.camera.position,\n            targetPosition: this.controls.target\n          }));\n          break;\n        case 68:\n          var savedCamera = JSON.parse(localStorage.getItem(\"savedCamera\"));\n          if (savedCamera) {\n            this.camera.position.copy(savedCamera.cameraPosition);\n            this.camera.lookAt(savedCamera.targetPosition);\n            this.controls.target.copy(savedCamera.targetPosition);\n          }\n          break;\n        default:\n          break;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      this.renderer.render(this.scene, this.camera);\n    }\n  }, {\n    key: 'animate',\n    value: function animate() {\n      if (this.flags.isActive) {\n        if (this.flags.isLoaded) {\n          if (this.cameraMove && !this.flags.isDebug) {\n            var dir = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"f\" /* v3dir */])(this.cameraMove, this.camera.position);\n\n            this.camera.position.x += dir.x * __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"e\" /* CAMERA_SPEED */];\n            this.camera.position.y += dir.y * __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"e\" /* CAMERA_SPEED */];\n            this.camera.position.z += dir.z * __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"e\" /* CAMERA_SPEED */];\n\n            this.camera.lookAt(this.cameraTarget);\n          }\n\n          if (this.flags.isDebug) {\n            this.controls.update();\n            this.camera.lookAt(__WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][this.currentStep][0]);\n          }\n        }\n\n        if (this.flags.debug) {\n          this.controls.update();\n        }\n\n        this.render();\n      }\n\n      requestAnimationFrame(this.animate.bind(this));\n    }\n  }, {\n    key: 'setSceneModel',\n    value: function setSceneModel(modelName) {\n      this.cameraTarget = __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][this.currentStep][0];\n\n      if (modelName === 'wroclavia') {\n        this.scene.add(this.models.wroclavia);\n      } else {\n        this.scene.add(this.models.wpt);\n      }\n    }\n  }, {\n    key: 'setCamera',\n    value: function setCamera(position, target) {\n      this.camera.position.copy(position);\n      this.camera.lookAt(target);\n    }\n  }, {\n    key: 'setCameraByStep',\n    value: function setCameraByStep(step, addMovement) {\n      console.log('setCameraByStep', step, addMovement);\n\n      var targetStep = step !== undefined ? step : this.currentStep;\n      var progress = this.cursor ? this.cursor.xProgress : 0.5;\n      console.log('progress', progress);\n\n      this.setCamera(__WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][targetStep][1], __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][targetStep][0]);\n\n      if (addMovement) {\n        this.cameraMove = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"e\" /* getPointInBetweenByPerc */])(__WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][targetStep][1], __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][targetStep][2], progress);\n      }\n    }\n  }, {\n    key: 'setActive',\n    value: function setActive(val) {\n      console.log('setActive', val);\n      this.flags.isActive = val;\n    }\n  }, {\n    key: 'setStep',\n    value: function setStep(val, force) {\n      console.log('setStep', force);\n\n      var progress = this.cursor ? this.cursor.xProgress : 0.5;\n      console.log('progress', progress);\n\n      this.currentStep = val;\n      if (force) {\n        this.cameraMove = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"e\" /* getPointInBetweenByPerc */])(__WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][val][1], __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][val][2], progress);\n      }\n    }\n  }, {\n    key: 'startTrucksAnimation',\n    value: function startTrucksAnimation() {\n      var _this2 = this;\n\n      var model = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wpt';\n\n      var _loop = function _loop(i) {\n        var truck = _this2.models.truck.models[i];\n\n        var truckProperties = {\n          p: 0\n        };\n\n        var splines = model === 'wpt' ? _this2.models.truck.splines.wpt : _this2.models.truck.splines.wroclavia;\n        var spline = splines[Math.floor(Math.random() * splines.length)];\n\n        _this2.trucksAnimation = __WEBPACK_IMPORTED_MODULE_6_gsap__[\"TweenMax\"].to(truckProperties, model === 'wpt' ? 20 : 10, {\n          p: 1,\n          repeat: -1,\n          ease: __WEBPACK_IMPORTED_MODULE_6_gsap__[\"Power0\"].easeNone,\n          delay: i * 0.5 + Math.random() * 0.5,\n          onStart: function onStart() {\n            if (!_this2.scene.getObjectById(truck.id)) {\n              _this2.scene.add(truck);\n            }\n          },\n          onUpdate: function onUpdate() {\n            var point = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"g\" /* pointSpline */])(truckProperties.p, spline);\n            truck.position.copy(point.position);\n            truck.quaternion.setFromAxisAngle(point.axis, point.radians);\n          },\n          onComplete: function onComplete() {\n            _this2.scene.remove(truck);\n          }\n        });\n      };\n\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"c\" /* ELEMENTS_WPT */].truck.count; i++) {\n        _loop(i);\n      }\n    }\n  }, {\n    key: 'moveBus',\n    value: function moveBus() {\n      var pos = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0.5;\n\n      if (!this.scene.getObjectById(this.models.bus.model.id)) {\n        this.scene.add(this.models.bus.model);\n      }\n\n      var point = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"g\" /* pointSpline */])(pos, this.models.bus.spline);\n\n      this.models.bus.model.position.copy(point.position);\n      this.models.bus.model.quaternion.setFromAxisAngle(point.axis, point.radians);\n    }\n  }, {\n    key: 'startBusAnimation',\n    value: function startBusAnimation() {\n      var _this3 = this;\n\n      var bus = {\n        progress: 0.4\n      };\n\n      __WEBPACK_IMPORTED_MODULE_6_gsap__[\"TweenMax\"].to(bus, 40, {\n        progress: 1,\n        repeat: 10,\n        onStart: function onStart() {\n          if (!_this3.scene.getObjectById(_this3.models.bus.model.id)) {\n            _this3.scene.add(_this3.models.bus.model);\n          }\n        },\n        onUpdate: function onUpdate() {\n          var point = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"g\" /* pointSpline */])(bus.progress, _this3.models.bus.spline);\n          _this3.models.bus.model.position.copy(point.position);\n          _this3.models.bus.model.quaternion.setFromAxisAngle(point.axis, point.radians);\n        },\n        onComplete: function onComplete() {\n          _this3.scene.remove(_this3.models.bus.model);\n        }\n      });\n    }\n  }, {\n    key: 'switchBuildings',\n    value: function switchBuildings(switchTo) {\n      console.log('switchBuildings()', switchTo);\n      var self = this;\n      var paramsOut = {\n        p: 0,\n        y: 0\n      };\n\n      var modelA = switchTo === 'wroclavia' ? self.models.wpt : self.models.wroclavia;\n      var modelB = switchTo === 'wroclavia' ? self.models.wroclavia : self.models.wpt;\n\n      var paramsIn = {\n        p: 0,\n        y: 1 * (Math.PI * 2)\n      };\n\n      var isSwitched = false;\n\n      this.flags.isTransition = true;\n      this.cameraMove = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"b\" /* v3 */])(0, 120, 0);\n\n      console.log('removing all trucks!');\n      __WEBPACK_IMPORTED_MODULE_6_gsap__[\"TweenMax\"].killAll();\n\n      for (var i = 0; i < __WEBPACK_IMPORTED_MODULE_10__Animation_models__[\"c\" /* ELEMENTS_WPT */].truck.count; i++) {\n        var _truck = self.models.truck.models[i];\n        self.scene.remove(_truck);\n      }\n\n      __WEBPACK_IMPORTED_MODULE_6_gsap__[\"TweenMax\"].to(paramsOut, 1, {\n        p: 1,\n        y: -1 * (Math.PI * 2) * 1,\n        ease: __WEBPACK_IMPORTED_MODULE_6_gsap__[\"Power4\"].easeIn,\n        onUpdate: function onUpdate() {\n          modelA.rotation.y = paramsOut.y;\n          if (paramsOut.p > 0.5 && !isSwitched) {\n\n            self.startTrucksAnimation(switchTo);\n            self.scene.add(modelB);\n            __WEBPACK_IMPORTED_MODULE_6_gsap__[\"TweenMax\"].to(paramsIn, 1, {\n              p: 1,\n              y: 0,\n              ease: __WEBPACK_IMPORTED_MODULE_6_gsap__[\"Power4\"].easeOut,\n              onUpdate: function onUpdate() {\n                modelB.rotation.y = paramsIn.y;\n              },\n              onComplete: function onComplete() {\n                self.flags.isTransition = false;\n                self.setStep(self.currentStep, true);\n              }\n            });\n\n            isSwitched = true;\n          }\n        },\n        onComplete: function onComplete() {\n          self.scene.remove(modelA);\n        }\n      });\n    }\n  }, {\n    key: 'addDebug',\n    value: function addDebug() {\n      var sphereGeometry = new __WEBPACK_IMPORTED_MODULE_4_three__[\"OctahedronGeometry\"](0.2, 3);\n      var sphereMaterial = new __WEBPACK_IMPORTED_MODULE_4_three__[\"MeshBasicMaterial\"]({\n        color: 0xFFFFFF\n      });\n\n      var sphere = new __WEBPACK_IMPORTED_MODULE_4_three__[\"Mesh\"](sphereGeometry, sphereMaterial);\n      sphere.position.copy(__WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][this.currentStep][0]);\n\n      this.debug = {\n        sphere: sphere\n      };\n\n      this.scene.add(sphere);\n    }\n  }, {\n    key: 'addGUI',\n    value: function addGUI() {\n      var self = this;\n      var gui = new dat.GUI();\n      var vars = new Variables();\n\n      var point0Folder = gui.addFolder('Point (0,0)');\n      point0Folder.add(vars.point0, 'x').step(0.1).onChange(setPoint0);\n      point0Folder.add(vars.point0, 'y').step(0.1).onChange(setPoint0);\n      point0Folder.add(vars.point0, 'z').step(0.1).onChange(setPoint0);\n\n      function setPoint0() {\n        __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][0].copy(vars.point0);\n        self.debug.sphere.position.copy(__WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][0]);\n        self.cameraTarget.copy(__WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][0]);\n      }\n\n      function Variables() {\n        this.point0 = {\n          x: __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][0].x,\n          y: __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][0].y,\n          z: __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][0].z\n        };\n\n        this.pointA = {\n          x: __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][1].x,\n          y: __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][1].y,\n          z: __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][1].z\n        };\n\n        this.pointB = {\n          x: __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][2].x,\n          y: __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][2].y,\n          z: __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][self.currentStep][2].z\n        };\n      }\n    }\n  }, {\n    key: 'addControls',\n    value: function addControls() {\n      this.controls = new __WEBPACK_IMPORTED_MODULE_11__lib_OrbitControls__[\"a\" /* default */](this.camera, this.container);\n      this.controls.minDistance = 0;\n      this.controls.maxDistance = 200;\n      this.controls.target.copy(__WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"c\" /* POSITIONS */][this.currentStep][0]);\n    }\n  }, {\n    key: 'init',\n    value: function init(cb) {\n      var _this4 = this;\n\n      return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve) {\n        _this4.updateSize();\n\n        _this4.addCamera();\n\n\n        _this4.initRenderer();\n        _this4.render();\n\n        _this4.loadModels(cb).then(function () {\n          _this4.initEvents();\n          _this4.setSceneModel(_this4.currentModel);\n          _this4.setCameraByStep(_this4.currentStep, true);\n          _this4.flags.isInitialized = true;\n\n          _this4.updateSize();\n          resolve();\n        });\n\n        if (_this4.flags.isDebug) {\n          console.warn('--- DEBUG MODE ---');\n          _this4.addGUI();\n          _this4.addDebug();\n          _this4.addControls();\n        }\n      });\n    }\n  }]);\n\n  return Animation;\n}();\n\nfunction createModel(object, options) {\n  var scale = __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"b\" /* IMPORT_SCALE */];\n  var group = new __WEBPACK_IMPORTED_MODULE_4_three__[\"Object3D\"]();\n\n  if (options.edges && !IS_MOBILE) {\n    var edgesGeo = new __WEBPACK_IMPORTED_MODULE_4_three__[\"EdgesGeometry\"](object);\n    var edges = new __WEBPACK_IMPORTED_MODULE_4_three__[\"LineSegments\"](edgesGeo, __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"f\" /* MATERIALS */].edgesMat);\n    edges.scale.set(scale, scale, scale);\n    if (options.position) {\n      edges.position.copy(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"b\" /* v3 */])(options.position[0], options.position[1], options.position[2]));\n    }\n\n    group.add(edges);\n  }\n\n  if (options.wireframe) {\n    var wireframe = new __WEBPACK_IMPORTED_MODULE_4_three__[\"Mesh\"](object, __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"f\" /* MATERIALS */].wireframeMat);\n    wireframe.scale.set(scale, scale, scale);\n    if (options.position) {\n      wireframe.position.copy(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"b\" /* v3 */])(options.position[0], options.position[1], options.position[2]));\n    }\n\n    group.add(wireframe);\n  }\n\n  if (options.faces && !IS_MOBILE) {\n    var faces = new __WEBPACK_IMPORTED_MODULE_4_three__[\"Mesh\"](object, __WEBPACK_IMPORTED_MODULE_9__Animation_const__[\"f\" /* MATERIALS */].facesMat);\n\n    faces.scale.set(scale, scale, scale);\n    if (options.position) {\n      faces.position.copy(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__utils__[\"b\" /* v3 */])(options.position[0], options.position[1], options.position[2]));\n    }\n\n    group.add(faces);\n  }\n\n  return group;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Animation);\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return CAMERA_SPEED; });\n/* unused harmony export FAKE_LOADING_TIME */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return IMPORT_SCALE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return MOUSE_CONSTRAINT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PATHS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return POSITIONS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return MATERIALS; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils__ = __webpack_require__(14);\n\n\n\n\nvar PALLETE = {\n  basic: 0x1abc9c,\n  faces: 0x05101e,\n  accent: 0x3498db\n};\n\nvar CAMERA_SPEED = 0.01;\n\nvar FAKE_LOADING_TIME = 0.1;\n\nvar IMPORT_SCALE = 0.1;\n\nvar MOUSE_CONSTRAINT = 0.8;\n\nvar PATHS = {\n  models: '/static/models/'\n};\n\nvar POSITIONS = [[__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"b\" /* v3 */])(-2.4, 1.6, -1.40), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"b\" /* v3 */])(-15.14, 78.55, 105.96), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"b\" /* v3 */])(-57.59, 42.19, 73.77)], [__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"b\" /* v3 */])(-0.3, 0.9, -1.7), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"b\" /* v3 */])(-1.28, 0.89, 5.41), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"b\" /* v3 */])(0.56, 5.53, 20.24)], [__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"b\" /* v3 */])(4.4, 2, 2), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"b\" /* v3 */])(-13.03, 12.97, -30.59), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__utils__[\"b\" /* v3 */])(-51.45, 29.01, 23.44)]];\n\nvar edgesMat = new __WEBPACK_IMPORTED_MODULE_0_three__[\"LineBasicMaterial\"]({\n  color: PALLETE.basic,\n  linewidth: 2\n});\n\nvar edgesMatAccent = new __WEBPACK_IMPORTED_MODULE_0_three__[\"LineBasicMaterial\"]({\n  color: PALLETE.accent,\n  lineWidth: 4,\n  blending: __WEBPACK_IMPORTED_MODULE_0_three__[\"AdditiveBlending\"]\n});\n\nvar wireframeMat = new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({\n  color: PALLETE.basic,\n  side: __WEBPACK_IMPORTED_MODULE_0_three__[\"DoubleSide\"],\n  transparent: true,\n  opacity: 0.2,\n  wireframe: true,\n  blending: __WEBPACK_IMPORTED_MODULE_0_three__[\"AdditiveBlending\"]\n});\n\nvar facesMat = new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({\n  color: PALLETE.faces,\n  side: __WEBPACK_IMPORTED_MODULE_0_three__[\"DoubleSide\"],\n  transparent: true,\n  opacity: 0.2\n});\n\nvar facesMatAccent = new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({\n  color: PALLETE.accent,\n  side: __WEBPACK_IMPORTED_MODULE_0_three__[\"DoubleSide\"],\n  transparent: true,\n  opacity: 0.9,\n  blending: __WEBPACK_IMPORTED_MODULE_0_three__[\"AdditiveBlending\"]\n});\n\nvar MATERIALS = {\n  edgesMat: edgesMat,\n  edgesMatAccent: edgesMatAccent,\n  wireframeMat: wireframeMat,\n  facesMat: facesMat,\n  facesMatAccent: facesMatAccent\n};\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return PARTIALS_WPT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return PARTIALS_WROCLAVIA; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return ELEMENTS_WPT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return ELEMENTS_WROCLAVIA; });\nvar PARTIAL_BASE_WPT = 'wpt';\nvar PARTIAL_BASE_WROCLAVIA = 'wroclavia';\n\nvar PARTIALS_WPT = [{\n  model: PARTIAL_BASE_WPT + '-buildings.json',\n  edges: true,\n  wireframe: true,\n  faces: false,\n  mobileHidden: true\n}, {\n  model: PARTIAL_BASE_WPT + '-terrain.json',\n  edges: false,\n  wireframe: true,\n  faces: false,\n  position: [0, -0.25, 0],\n  mobileHidden: true\n}, {\n  model: PARTIAL_BASE_WPT + '-green.json',\n  edges: true,\n  wireframe: false,\n  faces: true,\n  mobileHidden: true\n}, {\n  model: PARTIAL_BASE_WPT + '-building-alfa.json',\n  edges: true,\n  wireframe: true,\n  faces: true\n}, {\n  model: PARTIAL_BASE_WPT + '-roads.json',\n  edges: false,\n  wireframe: true,\n  faces: true\n}];\n\nvar PARTIALS_WROCLAVIA = [{\n  model: PARTIAL_BASE_WROCLAVIA + '-buildings.json',\n  edges: true,\n  wireframe: true,\n  faces: true\n}, {\n  model: PARTIAL_BASE_WROCLAVIA + '-terrain.json',\n  edges: false,\n  wireframe: true,\n  faces: false,\n  position: [0, 0, 0]\n}, {\n  model: PARTIAL_BASE_WROCLAVIA + '-full.json',\n  edges: true,\n  wireframe: true,\n  faces: true\n}, {\n  model: PARTIAL_BASE_WROCLAVIA + '-roads.json',\n  edges: false,\n  wireframe: true,\n  faces: true\n}];\n\nvar ELEMENTS_WPT = {\n  truck: {\n    model: PARTIAL_BASE_WPT + '-truck.json',\n    edges: false,\n    wireframe: true,\n    faces: false,\n    position: [0, 0, 0],\n    count: 200\n  },\n  path1: {\n    model: PARTIAL_BASE_WPT + '-truck-path1.json',\n    position: [0, 0.15, 0]\n  },\n  path2: {\n    model: PARTIAL_BASE_WPT + '-truck-path2.json',\n    position: [0, 0.15, 0]\n  },\n  path3: {\n    model: PARTIAL_BASE_WPT + '-truck-path3.json',\n    position: [0, 0.15, 0]\n  }\n};\n\nvar ELEMENTS_WROCLAVIA = {\n  bus: {\n    model: PARTIAL_BASE_WROCLAVIA + '-bus.json',\n    edges: false,\n    wireframe: true,\n    faces: false,\n    position: [0, 0, 0]\n  },\n  busPath: {\n    model: PARTIAL_BASE_WROCLAVIA + '-bus-path.json',\n    position: [0, 0.9, 0]\n  },\n  path1: {\n    model: PARTIAL_BASE_WROCLAVIA + '-truck-path1.json',\n    position: [0, 0.15, 0]\n  },\n  path2: {\n    model: PARTIAL_BASE_WROCLAVIA + '-truck-path2.json',\n    position: [0, 0.15, 0]\n  },\n  path3: {\n    model: PARTIAL_BASE_WROCLAVIA + '-truck-path3.json',\n    position: [0, 0.15, 0]\n  }\n};\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_three__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_gsap__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_gsap__);\n\n\n\n\n\n\n\nvar PALLETE = {\n  blue: 0x3498db,\n  green: 0x2ecc71,\n  orange: 0xee5624,\n  darkOrange: 0xd35400,\n  yellow: 0x34495e\n};\n\nvar DEFAULTS = {\n  noise: 0.2,\n  radius: 3,\n  radius_outer_factor: 1.2,\n  rotate_speed: 0.03,\n  scale_speed: 2\n};\n\nvar PlanetLoader = function () {\n  function PlanetLoader(size) {\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, PlanetLoader);\n\n    this.isActive = false;\n    this.progress = 0;\n    this.previous = 0;\n    this.scaleFactor = 0;\n    this.scale = 1;\n    this.size = size || DEFAULTS.radius;\n    this.mesh = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Object3D\"]();\n\n    this.planet = createPlanet(this.size);\n    this.wireframe = createWireframe(this.size * DEFAULTS.radius_outer_factor);\n\n    this.mesh.add(this.planet);\n    this.mesh.add(this.wireframe);\n\n    this.addLights();\n  }\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(PlanetLoader, [{\n    key: 'addLights',\n    value: function addLights() {\n      var ambientLight = new __WEBPACK_IMPORTED_MODULE_3_three__[\"AmbientLight\"](0x663344, 2);\n      this.mesh.add(ambientLight);\n\n      var light = new __WEBPACK_IMPORTED_MODULE_3_three__[\"DirectionalLight\"](0xffffff, 1.5);\n      light.position.set(200, 100, 200);\n\n      light.shadow.camera.left = -400;\n      light.shadow.camera.right = 400;\n      light.shadow.camera.top = 400;\n      light.shadow.camera.bottom = -400;\n      light.shadow.camera.near = 1;\n      light.shadow.camera.far = 1000;\n      light.shadow.mapSize.width = 2048;\n      light.shadow.mapSize.height = 2048;\n\n      this.mesh.add(light);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      if (this.isActive) {\n\n        this.planet.rotation.z -= DEFAULTS.rotate_speed / 10;\n        this.planet.rotation.y -= DEFAULTS.rotate_speed;\n\n        this.wireframe.rotation.z += DEFAULTS.rotate_speed / 2;\n        this.wireframe.rotation.y -= DEFAULTS.rotate_speed / 2;\n\n        this.mesh.scale.set(this.scale, this.scale, this.scale);\n      }\n    }\n  }, {\n    key: 'updateScale',\n    value: function updateScale(t) {\n      this.scale = 1 - (Math.abs(Math.sin(t * DEFAULTS.scale_speed)) / 6 + this.scaleFactor);\n    }\n  }, {\n    key: 'getMesh',\n    value: function getMesh() {\n      return this.mesh;\n    }\n  }, {\n    key: 'clearFaces',\n    value: function clearFaces() {\n      var facesLength = this.planet.geometry.faces.length;\n      for (var i = 0; i < facesLength; i += 1) {\n        this.planet.material.materials[i] = getMaterial(PALLETE.orange, true);\n        this.planet.material.materials[i].needsUpdate = true;\n      }\n    }\n  }, {\n    key: 'activate',\n    value: function activate() {\n      this.isActive = true;\n    }\n  }, {\n    key: 'updateFaces',\n    value: function updateFaces(p) {\n      var facesLength = this.planet.geometry.faces.length;\n      var curr = Math.min(Math.ceil(facesLength * p + 1), facesLength);\n\n\n      for (var i = this.previous; i < curr; i += 1) {\n        this.planet.material.materials[i] = getMaterial(PALLETE.orange);\n        this.planet.material.materials[i].needsUpdate = true;\n      }\n\n      this.previous = Math.max(this.progress - 1, 0);\n      this.progress = curr;\n    }\n  }, {\n    key: 'dispose',\n    value: function dispose() {\n      var _this = this;\n\n      return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve) {\n        var o = {\n          progress: 1\n        };\n\n        __WEBPACK_IMPORTED_MODULE_4_gsap__[\"TweenMax\"].to(o, 0.1, {\n          progress: 0,\n          ease: __WEBPACK_IMPORTED_MODULE_4_gsap__[\"Power4\"].easeIn,\n          onUpdate: function onUpdate() {\n            _this.scale = o.progress;\n          },\n          onComplete: function onComplete() {\n            resolve();\n          }\n        });\n      });\n    }\n  }]);\n\n  return PlanetLoader;\n}();\n\n/* unused harmony default export */ var _unused_webpack_default_export = (PlanetLoader);\n\n\nfunction createPlanet(size) {\n  var geometry = new __WEBPACK_IMPORTED_MODULE_3_three__[\"TetrahedronGeometry\"](size, 2);\n\n  var material = getMaterial(PALLETE.orange, true);\n  var materials = [];\n\n  var facesLength = geometry.faces.length;\n  for (var i = 0; i < facesLength; i += 1) {\n    materials.push(material);\n  }\n\n  for (var _i = 0; _i < geometry.vertices.length; _i += 1) {\n    var v = geometry.vertices[_i];\n    v.x += -(DEFAULTS.noise / 2) + Math.random() * DEFAULTS.noise;\n    v.y += -(DEFAULTS.noise / 2) + Math.random() * DEFAULTS.noise;\n    v.z += -(DEFAULTS.noise / 2) + Math.random() * DEFAULTS.noise;\n  }\n\n  for (var _i2 = 0; _i2 < facesLength; _i2 += 1) {\n    geometry.faces[_i2].materialIndex = _i2;\n  }\n\n  var mesh = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Mesh\"](geometry, new __WEBPACK_IMPORTED_MODULE_3_three__[\"MultiMaterial\"](materials));\n  mesh.castShadow = true;\n  mesh.receiveShadow = true;\n\n  return mesh;\n}\n\nfunction createWireframe(size) {\n  var geometryWireframe = new __WEBPACK_IMPORTED_MODULE_3_three__[\"TetrahedronGeometry\"](size, 2);\n  var materialWireframe = getMaterial(PALLETE.blue, true, true, 0.25, __WEBPACK_IMPORTED_MODULE_3_three__[\"AdditiveBlending\"]);\n\n  var mesh = new __WEBPACK_IMPORTED_MODULE_3_three__[\"Mesh\"](geometryWireframe, materialWireframe);\n\n  return mesh;\n}\n\nfunction getMaterial(color) {\n  var wireframe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var transparent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var opacity = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  var blending = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : __WEBPACK_IMPORTED_MODULE_3_three__[\"NoBlending\"];\n\n  var mat = !wireframe ? new __WEBPACK_IMPORTED_MODULE_3_three__[\"MeshStandardMaterial\"]({\n    color: color,\n    shading: __WEBPACK_IMPORTED_MODULE_3_three__[\"FlatShading\"],\n    wireframe: wireframe,\n    transparent: transparent,\n    opacity: opacity,\n    blending: blending,\n    side: __WEBPACK_IMPORTED_MODULE_3_three__[\"DoubleSide\"],\n    emissive: 0x270000,\n    roughness: 0.9\n  }) : new __WEBPACK_IMPORTED_MODULE_3_three__[\"MeshBasicMaterial\"]({\n    color: color,\n    shading: __WEBPACK_IMPORTED_MODULE_3_three__[\"FlatShading\"],\n    wireframe: wireframe,\n    transparent: transparent,\n    opacity: opacity,\n    blending: blending,\n    side: __WEBPACK_IMPORTED_MODULE_3_three__[\"DoubleSide\"]\n  });\n\n  return mat;\n}\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties__ = __webpack_require__(57);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create__);\n\n\n\nvar THREE = window.THREE || __webpack_require__(9);\n\nfunction OrbitControls(object, domElement) {\n\n\tthis.object = object;\n\n\tthis.domElement = domElement !== undefined ? domElement : document;\n\n\tthis.enabled = true;\n\n\tthis.target = new THREE.Vector3();\n\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\tthis.minPolarAngle = 0;\n\tthis.maxPolarAngle = Math.PI;\n\tthis.minAzimuthAngle = -Infinity;\n\tthis.maxAzimuthAngle = Infinity;\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\tthis.enablePan = true;\n\tthis.keyPanSpeed = 7.0;\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0;\n\tthis.enableKeys = true;\n\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy(scope.target);\n\t\tscope.position0.copy(scope.object.position);\n\t\tscope.zoom0 = scope.object.zoom;\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy(scope.target0);\n\t\tscope.object.position.copy(scope.position0);\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent(changeEvent);\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\t};\n\n\tthis.update = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy(position).sub(scope.target);\n\n\t\t\toffset.applyQuaternion(quat);\n\n\t\t\tspherical.setFromVector3(offset);\n\n\t\t\tif (scope.autoRotate && state === STATE.NONE) {\n\n\t\t\t\trotateLeft(getAutoRotationAngle());\n\t\t\t}\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\tspherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta));\n\n\t\t\tspherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n\n\t\t\tspherical.makeSafe();\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\tspherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n\n\t\t\tscope.target.add(panOffset);\n\n\t\t\toffset.setFromSpherical(spherical);\n\n\t\t\toffset.applyQuaternion(quatInverse);\n\n\t\t\tposition.copy(scope.target).add(offset);\n\n\t\t\tscope.object.lookAt(scope.target);\n\n\t\t\tif (scope.enableDamping === true) {\n\n\t\t\t\tsphericalDelta.theta *= 1 - scope.dampingFactor;\n\t\t\t\tsphericalDelta.phi *= 1 - scope.dampingFactor;\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set(0, 0, 0);\n\t\t\t}\n\n\t\t\tscale = 1;\n\t\t\tpanOffset.set(0, 0, 0);\n\n\t\t\tif (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n\n\t\t\t\tscope.dispatchEvent(changeEvent);\n\n\t\t\t\tlastPosition.copy(scope.object.position);\n\t\t\t\tlastQuaternion.copy(scope.object.quaternion);\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n\t\tscope.domElement.removeEventListener('mousedown', onMouseDown, false);\n\t\tscope.domElement.removeEventListener('wheel', onMouseWheel, false);\n\n\t\tscope.domElement.removeEventListener('touchstart', onTouchStart, false);\n\t\tscope.domElement.removeEventListener('touchend', onTouchEnd, false);\n\t\tscope.domElement.removeEventListener('touchmove', onTouchMove, false);\n\n\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\twindow.removeEventListener('keydown', onKeyDown, false);\n\t};\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\tvar spherical = new THREE.Spherical();\n\tvar sphericalDelta = new THREE.Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new THREE.Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow(0.95, scope.zoomSpeed);\n\t}\n\n\tfunction rotateLeft(angle) {\n\n\t\tsphericalDelta.theta -= angle;\n\t}\n\n\tfunction rotateUp(angle) {\n\n\t\tsphericalDelta.phi -= angle;\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panLeft(distance, objectMatrix) {\n\n\t\t\tv.setFromMatrixColumn(objectMatrix, 0);\n\t\t\tv.multiplyScalar(-distance);\n\n\t\t\tpanOffset.add(v);\n\t\t};\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panUp(distance, objectMatrix) {\n\n\t\t\tv.setFromMatrixColumn(objectMatrix, 1);\n\t\t\tv.multiplyScalar(distance);\n\n\t\t\tpanOffset.add(v);\n\t\t};\n\t}();\n\n\tvar pan = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\treturn function pan(deltaX, deltaY) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif (scope.object instanceof THREE.PerspectiveCamera) {\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy(position).sub(scope.target);\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\ttargetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n\n\t\t\t\tpanLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t\tpanUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n\t\t\t} else if (scope.object instanceof THREE.OrthographicCamera) {\n\t\t\t\tpanLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n\t\t\t\tpanUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n\t\t\t} else {\n\t\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n\t\t\t\tscope.enablePan = false;\n\t\t\t}\n\t\t};\n\t}();\n\n\tfunction dollyIn(dollyScale) {\n\n\t\tif (scope.object instanceof THREE.PerspectiveCamera) {\n\n\t\t\tscale /= dollyScale;\n\t\t} else if (scope.object instanceof THREE.OrthographicCamera) {\n\n\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\t\t} else {\n\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\tscope.enableZoom = false;\n\t\t}\n\t}\n\n\tfunction dollyOut(dollyScale) {\n\n\t\tif (scope.object instanceof THREE.PerspectiveCamera) {\n\n\t\t\tscale *= dollyScale;\n\t\t} else if (scope.object instanceof THREE.OrthographicCamera) {\n\n\t\t\tscope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\t\t} else {\n\n\t\t\tconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n\t\t\tscope.enableZoom = false;\n\t\t}\n\t}\n\n\tfunction handleMouseDownRotate(event) {\n\n\t\trotateStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseDownDolly(event) {\n\n\t\tdollyStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseDownPan(event) {\n\n\t\tpanStart.set(event.clientX, event.clientY);\n\t}\n\n\tfunction handleMouseMoveRotate(event) {\n\n\t\trotateEnd.set(event.clientX, event.clientY);\n\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\trotateStart.copy(rotateEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseMoveDolly(event) {\n\n\t\tdollyEnd.set(event.clientX, event.clientY);\n\n\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\tif (dollyDelta.y > 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t}\n\n\t\tdollyStart.copy(dollyEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseMovePan(event) {\n\n\t\tpanEnd.set(event.clientX, event.clientY);\n\n\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\tpan(panDelta.x, panDelta.y);\n\n\t\tpanStart.copy(panEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleMouseUp(event) {}\n\n\tfunction handleMouseWheel(event) {\n\n\t\tif (event.deltaY < 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t} else if (event.deltaY > 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t}\n\n\t\tscope.update();\n\t}\n\n\tfunction handleKeyDown(event) {\n\n\t\tswitch (event.keyCode) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan(0, scope.keyPanSpeed);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan(0, -scope.keyPanSpeed);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan(scope.keyPanSpeed, 0);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan(-scope.keyPanSpeed, 0);\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tfunction handleTouchStartRotate(event) {\n\n\t\trotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t}\n\n\tfunction handleTouchStartDolly(event) {\n\n\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\tdollyStart.set(0, distance);\n\t}\n\n\tfunction handleTouchStartPan(event) {\n\n\t\tpanStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\t}\n\n\tfunction handleTouchMoveRotate(event) {\n\n\t\trotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\t\trotateDelta.subVectors(rotateEnd, rotateStart);\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\trotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n\t\trotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n\t\trotateStart.copy(rotateEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchMoveDolly(event) {\n\n\t\tvar dx = event.touches[0].pageX - event.touches[1].pageX;\n\t\tvar dy = event.touches[0].pageY - event.touches[1].pageY;\n\n\t\tvar distance = Math.sqrt(dx * dx + dy * dy);\n\n\t\tdollyEnd.set(0, distance);\n\n\t\tdollyDelta.subVectors(dollyEnd, dollyStart);\n\n\t\tif (dollyDelta.y > 0) {\n\n\t\t\tdollyOut(getZoomScale());\n\t\t} else if (dollyDelta.y < 0) {\n\n\t\t\tdollyIn(getZoomScale());\n\t\t}\n\n\t\tdollyStart.copy(dollyEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchMovePan(event) {\n\n\t\tpanEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n\t\tpanDelta.subVectors(panEnd, panStart);\n\n\t\tpan(panDelta.x, panDelta.y);\n\n\t\tpanStart.copy(panEnd);\n\n\t\tscope.update();\n\t}\n\n\tfunction handleTouchEnd(event) {}\n\n\tfunction onMouseDown(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch (event.button) {\n\n\t\t\tcase scope.mouseButtons.ORBIT:\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\thandleMouseDownRotate(event);\n\n\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.ZOOM:\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\thandleMouseDownDolly(event);\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.PAN:\n\n\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\thandleMouseDownPan(event);\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif (state !== STATE.NONE) {\n\n\t\t\tdocument.addEventListener('mousemove', onMouseMove, false);\n\t\t\tdocument.addEventListener('mouseup', onMouseUp, false);\n\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\t}\n\n\tfunction onMouseMove(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch (state) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\thandleMouseMoveRotate(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\thandleMouseMoveDolly(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\thandleMouseMovePan(event);\n\n\t\t\t\tbreak;\n\n\t\t}\n\t}\n\n\tfunction onMouseUp(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\thandleMouseUp(event);\n\n\t\tdocument.removeEventListener('mousemove', onMouseMove, false);\n\t\tdocument.removeEventListener('mouseup', onMouseUp, false);\n\n\t\tscope.dispatchEvent(endEvent);\n\n\t\tstate = STATE.NONE;\n\t}\n\n\tfunction onMouseWheel(event) {\n\n\t\tif (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\thandleMouseWheel(event);\n\n\t\tscope.dispatchEvent(startEvent);\n\t\tscope.dispatchEvent(endEvent);\n\t}\n\n\tfunction onKeyDown(event) {\n\n\t\tif (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n\n\t\thandleKeyDown(event);\n\t}\n\n\tfunction onTouchStart(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tswitch (event.touches.length) {\n\n\t\t\tcase 1:\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\n\t\t\t\thandleTouchStartRotate(event);\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\n\t\t\t\thandleTouchStartDolly(event);\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\n\t\t\t\tif (scope.enablePan === false) return;\n\n\t\t\t\thandleTouchStartPan(event);\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif (state !== STATE.NONE) {\n\n\t\t\tscope.dispatchEvent(startEvent);\n\t\t}\n\t}\n\n\tfunction onTouchMove(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch (event.touches.length) {\n\n\t\t\tcase 1:\n\n\t\t\t\tif (scope.enableRotate === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_ROTATE) return;\n\n\t\t\t\thandleTouchMoveRotate(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tif (scope.enableZoom === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_DOLLY) return;\n\n\t\t\t\thandleTouchMoveDolly(event);\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\n\t\t\t\tif (scope.enablePan === false) return;\n\t\t\t\tif (state !== STATE.TOUCH_PAN) return;\n\n\t\t\t\thandleTouchMovePan(event);\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\t}\n\n\tfunction onTouchEnd(event) {\n\n\t\tif (scope.enabled === false) return;\n\n\t\thandleTouchEnd(event);\n\n\t\tscope.dispatchEvent(endEvent);\n\n\t\tstate = STATE.NONE;\n\t}\n\n\tfunction onContextMenu(event) {\n\n\t\tevent.preventDefault();\n\t}\n\n\tscope.domElement.addEventListener('contextmenu', onContextMenu, false);\n\n\tscope.domElement.addEventListener('mousedown', onMouseDown, false);\n\tscope.domElement.addEventListener('wheel', onMouseWheel, false);\n\n\tscope.domElement.addEventListener('touchstart', onTouchStart, false);\n\tscope.domElement.addEventListener('touchend', onTouchEnd, false);\n\tscope.domElement.addEventListener('touchmove', onTouchMove, false);\n\n\twindow.addEventListener('keydown', onKeyDown, false);\n\n\tthis.update();\n};\n\nOrbitControls.prototype = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default()(THREE.EventDispatcher.prototype);\nOrbitControls.prototype.constructor = THREE.OrbitControls;\n\n__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties___default()(OrbitControls.prototype, {\n\n\tcenter: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .center has been renamed to .target');\n\t\t\treturn this.target;\n\t\t}\n\n\t},\n\n\tnoZoom: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n\t\t\treturn !this.enableZoom;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n\t\t\tthis.enableZoom = !value;\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n\t\t\treturn !this.enableRotate;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');\n\t\t\tthis.enableRotate = !value;\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n\t\t\treturn !this.enablePan;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');\n\t\t\tthis.enablePan = !value;\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n\t\t\treturn !this.enableKeys;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');\n\t\t\tthis.enableKeys = !value;\n\t\t}\n\n\t},\n\n\tstaticMoving: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n\t\t\treturn !this.enableDamping;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');\n\t\t\tthis.enableDamping = !value;\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor: {\n\n\t\tget: function get() {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n\t\t\treturn this.dampingFactor;\n\t\t},\n\n\t\tset: function set(value) {\n\n\t\t\tconsole.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');\n\t\t\tthis.dampingFactor = value;\n\t\t}\n\n\t}\n\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (OrbitControls);\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(44);\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Three__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Three___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__Three__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_utils__ = __webpack_require__(14);\n\n\n\n\n\n\n\nvar scrollSettings = {\n  sensivity: 9,\n  duration: 600\n};\n\nvar touch = {\n  x: 0,\n  y: 0\n};\n\nvar animationDetails = {\n  active: true,\n  animatedSteps: [0, 1, 2],\n  animationMap: {\n    0: 0,\n    1: 1,\n    2: 2,\n    3: 2\n  },\n  currentStep: 0,\n  isLoaded: false,\n  isScrolled: false,\n  isScrolling: false,\n  renderStep: 0,\n  totalSlides: 6\n};\n\nvar ticking = false;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'landing',\n  components: {\n    Three: __WEBPACK_IMPORTED_MODULE_1__Three___default.a\n  },\n  data: function data() {\n    return {\n      animationDetails: animationDetails,\n      progress: 0,\n      loaded: false,\n      imageLoaded: false\n    };\n  },\n\n  methods: {\n    onLoaded: function onLoaded() {\n      animationDetails.isLoaded = true;\n    },\n    onProgress: function onProgress(p) {\n      this.progress = Math.ceil(p * 100);\n    }\n  },\n  mounted: function mounted() {\n    var wheelEventName = 'onwheel' in document.createElement('div') ? 'wheel' : document.onmousewheel !== undefined ? 'mousewheel' : 'DOMMouseScrol';\n    window.addEventListener(wheelEventName, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"throttle\"])(fullPageScroll, 60), false);\n    window.addEventListener('touchstart', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"throttle\"])(onTouchStart, 60), false);\n    window.addEventListener('touchend', __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"throttle\"])(onTouchEnd, 60), false);\n  }\n});\n\nfunction onTouchStart(e) {\n  touch.x = e.touches[0].clientX;\n  touch.y = e.touches[0].clientY;\n}\n\nfunction onTouchEnd(e) {\n  var delta = {\n    x: e.changedTouches[0].clientX - touch.x,\n    y: e.changedTouches[0].clientY - touch.y\n  };\n\n  var wheelDelta = Math.abs(delta.x) > Math.abs(delta.y) ? delta.x : delta.y;\n\n  fullPageScroll({\n    wheelDelta: wheelDelta\n  });\n\n  touch.x = 0;\n  touch.y = 0;\n}\n\nfunction fullPageScroll(e) {\n  var delta = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__common_utils__[\"h\" /* normalizeWheel */])(e).pixelY;\n\n  if (ticking !== true && animationDetails.isLoaded) {\n    if (delta >= -scrollSettings.sensivity) {\n      ticking = true;\n      if (animationDetails.currentStep !== animationDetails.totalSlides - 1) {\n        animationDetails.currentStep++;\n      }\n      scrollItems();\n      slideDurationTimeout(scrollSettings.duration);\n    }\n\n    if (delta <= scrollSettings.sensivity) {\n      ticking = true;\n      if (animationDetails.currentStep !== 0) {\n        animationDetails.currentStep--;\n      }\n\n      scrollItems();\n      slideDurationTimeout(scrollSettings.duration);\n    }\n  }\n}\n\nfunction slideDurationTimeout(slideDuration) {\n  setTimeout(function () {\n    ticking = false;\n  }, slideDuration);\n}\n\nfunction scrollItems() {\n  animationDetails.isScrolling = true;\n  setTimeout(function () {\n    animationDetails.isScrolling = false;\n  }, 3500);\n\n  animationDetails.active = animationDetails.animatedSteps.reduce(function (prev, n) {\n    return animationDetails.currentStep === n || prev;\n  }, false);\n\n  var mappedStep = animationDetails.animationMap[animationDetails.currentStep];\n\n  if (mappedStep !== undefined) {\n    animationDetails.renderStep = mappedStep;\n  }\n\n  if (!animationDetails.isScrolled) {\n    animationDetails.isScrolled = true;\n  }\n}\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__common_Animation_class__ = __webpack_require__(46);\n\n\n\n\nvar previousStep = 0;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'threeDebug',\n  props: ['isActive', 'isDebug', 'step', 'isStarted'],\n  data: function data() {\n    return {};\n  },\n\n  watch: {\n    step: function step(val) {\n      this.animation.setStep(val, true);\n\n      if (val === 2 && previousStep === 1) {\n        this.animation.switchBuildings('wroclavia');\n      }\n\n      if (val === 1 && previousStep === 2) {\n        this.animation.switchBuildings('wpt');\n      }\n\n      previousStep = val;\n    },\n    isActive: function isActive(val) {\n      this.animation.setActive(val);\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var options = {\n      active: this.isActive,\n      debug: this.isDebug,\n      container: this.$refs.scene,\n      exposeScene: false,\n\n      step: 0 };\n\n    this.animation = new __WEBPACK_IMPORTED_MODULE_0__common_Animation_class__[\"a\" /* default */](options);\n    this.animation.init(function (p) {\n      _this.$emit('progress', p);\n    }).then(function () {\n      _this.$emit('loaded');\n      _this.animation.startTrucksAnimation();\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 97:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 99:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[51]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.fc062d06ed3f8e4e549b.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-558b8ed5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!./Landing.scss\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Landing.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-558b8ed5\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Landing.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-558b8ed5\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Landing.vue\n// module id = 100\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-33ea26ba\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 101\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"landing\",\n    staticClass: \"Landing\",\n    class: ['slide-' + _vm.animationDetails.currentStep, {\n      'loaded': _vm.animationDetails.isLoaded,\n      'scrolled': _vm.animationDetails.isScrolled,\n      'scrolling': _vm.animationDetails.isScrolling\n    }]\n  }, [_c('div', {\n    staticClass: \"background\",\n    class: {\n      isOff: !_vm.animationDetails.active\n    }\n  }, [_c('Three', {\n    attrs: {\n      \"isStarted\": _vm.loaded,\n      \"isActive\": _vm.animationDetails.active,\n      \"step\": _vm.animationDetails.renderStep\n    },\n    on: {\n      \"loaded\": _vm.onLoaded,\n      \"progress\": _vm.onProgress\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"background-over\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"background-over-hard\"\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"background-map\"\n  }), _vm._v(\" \"), _vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('section', {\n    attrs: {\n      \"id\": \"slide-2\"\n    }\n  }), _vm._v(\" \"), _vm._m(2), _vm._v(\" \"), _vm._m(3), _vm._v(\" \"), _vm._m(4), _vm._v(\" \"), _c('div', {\n    staticClass: \"loader\"\n  }, [_c('div', {\n    staticClass: \"dot\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"dot\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"dot\"\n  }), _vm._v(\" \"), _c('p', [_vm._v(_vm._s(_vm.progress) + \" %\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"Menu\",\n    class: {\n      isActive: _vm.animationDetails.currentStep > 0\n    }\n  }, [_vm._m(5), _vm._v(\" \"), _vm._m(6)])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-0\"\n    }\n  }, [_c('h1', [_vm._v(\"Przeprowadzamy się.\")]), _vm._v(\" \"), _c('h2', [_vm._v(\"lorem ipsum dolor sit amet\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-1\"\n    }\n  }, [_c('h1', [_vm._v(\"hello world - slide 2\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    attrs: {\n      \"id\": \"slide-3\"\n    }\n  }, [_c('h1', [_vm._v(\"hello world - slide 4\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"mouse\"\n  }, [_c('div', {\n    staticClass: \"scroll-wheel\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"scroll\"\n  }, [_c('p', [_vm._v(\"keep scrolling...\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('a', {\n    staticClass: \"logo\"\n  }, [_c('span', [_vm._v(\"PGS Software\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('ul', [_c('li', [_vm._v(\"About\")]), _vm._v(\" \"), _c('li', [_vm._v(\"Contact\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-558b8ed5\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Landing.vue\n// module id = 102\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"scene\",\n    staticClass: \"Scene\"\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-ba65df48\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Three.vue\n// module id = 103\n// module chunks = 1","import * as THREE from 'three';\r\n\r\nconst PIXEL_STEP = 10;\r\nconst LINE_HEIGHT = 40;\r\nconst PAGE_HEIGHT = 800;\r\n\r\nexport function rad2deg(rad) {\r\n  return rad * (180 / Math.PI);\r\n}\r\n\r\nexport function deg2rad(deg) {\r\n  return deg * (Math.PI / 180);\r\n}\r\n\r\nexport function getPointInBetweenByPerc(pointA, pointB, percentage) {\r\n  let dir = pointB.clone().sub(pointA);\r\n  const len = dir.length();\r\n\r\n  dir = dir.normalize().multiplyScalar(len * percentage);\r\n\r\n  return pointA.clone().add(dir);\r\n}\r\n\r\nexport function v3(x, y, z) {\r\n  return new THREE.Vector3(x, y, z);\r\n}\r\n\r\nexport function v3dir(vA, vB) {\r\n  return new THREE.Vector3().subVectors(vA, vB);\r\n}\r\n\r\nexport function isMobile() {\r\n  return (/iphone|ipod|android|ie|blackberry|fennec/i).test(navigator.userAgent);\r\n}\r\n\r\nexport function pointSpline(percent, spline, upVector) {\r\n  const position = spline.getPointAt(percent);\r\n  const tangent = spline.getTangentAt(percent).normalize();\r\n\r\n  const axis = new THREE.Vector3();\r\n  const up = upVector || new THREE.Vector3(0, 0, -1);\r\n  const radians = Math.acos(up.dot(tangent));\r\n\r\n  axis.crossVectors(up, tangent).normalize();\r\n\r\n  return {\r\n    axis,\r\n    radians,\r\n    position,\r\n  };\r\n}\r\n\r\nexport function applyTransform(object) {\r\n  if (object.children.length > 0) {\r\n    object.children.forEach((child) => {\r\n      child.updateMatrix();\r\n      child.geometry.applyMatrix(child.matrix);\r\n      child.matrix.identity();\r\n      child.scale.set(1, 1, 1);\r\n    });\r\n  }\r\n}\r\n\r\nexport function createPath(object, scale, position) {\r\n  const mesh = new THREE.Mesh(object, new THREE.MeshStandardMaterial());\r\n  mesh.scale.set(scale, scale, scale);\r\n\r\n  if (position) {\r\n    mesh.position.copy(v3(position[0], position[1], position[2]));\r\n  }\r\n\r\n  mesh.updateMatrix();\r\n  mesh.geometry.applyMatrix(mesh.matrix);\r\n  mesh.matrix.identity();\r\n  mesh.scale.set(1, 1, 1);\r\n\r\n  applyTransform(mesh);\r\n\r\n  const spline = new THREE.SplineCurve3(mesh.geometry.vertices);\r\n\r\n  const material = new THREE.LineBasicMaterial({\r\n    color: 0xff00f0,\r\n  });\r\n\r\n  const geometry = new THREE.Geometry();\r\n  const splinePoints = spline.getPoints(50);\r\n  for (let i = 0; i < splinePoints.length; i++) {\r\n    geometry.vertices.push(splinePoints[i]);\r\n  }\r\n\r\n  const line = new THREE.Line(geometry, material);\r\n\r\n  return {\r\n    spline,\r\n    line,\r\n  };\r\n}\r\n\r\n\r\nexport function normalizeWheel(event) {\r\n  let sX = 0;\r\n  let sY = 0; // spinX, spinY\r\n  let pX = 0;\r\n  let pY = 0; // pixelX, pixelY\r\n\r\n  // Legacy\r\n  if ('detail' in event) {\r\n    sY = event.detail;\r\n  }\r\n  if ('wheelDelta' in event) {\r\n    sY = -event.wheelDelta / 120;\r\n  }\r\n  if ('wheelDeltaY' in event) {\r\n    sY = -event.wheelDeltaY / 120;\r\n  }\r\n  if ('wheelDeltaX' in event) {\r\n    sX = -event.wheelDeltaX / 120;\r\n  }\r\n\r\n  // side scrolling on FF with DOMMouseScroll\r\n  if ('axis' in event && event.axis === event.HORIZONTAL_AXIS) {\r\n    sX = sY;\r\n    sY = 0;\r\n  }\r\n\r\n  pX = sX * PIXEL_STEP;\r\n  pY = sY * PIXEL_STEP;\r\n\r\n  if ('deltaY' in event) {\r\n    pY = event.deltaY;\r\n  }\r\n  if ('deltaX' in event) {\r\n    pX = event.deltaX;\r\n  }\r\n\r\n  if ((pX || pY) && event.deltaMode) {\r\n    if (event.deltaMode === 1) { // delta in LINE units\r\n      pX *= LINE_HEIGHT;\r\n      pY *= LINE_HEIGHT;\r\n    } else { // delta in PAGE units\r\n      pX *= PAGE_HEIGHT;\r\n      pY *= PAGE_HEIGHT;\r\n    }\r\n  }\r\n\r\n  // Fall-back if spin cannot be determined\r\n  if (pX && !sX) {\r\n    sX = (pX < 1) ? -1 : 1;\r\n  }\r\n  if (pY && !sY) {\r\n    sY = (pY < 1) ? -1 : 1;\r\n  }\r\n\r\n  return {\r\n    spinX: sX,\r\n    spinY: sY,\r\n    pixelX: pX,\r\n    pixelY: pY,\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/utils.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ba65df48\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Three.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Three.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ba65df48\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Three.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-ba65df48\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Three.vue\n// module id = 43\n// module chunks = 1","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport Landing from '@/components/Landing';\r\nimport Three from '@/components/Three';\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'Landing',\r\n      component: Landing,\r\n    },\r\n    {\r\n      path: '/debug',\r\n      name: 'Three',\r\n      component: Three,\r\n      props: {\r\n        isActive: true,\r\n        isDebug: true,\r\n        isStarted: true,\r\n        step: 2,\r\n      },\r\n    },\r\n  ],\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-33ea26ba\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-33ea26ba\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 45\n// module chunks = 1","/* eslint-disable */\r\nimport * as THREE from 'three';\r\n\r\nimport {\r\n  isFunction,\r\n  throttle,\r\n} from 'lodash';\r\n\r\nimport {\r\n  TweenMax,\r\n  Power0,\r\n  Power4,\r\n} from 'gsap';\r\n\r\nimport {\r\n  // deg2rad,\r\n  applyTransform,\r\n  createPath,\r\n  getPointInBetweenByPerc,\r\n  v3,\r\n  v3dir,\r\n  isMobile,\r\n  pointSpline,\r\n} from './utils';\r\n\r\nimport PlanetLoader from './PlanetLoader.class';\r\n\r\n// INTERNAL VARIABLES\r\nimport {\r\n  CAMERA_SPEED,\r\n  FAKE_LOADING_TIME,\r\n  IMPORT_SCALE,\r\n  MATERIALS,\r\n  MOUSE_CONSTRAINT,\r\n  PATHS,\r\n  POSITIONS,\r\n} from './Animation.const';\r\n\r\n// MODELS PARTIALS SETTINGS\r\nimport {\r\n  ELEMENTS_WPT,\r\n  ELEMENTS_WROCLAVIA,\r\n  PARTIALS_WPT,\r\n  PARTIALS_WROCLAVIA,\r\n} from './Animation.models';\r\n\r\nimport OrbitControls from '../lib/OrbitControls';\r\n\r\nconst IS_MOBILE = isMobile();\r\n\r\n// CLASS IMPLEMENTATION\r\nclass Animation {\r\n  constructor(options) {\r\n    console.log('Animation():', options);\r\n\r\n    this.scene = new THREE.Scene();\r\n    this.clock = new THREE.Clock();\r\n\r\n    this.models = {};\r\n    this.currentModel = options.model || 'wpt';\r\n    this.currentStep = options.step || 0; // 0 -> 0, 1 -> 1 ...\r\n    this.container = options.container;\r\n    this.flags = {\r\n      isActive: options.active,\r\n      isDebug: options.debug,\r\n      exposeScene: options.exposeScene,\r\n      isInitialized: false,\r\n      isLoaded: false,\r\n      isTransition: false,\r\n    };\r\n\r\n    if (this.flags.exposeScene) {\r\n      console.warn('--- Exposing scene to global!');\r\n      window.THREE = THREE;\r\n      window.scene = this.scene;\r\n    }\r\n  }\r\n\r\n  // SCENE OBJECTS\r\n  addCamera() {\r\n    const camera = new THREE.PerspectiveCamera(20, this.WIDTH / this.HEIGHT, 1, 100000);\r\n    camera.lookAt(this.scene.position);\r\n\r\n    this.camera = camera;\r\n  }\r\n\r\n  addHelpers() {\r\n    const axisHelper = new THREE.AxisHelper(10);\r\n    const gridHelper = new THREE.GridHelper(1000, 1000);\r\n\r\n    this.scene.add(axisHelper);\r\n    this.scene.add(gridHelper);\r\n  }\r\n\r\n  loadModels(cb) {\r\n    const loadingManager = new THREE.LoadingManager();\r\n    const loader = new THREE.JSONLoader(loadingManager);\r\n\r\n    this.setCamera(v3(0, 0, 100), v3(0, 0, 0));\r\n    this.animate();\r\n\r\n    return new Promise((resolve) => {\r\n      const wptModel = new THREE.Object3D();\r\n      const wroclaviaModel = new THREE.Object3D();\r\n      const busModel = {};\r\n      const truckModel = {\r\n        splines: [],\r\n      };\r\n\r\n      PARTIALS_WPT\r\n        .filter(partial => (IS_MOBILE ? !partial.mobileHidden : true))\r\n        .forEach((partial) => {\r\n          loader.load(`${PATHS.models}${partial.model}`, (object) => {\r\n            wptModel.add(createModel(object, partial));\r\n          });\r\n        });\r\n\r\n      PARTIALS_WROCLAVIA\r\n        .filter(partial => (IS_MOBILE ? !partial.mobileHidden : true))\r\n        .forEach((partial) => {\r\n          loader.load(`${PATHS.models}${partial.model}`, (object) => {\r\n            wroclaviaModel.add(createModel(object, partial));\r\n          });\r\n        });\r\n\r\n\r\n      /* --- ANIMATION ELEMENTS --- */\r\n\r\n      // 1. Wpt trucks\r\n      loader.load(`${PATHS.models}${ELEMENTS_WPT.truck.model}`, (object) => {\r\n        truckModel.models = []; // new THREE.Object3D();\r\n        truckModel.splines = {\r\n          wpt: [],\r\n          wroclavia: [],\r\n        };\r\n\r\n        for (let i = 0; i < ELEMENTS_WPT.truck.count; i++) {\r\n          const model = createModel(object, ELEMENTS_WPT.truck);\r\n          model.position.x = i / 2;\r\n\r\n          truckModel.models.push(model);\r\n        }\r\n      });\r\n\r\n      // 2. Wpt truck paths\r\n      [\r\n        `${PATHS.models}${ELEMENTS_WPT.path1.model}`,\r\n        `${PATHS.models}${ELEMENTS_WPT.path2.model}`,\r\n        `${PATHS.models}${ELEMENTS_WPT.path3.model}`,\r\n      ].forEach(path => {\r\n        loader.load(path, (object) => {\r\n          const path = createPath(object, IMPORT_SCALE, ELEMENTS_WPT.path1.position);\r\n          truckModel.splines.wpt.push(path.spline);\r\n        });\r\n      })\r\n\r\n      // 3. Wroclavia bus\r\n      loader.load(`${PATHS.models}${ELEMENTS_WROCLAVIA.bus.model}`, (object) => {\r\n        busModel.model = new THREE.Object3D();\r\n        const model = createModel(object, ELEMENTS_WROCLAVIA.bus);\r\n        applyTransform(model);\r\n        busModel.model.add(model);\r\n      });\r\n\r\n      // 4. Wroclavia bus path\r\n      loader.load(`${PATHS.models}${ELEMENTS_WROCLAVIA.busPath.model}`, (object) => {\r\n        const path = createPath(object, IMPORT_SCALE, ELEMENTS_WROCLAVIA.busPath.position);\r\n        busModel.spline = path.spline;\r\n        busModel.line = path.line;\r\n      });\r\n\r\n      // 5. Wroclavia truck paths\r\n      [\r\n        `${PATHS.models}${ELEMENTS_WROCLAVIA.path1.model}`,\r\n        `${PATHS.models}${ELEMENTS_WROCLAVIA.path2.model}`,\r\n        `${PATHS.models}${ELEMENTS_WROCLAVIA.path3.model}`,\r\n      ].forEach(path => {\r\n        loader.load(path, (object) => {\r\n          const path = createPath(object, IMPORT_SCALE, ELEMENTS_WPT.path1.position);\r\n          truckModel.splines.wroclavia.push(path.spline);\r\n        });\r\n      })\r\n\r\n      /* --- LOADING HANDLER --- */\r\n      loadingManager.onProgress = (url, itemsLoaded, itemsTotal) => {\r\n        console.log(`Loading file: ${url} Loaded. ${itemsLoaded} of ${itemsTotal} files.`);\r\n        if (isFunction(cb)) {\r\n          cb(itemsLoaded / itemsTotal);\r\n        }\r\n      };\r\n\r\n      loadingManager.onLoad = () => {\r\n        this.models.wpt = wptModel;\r\n        this.models.wroclavia = wroclaviaModel;\r\n        this.models.bus = busModel;\r\n        this.models.truck = truckModel;\r\n\r\n        this.flags.isLoaded = true;\r\n        resolve();\r\n      };\r\n    });\r\n  }\r\n\r\n  // EVENTS, HANDLERS\r\n\r\n  initRenderer() {\r\n    const renderer = new THREE.WebGLRenderer({\r\n      alpha: true,\r\n      antialias: true,\r\n    });\r\n\r\n    renderer.shadowMap.soft = false;\r\n    renderer.shadowMap.enabled = true;\r\n    renderer.setSize(this.WIDTH, this.HEIGHT);\r\n\r\n    this.container.appendChild(renderer.domElement);\r\n    this.renderer = renderer;\r\n  }\r\n\r\n  initEvents() {\r\n    if (this.flags.isDebug) {\r\n      document.addEventListener('keydown', this.onKeyDown.bind(this));\r\n    } else {\r\n      document.addEventListener('mousemove', throttle(this.onDocumentMouseMove.bind(this), 50), false);\r\n    }\r\n\r\n    window.addEventListener('resize', this.updateSize.bind(this), false);\r\n  }\r\n\r\n  updateSize() {\r\n    this.WIDTH = this.container.offsetWidth;\r\n    this.HEIGHT = this.container.offsetHeight;\r\n\r\n    if (this.flags.isInitialized) {\r\n      this.camera.aspect = this.WIDTH / this.HEIGHT;\r\n      this.camera.updateProjectionMatrix();\r\n      this.renderer.setSize(this.WIDTH, this.HEIGHT);\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  onDocumentMouseMove(event) {\r\n    if (!this.flags.isTransition) {\r\n      this.moveProgress = event.clientX / this.WIDTH;\r\n      this.moveOffset = ((event.clientY - this.HEIGHT) / 2) / (this.HEIGHT / 2);\r\n\r\n      const cameraStart = POSITIONS[this.currentStep][1];\r\n      const cameraEnd = POSITIONS[this.currentStep][2];\r\n\r\n      this.cameraMove = getPointInBetweenByPerc(cameraStart, cameraEnd, this.moveProgress);\r\n      this.cameraMove.y = (this.cameraMove.y - (this.moveOffset * 2)) * MOUSE_CONSTRAINT;\r\n\r\n      this.cursor = {\r\n        x: event.clientX,\r\n        y: event.clientY,\r\n        xProgress: event.clientX / this.WIDTH,\r\n        yProgress: event.clientY / this.Height,\r\n      };\r\n    }\r\n  }\r\n\r\n  onKeyDown(e) {\r\n    switch (e.keyCode) {\r\n      case 83:\r\n        console.log('camera position:', `${this.camera.position.x.toFixed(2)}, ${this.camera.position.y.toFixed(2)}, ${this.camera.position.z.toFixed(2)}`);\r\n        localStorage.setItem(\r\n          \"savedCamera\",\r\n          JSON.stringify({\r\n            cameraPosition: this.camera.position,\r\n            targetPosition: this.controls.target\r\n          })\r\n        );\r\n        break;\r\n      case 68:\r\n        const savedCamera = JSON.parse(localStorage.getItem(\"savedCamera\"));\r\n        if (savedCamera) {\r\n          this.camera.position.copy(savedCamera.cameraPosition);\r\n          this.camera.lookAt(savedCamera.targetPosition);\r\n          this.controls.target.copy(savedCamera.targetPosition);\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  // INTERNALS\r\n  render() {\r\n    this.renderer.render(this.scene, this.camera);\r\n  }\r\n\r\n  animate() {\r\n    if (this.flags.isActive) {\r\n      if (this.flags.isLoaded) {\r\n        if (this.cameraMove && !this.flags.isDebug) {\r\n          const dir = v3dir(this.cameraMove, this.camera.position);\r\n\r\n          this.camera.position.x += dir.x * CAMERA_SPEED;\r\n          this.camera.position.y += dir.y * CAMERA_SPEED;\r\n          this.camera.position.z += dir.z * CAMERA_SPEED;\r\n\r\n          this.camera.lookAt(this.cameraTarget);\r\n        }\r\n\r\n        if (this.flags.isDebug) {\r\n          this.controls.update();\r\n          this.camera.lookAt(POSITIONS[this.currentStep][0]);\r\n        }\r\n      }\r\n\r\n      if (this.flags.debug) {\r\n        this.controls.update();\r\n      }\r\n\r\n      this.render();\r\n    }\r\n\r\n    requestAnimationFrame(this.animate.bind(this));\r\n  }\r\n\r\n  setSceneModel(modelName) {\r\n    this.cameraTarget = POSITIONS[this.currentStep][0];\r\n\r\n    if (modelName === 'wroclavia') {\r\n      this.scene.add(this.models.wroclavia);\r\n    } else {\r\n      this.scene.add(this.models.wpt);\r\n    }\r\n  }\r\n\r\n  setCamera(position, target) {\r\n    this.camera.position.copy(position);\r\n    this.camera.lookAt(target);\r\n  }\r\n\r\n  setCameraByStep(step, addMovement) {\r\n    console.log('setCameraByStep', step, addMovement);\r\n\r\n    const targetStep = step !== undefined ? step : this.currentStep;\r\n    const progress = this.cursor ? this.cursor.xProgress : 0.5;\r\n    console.log('progress', progress);\r\n\r\n    this.setCamera(POSITIONS[targetStep][1], POSITIONS[targetStep][0]);\r\n\r\n    if (addMovement) {\r\n      this.cameraMove = getPointInBetweenByPerc(POSITIONS[targetStep][1], POSITIONS[targetStep][2], progress);\r\n    }\r\n  }\r\n\r\n  setActive(val) {\r\n    console.log('setActive', val);\r\n    this.flags.isActive = val;\r\n  }\r\n\r\n  setStep(val, force) {\r\n    console.log('setStep', force);\r\n\r\n    const progress = this.cursor ? this.cursor.xProgress : 0.5;\r\n    console.log('progress', progress);\r\n\r\n    this.currentStep = val;\r\n    if (force) {\r\n      this.cameraMove = getPointInBetweenByPerc(POSITIONS[val][1], POSITIONS[val][2], progress);\r\n    }\r\n  }\r\n\r\n  startTrucksAnimation(model = 'wpt') {\r\n    for (let i = 0; i < ELEMENTS_WPT.truck.count; i++) {\r\n      const truck = this.models.truck.models[i];\r\n     \r\n      const truckProperties = {\r\n        p: 0,\r\n      };\r\n\r\n      const splines = model === 'wpt' ? this.models.truck.splines.wpt : this.models.truck.splines.wroclavia;\r\n      const spline = splines[Math.floor(Math.random() * splines.length)];\r\n\r\n      this.trucksAnimation = TweenMax.to(truckProperties, \r\n        model === 'wpt' ? 20 : 10, {\r\n        p: 1,\r\n        repeat: -1,\r\n        ease: Power0.easeNone,\r\n        delay: i * 0.5 + Math.random() * 0.5,\r\n        onStart: () => {\r\n          if (!this.scene.getObjectById(truck.id)) {\r\n            this.scene.add(truck);\r\n          }\r\n        },\r\n        onUpdate: () => {\r\n          const point = pointSpline(truckProperties.p, spline);\r\n          truck.position.copy(point.position);\r\n          truck.quaternion.setFromAxisAngle(point.axis, point.radians);\r\n        },\r\n        onComplete: () => {\r\n          this.scene.remove(truck);\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  moveBus(pos = 0.5) { // pos : 0.0 - 1.0\r\n    if (!this.scene.getObjectById(this.models.bus.model.id)) {\r\n      this.scene.add(this.models.bus.model);\r\n    }\r\n\r\n    const point = pointSpline(pos, this.models.bus.spline);\r\n\r\n    this.models.bus.model.position.copy(point.position);\r\n    this.models.bus.model.quaternion.setFromAxisAngle(point.axis, point.radians);\r\n  }\r\n\r\n  startBusAnimation() {\r\n    const bus = {\r\n      progress: 0.4,\r\n    };\r\n\r\n    TweenMax.to(bus, 40, {\r\n      progress: 1,\r\n      repeat: 10,\r\n      onStart: () => {\r\n        if (!this.scene.getObjectById(this.models.bus.model.id)) {\r\n          this.scene.add(this.models.bus.model);\r\n        }\r\n      },\r\n      onUpdate: () => {\r\n        const point = pointSpline(bus.progress, this.models.bus.spline);\r\n        this.models.bus.model.position.copy(point.position);\r\n        this.models.bus.model.quaternion.setFromAxisAngle(point.axis, point.radians);\r\n      },\r\n      onComplete: () => {\r\n        this.scene.remove(this.models.bus.model);\r\n      }\r\n    });\r\n  }\r\n\r\n  switchBuildings(switchTo) {\r\n    console.log('switchBuildings()', switchTo);\r\n    const self = this;\r\n    const paramsOut = {\r\n      p: 0,\r\n      y: 0,\r\n    };\r\n\r\n    const modelA = switchTo === 'wroclavia' ? self.models.wpt : self.models.wroclavia;\r\n    const modelB = switchTo === 'wroclavia' ? self.models.wroclavia : self.models.wpt;\r\n\r\n    const paramsIn = {\r\n      p: 0,\r\n      y: 1 * (Math.PI * 2),\r\n    };\r\n\r\n    let isSwitched = false;\r\n\r\n    this.flags.isTransition = true;\r\n    this.cameraMove = v3(0, 120, 0);\r\n\r\n    console.log('removing all trucks!')\r\n    TweenMax.killAll();\r\n\r\n    for (let i = 0; i < ELEMENTS_WPT.truck.count; i++) {\r\n      const truck = self.models.truck.models[i];\r\n      self.scene.remove(truck);\r\n    }\r\n\r\n    TweenMax.to(paramsOut, 1, {\r\n      p: 1,\r\n      y: (-1 * (Math.PI * 2)) * 1,\r\n      ease: Power4.easeIn,\r\n      onUpdate() {\r\n        modelA.rotation.y = paramsOut.y;\r\n        if (paramsOut.p > 0.5 && !isSwitched) {\r\n\r\n              self.startTrucksAnimation(switchTo);\r\n          self.scene.add(modelB);\r\n          TweenMax.to(paramsIn, 1, {\r\n            p: 1,\r\n            y: 0,\r\n            ease: Power4.easeOut,\r\n            onUpdate() {\r\n              modelB.rotation.y = paramsIn.y;\r\n            },\r\n            onComplete() {\r\n              self.flags.isTransition = false;\r\n              self.setStep(self.currentStep, true);\r\n            },\r\n          });\r\n\r\n          isSwitched = true;\r\n        }\r\n      },\r\n      onComplete() {\r\n        self.scene.remove(modelA);\r\n      },\r\n    });\r\n  }\r\n\r\n  addDebug() {\r\n    const sphereGeometry = new THREE.OctahedronGeometry(0.2, 3);\r\n    const sphereMaterial = new THREE.MeshBasicMaterial({\r\n      color: 0xFFFFFF,\r\n    });\r\n\r\n    const sphere = new THREE.Mesh(sphereGeometry, sphereMaterial);\r\n    sphere.position.copy(POSITIONS[this.currentStep][0]);\r\n\r\n    this.debug = {\r\n      sphere,\r\n    };\r\n\r\n    this.scene.add(sphere);\r\n  }\r\n\r\n  addGUI() {\r\n    const self = this;\r\n    const gui = new dat.GUI();\r\n    const vars = new Variables();\r\n\r\n    const point0Folder = gui.addFolder('Point (0,0)');\r\n    point0Folder.add(vars.point0, 'x').step(0.1).onChange(setPoint0);\r\n    point0Folder.add(vars.point0, 'y').step(0.1).onChange(setPoint0);\r\n    point0Folder.add(vars.point0, 'z').step(0.1).onChange(setPoint0);\r\n\r\n    function setPoint0() {\r\n      POSITIONS[self.currentStep][0].copy(vars.point0);\r\n      self.debug.sphere.position.copy(POSITIONS[self.currentStep][0]);\r\n      self.cameraTarget.copy(POSITIONS[self.currentStep][0]);\r\n    }\r\n\r\n    function Variables() {\r\n      this.point0 = {\r\n        x: POSITIONS[self.currentStep][0].x,\r\n        y: POSITIONS[self.currentStep][0].y,\r\n        z: POSITIONS[self.currentStep][0].z,\r\n      };\r\n\r\n      this.pointA = {\r\n        x: POSITIONS[self.currentStep][1].x,\r\n        y: POSITIONS[self.currentStep][1].y,\r\n        z: POSITIONS[self.currentStep][1].z,\r\n      };\r\n\r\n      this.pointB = {\r\n        x: POSITIONS[self.currentStep][2].x,\r\n        y: POSITIONS[self.currentStep][2].y,\r\n        z: POSITIONS[self.currentStep][2].z,\r\n      };\r\n    }\r\n  }\r\n\r\n  addControls() {\r\n    this.controls = new OrbitControls(this.camera, this.container);\r\n    this.controls.minDistance = 0;\r\n    this.controls.maxDistance = 200;\r\n    this.controls.target.copy(POSITIONS[this.currentStep][0]);\r\n  }\r\n\r\n  // MAIN INIT\r\n  init(cb) {\r\n    return new Promise((resolve) => {\r\n      this.updateSize();\r\n\r\n      this.addCamera();\r\n      // this.addHelpers();\r\n\r\n      this.initRenderer();\r\n      this.render();\r\n\r\n      this.loadModels(cb)\r\n        .then(() => {\r\n          this.initEvents();\r\n          this.setSceneModel(this.currentModel);\r\n          this.setCameraByStep(this.currentStep, true);\r\n          this.flags.isInitialized = true;\r\n\r\n          this.updateSize();\r\n          resolve();\r\n        });\r\n\r\n      if (this.flags.isDebug) {\r\n        console.warn('--- DEBUG MODE ---');\r\n        this.addGUI();\r\n        this.addDebug();\r\n        this.addControls();\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n\r\nfunction createModel(object, options) {\r\n  const scale = IMPORT_SCALE; // * (options.importScale || 1);\r\n  const group = new THREE.Object3D();\r\n\r\n  if (options.edges && !IS_MOBILE) {\r\n    const edgesGeo = new THREE.EdgesGeometry(object);\r\n    const edges = new THREE.LineSegments(edgesGeo, MATERIALS.edgesMat);\r\n    edges.scale.set(scale, scale, scale);\r\n    if (options.position) {\r\n      edges.position.copy(v3(options.position[0], options.position[1], options.position[2]));\r\n    }\r\n\r\n    group.add(edges);\r\n  }\r\n\r\n  if (options.wireframe) {\r\n    const wireframe = new THREE.Mesh(object, MATERIALS.wireframeMat);\r\n    wireframe.scale.set(scale, scale, scale);\r\n    if (options.position) {\r\n      wireframe.position.copy(v3(options.position[0], options.position[1], options.position[2]));\r\n    }\r\n\r\n    group.add(wireframe);\r\n  }\r\n\r\n  if (options.faces && !IS_MOBILE) {\r\n    const faces = new THREE.Mesh(object, MATERIALS.facesMat);\r\n\r\n    faces.scale.set(scale, scale, scale);\r\n    if (options.position) {\r\n      faces.position.copy(v3(options.position[0], options.position[1], options.position[2]));\r\n    }\r\n\r\n    group.add(faces);\r\n  }\r\n\r\n  return group;\r\n}\r\n\r\n\r\nexport default Animation;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Animation.class.js","import * as THREE from 'three';\r\n\r\nimport {\r\n  v3,\r\n} from './utils';\r\n\r\nconst PALLETE = {\r\n  basic: 0x1abc9c,\r\n  faces: 0x05101e,\r\n  accent: 0x3498db,\r\n};\r\n\r\nexport const CAMERA_SPEED = 0.01;\r\n\r\nexport const FAKE_LOADING_TIME = 0.1; // seconds\r\n\r\nexport const IMPORT_SCALE = 0.1;\r\n\r\nexport const MOUSE_CONSTRAINT = 0.8;\r\n\r\nexport const PATHS = {\r\n    models: '/static/models/',\r\n};\r\n\r\nexport const POSITIONS = [\r\n  [v3(-2.4, 1.6, -1.40), v3(-15.14, 78.55, 105.96), v3(-57.59, 42.19, 73.77)],\r\n  [v3(-0.3, 0.9, -1.7), v3(-1.28, 0.89, 5.41), v3(0.56, 5.53, 20.24)], // camera, pointA, pointB\r\n  [v3(4.4, 2, 2), v3(-13.03, 12.97, -30.59), v3(-51.45, 29.01, 23.44)],\r\n];\r\n\r\nconst edgesMat = new THREE.LineBasicMaterial({\r\n  color: PALLETE.basic,\r\n  linewidth: 2,\r\n});\r\n\r\nconst edgesMatAccent = new THREE.LineBasicMaterial({\r\n  color: PALLETE.accent,\r\n  lineWidth: 4,\r\n  blending: THREE.AdditiveBlending,\r\n});\r\n\r\nconst wireframeMat = new THREE.MeshBasicMaterial({\r\n  color: PALLETE.basic,\r\n  side: THREE.DoubleSide,\r\n  transparent: true,\r\n  opacity: 0.2,\r\n  wireframe: true,\r\n  blending: THREE.AdditiveBlending,\r\n});\r\n\r\nconst facesMat = new THREE.MeshBasicMaterial({\r\n  color: PALLETE.faces,\r\n  side: THREE.DoubleSide,\r\n  transparent: true,\r\n  opacity: 0.2,\r\n  // blending: THREE.AdditiveBlending\r\n});\r\n\r\nconst facesMatAccent = new THREE.MeshBasicMaterial({\r\n  color: PALLETE.accent,\r\n  side: THREE.DoubleSide,\r\n  transparent: true,\r\n  opacity: 0.9,\r\n  blending: THREE.AdditiveBlending,\r\n});\r\n\r\nexport const MATERIALS = {\r\n    edgesMat,\r\n    edgesMatAccent,\r\n    wireframeMat,\r\n    facesMat,\r\n    facesMatAccent,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Animation.const.js","const PARTIAL_BASE_WPT = 'wpt';\r\nconst PARTIAL_BASE_WROCLAVIA = 'wroclavia';\r\n\r\nexport const PARTIALS_WPT = [\r\n  {\r\n    model: `${PARTIAL_BASE_WPT}-buildings.json`,\r\n    edges: true,\r\n    wireframe: true,\r\n    faces: false,\r\n    mobileHidden: true,\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WPT}-terrain.json`,\r\n    edges: false,\r\n    wireframe: true,\r\n    faces: false,\r\n    position: [0, -0.25, 0],\r\n    mobileHidden: true,\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WPT}-green.json`,\r\n    edges: true,\r\n    wireframe: false,\r\n    faces: true,\r\n    mobileHidden: true,\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WPT}-building-alfa.json`,\r\n    edges: true,\r\n    wireframe: true,\r\n    faces: true,\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WPT}-roads.json`,\r\n    edges: false,\r\n    wireframe: true,\r\n    faces: true,\r\n  },\r\n];\r\n\r\nexport const PARTIALS_WROCLAVIA = [\r\n   {\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-buildings.json`,\r\n    edges: true,\r\n    wireframe: true,\r\n    faces: true,\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-terrain.json`,\r\n    edges: false,\r\n    wireframe: true,\r\n    faces: false,\r\n    position: [0, 0, 0],\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-full.json`,\r\n    edges: true,\r\n    wireframe: true,\r\n    faces: true,\r\n  },\r\n  {\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-roads.json`,\r\n    edges: false,\r\n    wireframe: true,\r\n    faces: true,\r\n  },\r\n];\r\n\r\nexport const ELEMENTS_WPT = {\r\n  truck: {\r\n    model: `${PARTIAL_BASE_WPT}-truck.json`,\r\n    edges: false,\r\n    wireframe: true,\r\n    faces: false,\r\n    position: [0, 0, 0],\r\n    count: 200,\r\n  },\r\n  path1: {\r\n    model: `${PARTIAL_BASE_WPT}-truck-path1.json`,\r\n    position: [0, 0.15, 0],\r\n  },\r\n  path2: {\r\n    model: `${PARTIAL_BASE_WPT}-truck-path2.json`,\r\n    position: [0, 0.15, 0],\r\n  },\r\n  path3: {\r\n    model: `${PARTIAL_BASE_WPT}-truck-path3.json`,\r\n    position: [0, 0.15, 0],\r\n  },\r\n};\r\n\r\nexport const ELEMENTS_WROCLAVIA = {\r\n  bus: {\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-bus.json`,\r\n    edges: false,\r\n    wireframe: true,\r\n    faces: false,\r\n    position: [0, 0, 0],\r\n  },\r\n  busPath: {\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-bus-path.json`,\r\n    position: [0, 0.9, 0],\r\n  },\r\n  path1: {\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-truck-path1.json`,\r\n    position: [0, 0.15, 0],\r\n  },\r\n  path2: {\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-truck-path2.json`,\r\n    position: [0, 0.15, 0],\r\n  },\r\n  path3: {\r\n    model: `${PARTIAL_BASE_WROCLAVIA}-truck-path3.json`,\r\n    position: [0, 0.15, 0],\r\n  },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/Animation.models.js","import * as THREE from 'three';\r\n\r\nimport {\r\n  TweenMax,\r\n  Power4,\r\n} from 'gsap';\r\n\r\nconst PALLETE = {\r\n  blue: 0x3498db,\r\n  green: 0x2ecc71,\r\n  orange: 0xee5624,\r\n  darkOrange: 0xd35400,\r\n  yellow: 0x34495e,\r\n};\r\n\r\nconst DEFAULTS = {\r\n  noise: 0.2,\r\n  radius: 3,\r\n  radius_outer_factor: 1.2,\r\n  rotate_speed: 0.03,\r\n  scale_speed: 2,\r\n};\r\n\r\nexport default class PlanetLoader {\r\n  constructor(size) {\r\n    this.isActive = false;\r\n    this.progress = 0;\r\n    this.previous = 0;\r\n    this.scaleFactor = 0;\r\n    this.scale = 1;\r\n    this.size = size || DEFAULTS.radius;\r\n    this.mesh = new THREE.Object3D();\r\n\r\n    this.planet = createPlanet(this.size);\r\n    this.wireframe = createWireframe(this.size * DEFAULTS.radius_outer_factor);\r\n\r\n    this.mesh.add(this.planet);\r\n    this.mesh.add(this.wireframe);\r\n\r\n    this.addLights();\r\n  }\r\n\r\n  addLights() {\r\n    const ambientLight = new THREE.AmbientLight(0x663344, 2);\r\n    this.mesh.add(ambientLight);\r\n\r\n    const light = new THREE.DirectionalLight(0xffffff, 1.5);\r\n    light.position.set(200, 100, 200);\r\n    // light.castShadow = true;\r\n    light.shadow.camera.left = -400;\r\n    light.shadow.camera.right = 400;\r\n    light.shadow.camera.top = 400;\r\n    light.shadow.camera.bottom = -400;\r\n    light.shadow.camera.near = 1;\r\n    light.shadow.camera.far = 1000;\r\n    light.shadow.mapSize.width = 2048;\r\n    light.shadow.mapSize.height = 2048;\r\n\r\n    this.mesh.add(light);\r\n  }\r\n\r\n  update() {\r\n    if (this.isActive) {\r\n      // this.updateScale(scale);\r\n\r\n      this.planet.rotation.z -= DEFAULTS.rotate_speed / 10;\r\n      this.planet.rotation.y -= DEFAULTS.rotate_speed;\r\n\r\n      this.wireframe.rotation.z += DEFAULTS.rotate_speed / 2;\r\n      this.wireframe.rotation.y -= DEFAULTS.rotate_speed / 2;\r\n\r\n      this.mesh.scale.set(this.scale, this.scale, this.scale);\r\n    }\r\n  }\r\n\r\n  updateScale(t) {\r\n    this.scale = 1 - ((Math.abs(Math.sin(t * DEFAULTS.scale_speed)) / 6) + this.scaleFactor);\r\n  }\r\n\r\n  getMesh() {\r\n    return this.mesh;\r\n  }\r\n\r\n  clearFaces() {\r\n    const facesLength = this.planet.geometry.faces.length;\r\n    for (let i = 0; i < facesLength; i += 1) {\r\n      this.planet.material.materials[i] = getMaterial(PALLETE.orange, true);\r\n      this.planet.material.materials[i].needsUpdate = true;\r\n    }\r\n  }\r\n\r\n  activate() {\r\n    this.isActive = true;\r\n  }\r\n\r\n  updateFaces(p) {\r\n    const facesLength = this.planet.geometry.faces.length;\r\n    const curr = Math.min(Math.ceil((facesLength * p) + 1), facesLength);\r\n    // console.log('this.previous', this.previous)\r\n    // console.log('curr', curr)\r\n\r\n    for (let i = this.previous; i < curr; i += 1) {\r\n      this.planet.material.materials[i] = getMaterial(PALLETE.orange);\r\n      this.planet.material.materials[i].needsUpdate = true;\r\n    }\r\n\r\n    this.previous = Math.max(this.progress - 1, 0);\r\n    this.progress = curr;\r\n  }\r\n\r\n  dispose() {\r\n    return new Promise((resolve) => {\r\n      const o = {\r\n        progress: 1,\r\n      };\r\n\r\n      TweenMax.to(o, 0.1, {\r\n        progress: 0,\r\n        ease: Power4.easeIn,\r\n        onUpdate: () => {\r\n          this.scale = o.progress;\r\n        },\r\n        onComplete: () => {\r\n          resolve();\r\n        },\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nfunction createPlanet(size) {\r\n  const geometry = new THREE.TetrahedronGeometry(size, 2);\r\n\r\n  const material = getMaterial(PALLETE.orange, true);\r\n  const materials = [];\r\n\r\n  const facesLength = geometry.faces.length;\r\n  for (let i = 0; i < facesLength; i += 1) {\r\n    materials.push(material);\r\n  }\r\n\r\n  // randomize vertices\r\n  for (let i = 0; i < geometry.vertices.length; i += 1) {\r\n    const v = geometry.vertices[i];\r\n    v.x += -(DEFAULTS.noise / 2) + (Math.random() * DEFAULTS.noise);\r\n    v.y += -(DEFAULTS.noise / 2) + (Math.random() * DEFAULTS.noise);\r\n    v.z += -(DEFAULTS.noise / 2) + (Math.random() * DEFAULTS.noise);\r\n  }\r\n\r\n  for (let i = 0; i < facesLength; i += 1) {\r\n    geometry.faces[i].materialIndex = i;\r\n  }\r\n\r\n  const mesh = new THREE.Mesh(geometry, new THREE.MultiMaterial(materials));\r\n  mesh.castShadow = true;\r\n  mesh.receiveShadow = true;\r\n\r\n  return mesh;\r\n}\r\n\r\nfunction createWireframe(size) {\r\n  const geometryWireframe = new THREE.TetrahedronGeometry(size, 2);\r\n  const materialWireframe = getMaterial(PALLETE.blue, true, true, 0.25, THREE.AdditiveBlending);\r\n\r\n  const mesh = new THREE.Mesh(geometryWireframe, materialWireframe);\r\n\r\n  return mesh;\r\n}\r\n\r\nfunction getMaterial(color, wireframe = false, transparent = false, opacity = 1, blending = THREE.NoBlending) {\r\n  const mat = !wireframe ? new THREE.MeshStandardMaterial({\r\n    color,\r\n    shading: THREE.FlatShading,\r\n    wireframe,\r\n    transparent,\r\n    opacity,\r\n    blending,\r\n    side: THREE.DoubleSide,\r\n    emissive: 0x270000,\r\n    roughness: 0.9,\r\n  }) : new THREE.MeshBasicMaterial({\r\n    color,\r\n    shading: THREE.FlatShading,\r\n    wireframe,\r\n    transparent,\r\n    opacity,\r\n    blending,\r\n    side: THREE.DoubleSide,\r\n  });\r\n\r\n  return mat;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/PlanetLoader.class.js","/* eslint-disable */\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finger swipe\nconst THREE = window.THREE || require('three');\n\nfunction OrbitControls( object, domElement ) {\n\n\tthis.object = object;\n\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new THREE.Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.25;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new THREE.Vector3();\n\t\tvar lastQuaternion = new THREE.Quaternion();\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t// restrict theta to be between desired limits\n\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\t\t\tscope.target.add( panOffset );\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new THREE.Spherical();\n\tvar sphericalDelta = new THREE.Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new THREE.Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new THREE.Vector2();\n\tvar rotateEnd = new THREE.Vector2();\n\tvar rotateDelta = new THREE.Vector2();\n\n\tvar panStart = new THREE.Vector2();\n\tvar panEnd = new THREE.Vector2();\n\tvar panDelta = new THREE.Vector2();\n\n\tvar dollyStart = new THREE.Vector2();\n\tvar dollyEnd = new THREE.Vector2();\n\tvar dollyDelta = new THREE.Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new THREE.Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new THREE.Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\t//console.log( 'handleMouseDownRotate' );\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\t//console.log( 'handleMouseDownDolly' );\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\t//console.log( 'handleMouseDownPan' );\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\t//console.log( 'handleMouseMoveRotate' );\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\t//console.log( 'handleMouseMoveDolly' );\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\t//console.log( 'handleMouseMovePan' );\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( event ) {\n\n\t\t// console.log( 'handleMouseUp' );\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\t// console.log( 'handleMouseWheel' );\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\t//console.log( 'handleKeyDown' );\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tscope.update();\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\t//console.log( 'handleTouchStartRotate' );\n\n\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\t//console.log( 'handleTouchStartDolly' );\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\t//console.log( 'handleTouchStartPan' );\n\n\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\t//console.log( 'handleTouchMoveRotate' );\n\n\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\n\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n\t\t// rotating across whole screen goes 360 degrees around\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\t//console.log( 'handleTouchMoveDolly' );\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\t//console.log( 'handleTouchMovePan' );\n\n\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\tpanDelta.subVectors( panEnd, panStart );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleTouchEnd( event ) {\n\n\t\t//console.log( 'handleTouchEnd' );\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onMouseDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase scope.mouseButtons.ORBIT:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.ZOOM:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase scope.mouseButtons.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( startEvent ); // not sure why these are here...\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\t// one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\t// two-fingered touch: dolly\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleTouchStartDolly( event );\n\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1: // one-fingered touch: rotate\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2: // two-fingered touch: dolly\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\n\n\t\t\t\thandleTouchMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 3: // three-fingered touch: pan\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\twindow.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nOrbitControls.prototype.constructor = THREE.OrbitControls;\n\nObject.defineProperties(OrbitControls.prototype, {\n\n\tcenter: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\n\t\t\treturn this.target;\n\n\t\t}\n\n\t},\n\n\t// backward compatibility\n\n\tnoZoom: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\treturn ! this.enableZoom;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n\t\t\tthis.enableZoom = ! value;\n\n\t\t}\n\n\t},\n\n\tnoRotate: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\treturn ! this.enableRotate;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n\t\t\tthis.enableRotate = ! value;\n\n\t\t}\n\n\t},\n\n\tnoPan: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\treturn ! this.enablePan;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n\t\t\tthis.enablePan = ! value;\n\n\t\t}\n\n\t},\n\n\tnoKeys: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\treturn ! this.enableKeys;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n\t\t\tthis.enableKeys = ! value;\n\n\t\t}\n\n\t},\n\n\tstaticMoving: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\treturn ! this.enableDamping;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n\t\t\tthis.enableDamping = ! value;\n\n\t\t}\n\n\t},\n\n\tdynamicDampingFactor: {\n\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\treturn this.dampingFactor;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n\t\t\tthis.dampingFactor = value;\n\n\t\t}\n\n\t}\n\n} );\n\n\nexport default OrbitControls;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/OrbitControls.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue';\r\n// import Buefy from 'buefy';\r\n// import 'buefy/lib/buefy.css';\r\n\r\nimport App from './App';\r\nimport router from './router';\r\n\r\n// Vue.use(Buefy);\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  template: '<App/>',\r\n  components: { App },\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\r\n  <div id=\"app\">\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'app',\r\n  };\r\n\r\n</script>\r\n\r\n<style>\r\n  @import url('https://fonts.googleapis.com/css?family=Lato:100,400,700');\r\n  /* global styles */\r\n\r\n  html,\r\n  body {\r\n    height: 100vh;\r\n    overflow: hidden;\r\n    margin: 0;\r\n  }\r\n\r\n  #app {\r\n    font-family: 'Open Sans', Helvetica, Arial, sans-serif;\r\n    font-size: 20px;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    overflow: hidden;\r\n    height: 100vh;\r\n    width: 100%;\r\n    display: flex;\r\n    background: #181919 linear-gradient(30deg, #1c403d, #181919);\r\n    background: #011727 linear-gradient(15deg, #05101e, #112E3E);\r\n  }\r\n\r\n  div.dg.ac {\r\n    z-index: 1000;\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?779f81b7","<template>\r\n  <div class=\"Landing\" :class=\"['slide-' + animationDetails.currentStep, { \r\n      'loaded': animationDetails.isLoaded, \r\n      'scrolled' : animationDetails.isScrolled, \r\n      'scrolling' : animationDetails.isScrolling }]\" ref=\"landing\">\r\n    <div class=\"background\" :class=\"{ isOff: !animationDetails.active}\">\r\n      <Three :isStarted=\"loaded\" :isActive=\"animationDetails.active\" :step=\"animationDetails.renderStep\" @loaded=\"onLoaded\" @progress=\"onProgress\"></Three>\r\n      <div class=\"background-over\"></div>\r\n      <div class=\"background-over-hard\"></div>\r\n    </div>\r\n    <div class=\"background-map\"></div>\r\n\r\n    <section id=\"slide-0\">\r\n      <h1>Przeprowadzamy się.</h1>\r\n      <h2>lorem ipsum dolor sit amet</h2>\r\n    </section>\r\n\r\n    <section id=\"slide-1\">\r\n      <h1>hello world - slide 2</h1>\r\n    </section>\r\n\r\n    <section id=\"slide-2\">\r\n    </section>\r\n\r\n    <section id=\"slide-3\">\r\n      <h1>hello world - slide 4</h1>\r\n    </section>\r\n\r\n    <div class=\"mouse\">\r\n      <div class=\"scroll-wheel\"></div>\r\n    </div>\r\n\r\n    <div class=\"scroll\">\r\n      <p>keep scrolling...</p>\r\n    </div>\r\n\r\n    <div class=\"loader\">\r\n      <div class=\"dot\"></div>\r\n      <div class=\"dot\"></div>\r\n      <div class=\"dot\"></div>\r\n      <p>{{ progress }} %</p>\r\n    </div>\r\n\r\n    <div class=\"Menu\" :class=\"{ isActive: animationDetails.currentStep > 0 }\">\r\n      <a class=\"logo\"><span>PGS Software</span></a>\r\n      <ul>\r\n        <li>About</li>\r\n        <li>Contact</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  /* --eslint-disable */\r\n  import {\r\n    throttle,\r\n  } from 'lodash';\r\n\r\n  import Three from './Three';\r\n\r\n  import {\r\n    normalizeWheel,\r\n  } from './../common/utils';\r\n\r\n  const scrollSettings = {\r\n    sensivity: 9,\r\n    duration: 600,\r\n  };\r\n\r\n  const touch = {\r\n    x: 0,\r\n    y: 0,\r\n  };\r\n\r\n  const animationDetails = {\r\n    active: true,\r\n    animatedSteps: [0, 1, 2],\r\n    animationMap: {\r\n      0: 0,\r\n      1: 1,\r\n      2: 2,\r\n      3: 2,\r\n    },\r\n    currentStep: 0,\r\n    isLoaded: false,\r\n    isScrolled: false,\r\n    isScrolling: false,\r\n    renderStep: 0,\r\n    totalSlides: 6,\r\n  };\r\n\r\n  let ticking = false;\r\n\r\n  export default {\r\n    name: 'landing',\r\n    components: {\r\n      Three,\r\n    },\r\n    data() {\r\n      return {\r\n        animationDetails,\r\n        progress: 0,\r\n        loaded: false,\r\n        imageLoaded: false,\r\n      };\r\n    },\r\n    methods: {\r\n      onLoaded() {\r\n        animationDetails.isLoaded = true;\r\n      },\r\n      onProgress(p) {\r\n        this.progress = Math.ceil(p * 100);\r\n      },\r\n    },\r\n    mounted() {\r\n      const wheelEventName = 'onwheel' in document.createElement('div') ? 'wheel' : // Modern browsers support \"wheel\"\r\n        document.onmousewheel !== undefined ? 'mousewheel' : // Webkit and IE support at least \"mousewheel\"\r\n        'DOMMouseScrol'; // let's assume that remaining browsers are older Firefox\r\n      window.addEventListener(wheelEventName, throttle(fullPageScroll, 60), false);\r\n      window.addEventListener('touchstart', throttle(onTouchStart, 60), false);\r\n      window.addEventListener('touchend', throttle(onTouchEnd, 60), false);\r\n    },\r\n  };\r\n\r\n  function onTouchStart(e) {\r\n    touch.x = e.touches[0].clientX;\r\n    touch.y = e.touches[0].clientY;\r\n  }\r\n\r\n  function onTouchEnd(e) {\r\n    const delta = {\r\n      x: e.changedTouches[0].clientX - touch.x,\r\n      y: e.changedTouches[0].clientY - touch.y,\r\n    };\r\n\r\n    const wheelDelta = Math.abs(delta.x) > Math.abs(delta.y) ? delta.x : delta.y;\r\n\r\n    fullPageScroll({\r\n      wheelDelta,\r\n    });\r\n\r\n    touch.x = 0;\r\n    touch.y = 0;\r\n  }\r\n\r\n  function fullPageScroll(e) {\r\n    const delta = normalizeWheel(e).pixelY;\r\n\r\n    if (ticking !== true && animationDetails.isLoaded) {\r\n      if (delta >= -scrollSettings.sensivity) { // nextItem\r\n        ticking = true;\r\n        if (animationDetails.currentStep !== animationDetails.totalSlides - 1) {\r\n          animationDetails.currentStep++;\r\n        }\r\n        scrollItems();\r\n        slideDurationTimeout(scrollSettings.duration);\r\n      }\r\n\r\n      if (delta <= scrollSettings.sensivity) { // prevItem\r\n        ticking = true;\r\n        if (animationDetails.currentStep !== 0) {\r\n          animationDetails.currentStep--;\r\n        }\r\n\r\n        scrollItems();\r\n        slideDurationTimeout(scrollSettings.duration);\r\n      }\r\n    }\r\n  }\r\n\r\n  function slideDurationTimeout(slideDuration) {\r\n    setTimeout(() => {\r\n      ticking = false;\r\n    }, slideDuration);\r\n  }\r\n\r\n  function scrollItems() {\r\n    animationDetails.isScrolling = true;\r\n    setTimeout(() => {\r\n      animationDetails.isScrolling = false; // @todo: add checking if on last step\r\n    }, 3500);\r\n\r\n    animationDetails.active = animationDetails.animatedSteps.reduce(\r\n      (prev, n) => animationDetails.currentStep === n || prev, false);\r\n\r\n    const mappedStep = animationDetails.animationMap[animationDetails.currentStep];\r\n\r\n    if (mappedStep !== undefined) {\r\n      animationDetails.renderStep = mappedStep;\r\n    }\r\n\r\n    if (!animationDetails.isScrolled) {\r\n      animationDetails.isScrolled = true;\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" src=\"./Landing.scss\" scoped></style>\r\n\n\n\n// WEBPACK FOOTER //\n// Landing.vue?11fed9c1","<template>\r\n  <div class=\"Scene\" ref=\"scene\"></div>\r\n</template>\r\n\r\n<script>\r\n  import Animation from '../common/Animation.class';\r\n\r\n  let previousStep = 0;\r\n\r\n  export default {\r\n    name: 'threeDebug',\r\n    props: ['isActive', 'isDebug', 'step', 'isStarted'],\r\n    data() {\r\n      return {};\r\n    },\r\n    watch: {\r\n      step(val) {\r\n        this.animation.setStep(val, true);\r\n\r\n        if (val === 2 && previousStep === 1) {\r\n          this.animation.switchBuildings('wroclavia');\r\n        }\r\n\r\n        if (val === 1 && previousStep === 2) {\r\n          this.animation.switchBuildings('wpt');\r\n        }\r\n\r\n        previousStep = val;\r\n      },\r\n      isActive(val) {\r\n        this.animation.setActive(val);\r\n      },\r\n    },\r\n    mounted() {\r\n      const options = {\r\n        active: this.isActive,\r\n        debug: this.isDebug,\r\n        container: this.$refs.scene,\r\n        exposeScene: false,\r\n        // model: 'wroclavia', // TODO: debug set initial model\r\n        step: 0, // this.step,\r\n      };\r\n\r\n      this.animation = new Animation(options);\r\n      this.animation.init((p) => {\r\n          this.$emit('progress', p);\r\n        })\r\n        .then(() => {\r\n          this.$emit('loaded');\r\n          this.animation.startTrucksAnimation();\r\n        });\r\n    },\r\n  };\r\n\r\n</script>\r\n\r\n<style scoped>\r\n  .Scene {\r\n    flex: 1;\r\n    z-index: 10;\r\n    /*background-color: #181919;*/\r\n    position: absolute;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    color: #FFF;\r\n    align-content: center;\r\n    justify-content: center;\r\n    opacity: 1;\r\n  }\r\n\r\n  .Scene::after {\r\n    content: \"\";\r\n    background-size: cover;\r\n    opacity: 0.25;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    position: absolute;\r\n    z-index: 0;\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Three.vue?46d5ddd1"],"sourceRoot":""}